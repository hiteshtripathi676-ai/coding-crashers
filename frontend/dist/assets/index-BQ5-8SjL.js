var Lo=Object.defineProperty;var qs=e=>{throw TypeError(e)};var Do=(e,s,i)=>s in e?Lo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var Qn=(e,s,i)=>Do(e,typeof s!="symbol"?s+"":s,i),fs=(e,s,i)=>s.has(e)||qs("Cannot "+i);var $=(e,s,i)=>(fs(e,s,"read from private field"),i?i.call(e):s.get(e)),Qt=(e,s,i)=>s.has(e)?qs("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),qt=(e,s,i,a)=>(fs(e,s,"write to private field"),a?a.call(e,i):s.set(e,i),i),Xt=(e,s,i)=>(fs(e,s,"access private method"),i);var pr=(e,s,i,a)=>({set _(o){qt(e,s,o,i)},get _(){return $(e,s,a)}});function _mergeNamespaces(e,s){for(var i=0;i<s.length;i++){const a=s[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(e,s,i){var a,o={},c=null,d=null;if(s!=null)for(a in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(o[a]=s[a]);var g=arguments.length-2;if(g===1)o.children=i;else if(1<g){for(var h=Array(g),b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}if(e&&e.defaultProps)for(a in g=e.defaultProps,g)o[a]===void 0&&(o[a]=g[a]);return{$$typeof:l$1,type:e,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):s.toString(36)}function R$1(e,s,i,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,o=o(d),e=a===""?"."+Q$1(d,0):a,I$1(o)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(o,s,i,"",function(b){return b})):o!=null&&(O$1(o)&&(o=N$1(o,i+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),s.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var g=0;g<e.length;g++){c=e[g];var h=a+Q$1(c,g);d+=R$1(c,s,i,h,o)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),g=0;!(c=e.next()).done;)c=c.value,h=a+Q$1(c,g++),d+=R$1(c,s,i,h,o);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return s.call(i,c,o++)}),a}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(o=""+s.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(h in s)J.call(s,h)&&!L$1.hasOwnProperty(h)&&(a[h]=s[h]===void 0&&g!==void 0?g[h]:s[h])}var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){g=Array(h);for(var b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$2;react_production_min.createFactory=function(e){var s=M$2.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$2,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React__default=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:React__default},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var a,o={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(a in s)m$1.call(s,a)&&!p$1.hasOwnProperty(a)&&(o[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)o[a]===void 0&&(o[a]=s[a]);return{$$typeof:k,type:e,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(zt,xt){var At=zt.length;zt.push(xt);e:for(;0<At;){var Lt=At-1>>>1,St=zt[Lt];if(0<o(St,xt))zt[Lt]=xt,zt[At]=St,At=Lt;else break e}}function i(zt){return zt.length===0?null:zt[0]}function a(zt){if(zt.length===0)return null;var xt=zt[0],At=zt.pop();if(At!==xt){zt[0]=At;e:for(var Lt=0,St=zt.length,st=St>>>1;Lt<st;){var lt=2*(Lt+1)-1,Et=zt[lt],Pt=lt+1,Rt=zt[Pt];if(0>o(Et,At))Pt<St&&0>o(Rt,Et)?(zt[Lt]=Rt,zt[Pt]=At,Lt=Pt):(zt[Lt]=Et,zt[lt]=At,Lt=lt);else if(Pt<St&&0>o(Rt,At))zt[Lt]=Rt,zt[Pt]=At,Lt=Pt;else break e}}return xt}function o(zt,xt){var At=zt.sortIndex-xt.sortIndex;return At!==0?At:zt.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var h=[],b=[],_=1,j=null,rt=3,_e=!1,ct=!1,it=!1,ut=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(zt){for(var xt=i(b);xt!==null;){if(xt.callback===null)a(b);else if(xt.startTime<=zt)a(b),xt.sortIndex=xt.expirationTime,s(h,xt);else break;xt=i(b)}}function ht(zt){if(it=!1,at(zt),!ct)if(i(h)!==null)ct=!0,Ht(ot);else{var xt=i(b);xt!==null&&Ut(ht,xt.startTime-zt)}}function ot(zt,xt){ct=!1,it&&(it=!1,nt(ft),ft=-1),_e=!0;var At=rt;try{for(at(xt),j=i(h);j!==null&&(!(j.expirationTime>xt)||zt&&!mt());){var Lt=j.callback;if(typeof Lt=="function"){j.callback=null,rt=j.priorityLevel;var St=Lt(j.expirationTime<=xt);xt=e.unstable_now(),typeof St=="function"?j.callback=St:j===i(h)&&a(h),at(xt)}else a(h);j=i(h)}if(j!==null)var st=!0;else{var lt=i(b);lt!==null&&Ut(ht,lt.startTime-xt),st=!1}return st}finally{j=null,rt=At,_e=!1}}var pt=!1,dt=null,ft=-1,gt=5,kt=-1;function mt(){return!(e.unstable_now()-kt<gt)}function Ct(){if(dt!==null){var zt=e.unstable_now();kt=zt;var xt=!0;try{xt=dt(!0,zt)}finally{xt?Dt():(pt=!1,dt=null)}}else pt=!1}var Dt;if(typeof et=="function")Dt=function(){et(Ct)};else if(typeof MessageChannel<"u"){var Zt=new MessageChannel,$t=Zt.port2;Zt.port1.onmessage=Ct,Dt=function(){$t.postMessage(null)}}else Dt=function(){ut(Ct,0)};function Ht(zt){dt=zt,pt||(pt=!0,Dt())}function Ut(zt,xt){ft=ut(function(){zt(e.unstable_now())},xt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(zt){zt.callback=null},e.unstable_continueExecution=function(){ct||_e||(ct=!0,Ht(ot))},e.unstable_forceFrameRate=function(zt){0>zt||125<zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<zt?Math.floor(1e3/zt):5},e.unstable_getCurrentPriorityLevel=function(){return rt},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(zt){switch(rt){case 1:case 2:case 3:var xt=3;break;default:xt=rt}var At=rt;rt=xt;try{return zt()}finally{rt=At}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(zt,xt){switch(zt){case 1:case 2:case 3:case 4:case 5:break;default:zt=3}var At=rt;rt=zt;try{return xt()}finally{rt=At}},e.unstable_scheduleCallback=function(zt,xt,At){var Lt=e.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Lt+At:Lt):At=Lt,zt){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=At+St,zt={id:_++,callback:xt,priorityLevel:zt,startTime:At,expirationTime:St,sortIndex:-1},At>Lt?(zt.sortIndex=At,s(b,zt),i(h)===null&&zt===i(b)&&(it?(nt(ft),ft=-1):it=!0,Ut(ht,At-Lt))):(zt.sortIndex=St,s(h,zt),ct||_e||(ct=!0,Ht(ot))),zt},e.unstable_shouldYield=mt,e.unstable_wrapCallback=function(zt){var xt=rt;return function(){var At=rt;rt=xt;try{return zt.apply(this,arguments)}finally{rt=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,a){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,a){if(s===null||typeof s>"u"||pa(e,s,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(e,s,i,a,o,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v$1(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v$1(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v$1(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v$1(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v$1(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v$1(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v$1(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v$1(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v$1(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v$1(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v$1(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v$1(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v$1(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,a){var o=z.hasOwnProperty(s)?z[s]:null;(o!==null?o.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,o,a)&&(i=null),a||o===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):o.mustUseProperty?e[o.propertyName]=i===null?o.type===3?!1:"":i:(s=o.attributeName,a=o.attributeNamespace,i===null?e.removeAttribute(s):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,a?e.setAttributeNS(a,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var a=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){a=b}e.call(s.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var o=b.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,g=c.length-1;1<=d&&0<=g&&o[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==c[g]){var h=`
`+o[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),a=s.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,a){if(e=e.options,s){s={};for(var o=0;o<i.length;o++)s["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=s.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}s!==null||e[o].disabled||(s=e[o])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),a=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,a,o){MSApp.execUnsafeLocalFunction(function(){return e(s,i,a,o)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var a=i.indexOf("--")===0,o=rb(i,s[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,o):e[i]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,a,o,c,d,g,h){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,a,o,c,d,g,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,a,o,c,d,g,h){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,a=s;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return Xb(o),e;if(c===a)return Xb(o),s;c=c.sibling}throw Error(p(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,a=c;break}if(g===a){d=!0,a=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=o;break}if(g===a){d=!0,a=c,i=o;break}g=g.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==a)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var g=d&~o;g!==0?a=tc(g):(c&=d,c!==0&&(a=tc(c)))}else d=i&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(s!==0&&s!==a&&!(s&o)&&(o=a&-a,c=s&-s,o>=c||o===16&&(c&4194240)!==0))return s;if(a&4&&(a|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)i=31-oc(s),o=1<<i,a|=e[i],s&=~o;return a}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,h=o[d];h===-1?(!(g&i)||g&a)&&(o[d]=vc(g,s)):h<=s&&(e.expiredLanes|=g),c&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-oc(i),c=1<<o;s[o]=0,a[o]=-1,e[o]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var a=31-oc(i),o=1<<a;o&s|e[a]&s&&(e[a]|=s),i&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),e)}function Uc(e,s,i,a,o){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,a,o)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function gd(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function fd(e,s,i,a){if(dd){var o=Yc(e,s,i,a);if(o===null)hd(e,s,a,id$2,i),Sc(e,a);else if(Uc(o,e,s,i,a))a.stopPropagation();else if(Sc(e,a),s&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,s,i,a),c===null&&hd(e,s,a,id$2,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,s,a,null,i)}}var id$2=null;function Yc(e,s,i,a){if(id$2=null,e=xb(a),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<i&&s[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&s[i-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe=!1;function ge$1(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$1=!1;function je(e,s){switch(e){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe=!0,ee$1);case"textInput":return e=s.data,e===ee$1&&fe?null:e;default:return null}}function ke(e,s){if(ie$1)return e==="compositionend"||!ae$1&&ge$1(e,s)?(e=nd(),md=ld=kd=null,ie$1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de$1&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le$1[e.type]:s==="textarea"}function ne$1(e,s,i,a){Eb(a),s=oe$1(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,a),e.push({event:i,listeners:s}))}var pe$1=null,qe=null;function re(e){se$1(e,0)}function te$1(e){var s=ue$1(e);if(Wa(s))return e}function ve$1(e,s){if(e==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(e){if(e.propertyName==="value"&&te$1(qe)){var s=[];ne$1(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe$1=s,qe=i,pe$1.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe)}function Ee(e,s){if(e==="click")return te$1(s)}function Fe(e,s){if(e==="input"||e==="change")return te$1(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!ja.call(s,o)||!He(e[o],s[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=s&&a>=s)return{node:i,offset:s-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,a=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var o=i.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(i,c);var d=Ke(i,a);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(e,s,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te$1||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe$1(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:a}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var a=e.type||"unknown-event";e.currentTarget=i,Ub(a,s,void 0,e),e.currentTarget=null}function se$1(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(s)for(var d=a.length-1;0<=d;d--){var g=a[d],h=g.instance,b=g.currentTarget;if(g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}else for(d=0;d<a.length;d++){if(g=a[d],h=g.instance,b=g.currentTarget,g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var a=e+"__bubble";i.has(a)||(pf(s,e,2,!1),i.add(a))}function qf(e,s,i){var a=0;s&&(a|=4),pf(i,e,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,a){switch(jd(s)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}i=o.bind(null,s,i,e),o=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(s,i,{capture:!0,passive:o}):e.addEventListener(s,i,!0):o!==void 0?e.addEventListener(s,i,{passive:o}):e.addEventListener(s,i,!1)}function hd(e,s,i,a,o){var c=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(h=d.tag,h===5||h===6){a=c=d;continue e}g=g.parentNode}}a=a.return}Jb(function(){var b=c,_=xb(i),j=[];e:{var rt=df.get(e);if(rt!==void 0){var _e=td,ct=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":ct="focus",_e=Fd;break;case"focusout":ct="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e$1:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var it=(s&4)!==0,ut=!it&&e==="scroll",nt=it?rt!==null?rt+"Capture":null:rt;it=[];for(var et=b,at;et!==null;){at=et;var ht=at.stateNode;if(at.tag===5&&ht!==null&&(at=ht,nt!==null&&(ht=Kb(et,nt),ht!=null&&it.push(tf(et,ht,at)))),ut)break;et=et.return}0<it.length&&(rt=new _e(rt,ct,null,i,_),j.push({event:rt,listeners:it}))}}if(!(s&7)){e:{if(rt=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",rt&&i!==wb&&(ct=i.relatedTarget||i.fromElement)&&(Wc(ct)||ct[uf]))break e;if((_e||rt)&&(rt=_.window===_?_:(rt=_.ownerDocument)?rt.defaultView||rt.parentWindow:window,_e?(ct=i.relatedTarget||i.toElement,_e=b,ct=ct?Wc(ct):null,ct!==null&&(ut=Vb(ct),ct!==ut||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(_e=null,ct=b),_e!==ct)){if(it=Bd,ht="onMouseLeave",nt="onMouseEnter",et="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,ht="onPointerLeave",nt="onPointerEnter",et="pointer"),ut=_e==null?rt:ue$1(_e),at=ct==null?rt:ue$1(ct),rt=new it(ht,et+"leave",_e,i,_),rt.target=ut,rt.relatedTarget=at,ht=null,Wc(_)===b&&(it=new it(nt,et+"enter",ct,i,_),it.target=at,it.relatedTarget=ut,ht=it),ut=ht,_e&&ct)t:{for(it=_e,nt=ct,et=0,at=it;at;at=vf(at))et++;for(at=0,ht=nt;ht;ht=vf(ht))at++;for(;0<et-at;)it=vf(it),et--;for(;0<at-et;)nt=vf(nt),at--;for(;et--;){if(it===nt||nt!==null&&it===nt.alternate)break t;it=vf(it),nt=vf(nt)}it=null}else it=null;_e!==null&&wf(j,rt,_e,it,!1),ct!==null&&ut!==null&&wf(j,ut,ct,it,!0)}}e:{if(rt=b?ue$1(b):window,_e=rt.nodeName&&rt.nodeName.toLowerCase(),_e==="select"||_e==="input"&&rt.type==="file")var ot=ve$1;else if(me$1(rt))if(we$1)ot=Fe;else{ot=De;var pt=Ce}else(_e=rt.nodeName)&&_e.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(e,b))){ne$1(j,ot,i,_);break e}pt&&pt(e,rt,b),e==="focusout"&&(pt=rt._wrapperState)&&pt.controlled&&rt.type==="number"&&cb(rt,"number",rt.value)}switch(pt=b?ue$1(b):window,e){case"focusin":(me$1(pt)||pt.contentEditable==="true")&&(Qe=pt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(j,i,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,i,_)}var dt;if(ae$1)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ie$1?ge$1(e,i)&&(ft="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(de$1&&i.locale!=="ko"&&(ie$1||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ie$1&&(dt=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),pt=oe$1(b,ft),0<pt.length&&(ft=new Ld(ft,e,null,i,_),j.push({event:ft,listeners:pt}),dt?ft.data=dt:(dt=he$1(i),dt!==null&&(ft.data=dt)))),(dt=ce$1?je(e,i):ke(e,i))&&(b=oe$1(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,i,_),j.push({event:_,listeners:b}),_.data=dt))}se$1(j,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe$1(e,s){for(var i=s+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,i),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,s),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,a,o){for(var c=s._reactName,d=[];i!==null&&i!==a;){var g=i,h=g.alternate,b=g.stateNode;if(h!==null&&h===a)break;g.tag===5&&b!==null&&(g=b,o?(h=Kb(i,c),h!=null&&d.unshift(tf(i,h,g))):o||(h=Kb(i,c),h!=null&&d.push(tf(i,h,g)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),bd(s);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in i)o[c]=s[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var o in a)if(!(o in s))throw Error(p(108,Ra(e)||"Unknown",o));return A({},i,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var a=e.stateNode;if(!a)throw Error(p(169));i?(e=bg(e,s,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),i+=1;var c=32-oc(s)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(s)+o|i<<o|a,sg=c+e}else rg=1<<c|i<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var a=xg;s&&Cg(e,s)?Ag(a,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var a=i.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var g=o.refs;d===null?delete g[c]:g[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(nt,et){if(e){var at=nt.deletions;at===null?(nt.deletions=[et],nt.flags|=16):at.push(et)}}function i(nt,et){if(!e)return null;for(;et!==null;)s(nt,et),et=et.sibling;return null}function a(nt,et){for(nt=new Map;et!==null;)et.key!==null?nt.set(et.key,et):nt.set(et.index,et),et=et.sibling;return nt}function o(nt,et){return nt=Pg(nt,et),nt.index=0,nt.sibling=null,nt}function c(nt,et,at){return nt.index=at,e?(at=nt.alternate,at!==null?(at=at.index,at<et?(nt.flags|=2,et):at):(nt.flags|=2,et)):(nt.flags|=1048576,et)}function d(nt){return e&&nt.alternate===null&&(nt.flags|=2),nt}function g(nt,et,at,ht){return et===null||et.tag!==6?(et=Qg(at,nt.mode,ht),et.return=nt,et):(et=o(et,at),et.return=nt,et)}function h(nt,et,at,ht){var ot=at.type;return ot===ya?_(nt,et,at.props.children,ht,at.key):et!==null&&(et.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===et.type)?(ht=o(et,at.props),ht.ref=Lg(nt,et,at),ht.return=nt,ht):(ht=Rg(at.type,at.key,at.props,null,nt.mode,ht),ht.ref=Lg(nt,et,at),ht.return=nt,ht)}function b(nt,et,at,ht){return et===null||et.tag!==4||et.stateNode.containerInfo!==at.containerInfo||et.stateNode.implementation!==at.implementation?(et=Sg(at,nt.mode,ht),et.return=nt,et):(et=o(et,at.children||[]),et.return=nt,et)}function _(nt,et,at,ht,ot){return et===null||et.tag!==7?(et=Tg(at,nt.mode,ht,ot),et.return=nt,et):(et=o(et,at),et.return=nt,et)}function j(nt,et,at){if(typeof et=="string"&&et!==""||typeof et=="number")return et=Qg(""+et,nt.mode,at),et.return=nt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case va:return at=Rg(et.type,et.key,et.props,null,nt.mode,at),at.ref=Lg(nt,null,et),at.return=nt,at;case wa:return et=Sg(et,nt.mode,at),et.return=nt,et;case Ha:var ht=et._init;return j(nt,ht(et._payload),at)}if(eb(et)||Ka(et))return et=Tg(et,nt.mode,at,null),et.return=nt,et;Mg(nt,et)}return null}function rt(nt,et,at,ht){var ot=et!==null?et.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return ot!==null?null:g(nt,et,""+at,ht);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===ot?h(nt,et,at,ht):null;case wa:return at.key===ot?b(nt,et,at,ht):null;case Ha:return ot=at._init,rt(nt,et,ot(at._payload),ht)}if(eb(at)||Ka(at))return ot!==null?null:_(nt,et,at,ht,null);Mg(nt,at)}return null}function _e(nt,et,at,ht,ot){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return nt=nt.get(at)||null,g(et,nt,""+ht,ot);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return nt=nt.get(ht.key===null?at:ht.key)||null,h(et,nt,ht,ot);case wa:return nt=nt.get(ht.key===null?at:ht.key)||null,b(et,nt,ht,ot);case Ha:var pt=ht._init;return _e(nt,et,at,pt(ht._payload),ot)}if(eb(ht)||Ka(ht))return nt=nt.get(at)||null,_(et,nt,ht,ot,null);Mg(et,ht)}return null}function ct(nt,et,at,ht){for(var ot=null,pt=null,dt=et,ft=et=0,gt=null;dt!==null&&ft<at.length;ft++){dt.index>ft?(gt=dt,dt=null):gt=dt.sibling;var kt=rt(nt,dt,at[ft],ht);if(kt===null){dt===null&&(dt=gt);break}e&&dt&&kt.alternate===null&&s(nt,dt),et=c(kt,et,ft),pt===null?ot=kt:pt.sibling=kt,pt=kt,dt=gt}if(ft===at.length)return i(nt,dt),I&&tg(nt,ft),ot;if(dt===null){for(;ft<at.length;ft++)dt=j(nt,at[ft],ht),dt!==null&&(et=c(dt,et,ft),pt===null?ot=dt:pt.sibling=dt,pt=dt);return I&&tg(nt,ft),ot}for(dt=a(nt,dt);ft<at.length;ft++)gt=_e(dt,nt,ft,at[ft],ht),gt!==null&&(e&&gt.alternate!==null&&dt.delete(gt.key===null?ft:gt.key),et=c(gt,et,ft),pt===null?ot=gt:pt.sibling=gt,pt=gt);return e&&dt.forEach(function(mt){return s(nt,mt)}),I&&tg(nt,ft),ot}function it(nt,et,at,ht){var ot=Ka(at);if(typeof ot!="function")throw Error(p(150));if(at=ot.call(at),at==null)throw Error(p(151));for(var pt=ot=null,dt=et,ft=et=0,gt=null,kt=at.next();dt!==null&&!kt.done;ft++,kt=at.next()){dt.index>ft?(gt=dt,dt=null):gt=dt.sibling;var mt=rt(nt,dt,kt.value,ht);if(mt===null){dt===null&&(dt=gt);break}e&&dt&&mt.alternate===null&&s(nt,dt),et=c(mt,et,ft),pt===null?ot=mt:pt.sibling=mt,pt=mt,dt=gt}if(kt.done)return i(nt,dt),I&&tg(nt,ft),ot;if(dt===null){for(;!kt.done;ft++,kt=at.next())kt=j(nt,kt.value,ht),kt!==null&&(et=c(kt,et,ft),pt===null?ot=kt:pt.sibling=kt,pt=kt);return I&&tg(nt,ft),ot}for(dt=a(nt,dt);!kt.done;ft++,kt=at.next())kt=_e(dt,nt,ft,kt.value,ht),kt!==null&&(e&&kt.alternate!==null&&dt.delete(kt.key===null?ft:kt.key),et=c(kt,et,ft),pt===null?ot=kt:pt.sibling=kt,pt=kt);return e&&dt.forEach(function(Ct){return s(nt,Ct)}),I&&tg(nt,ft),ot}function ut(nt,et,at,ht){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var ot=at.key,pt=et;pt!==null;){if(pt.key===ot){if(ot=at.type,ot===ya){if(pt.tag===7){i(nt,pt.sibling),et=o(pt,at.props.children),et.return=nt,nt=et;break e}}else if(pt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===pt.type){i(nt,pt.sibling),et=o(pt,at.props),et.ref=Lg(nt,pt,at),et.return=nt,nt=et;break e}i(nt,pt);break}else s(nt,pt);pt=pt.sibling}at.type===ya?(et=Tg(at.props.children,nt.mode,ht,at.key),et.return=nt,nt=et):(ht=Rg(at.type,at.key,at.props,null,nt.mode,ht),ht.ref=Lg(nt,et,at),ht.return=nt,nt=ht)}return d(nt);case wa:e:{for(pt=at.key;et!==null;){if(et.key===pt)if(et.tag===4&&et.stateNode.containerInfo===at.containerInfo&&et.stateNode.implementation===at.implementation){i(nt,et.sibling),et=o(et,at.children||[]),et.return=nt,nt=et;break e}else{i(nt,et);break}else s(nt,et);et=et.sibling}et=Sg(at,nt.mode,ht),et.return=nt,nt=et}return d(nt);case Ha:return pt=at._init,ut(nt,et,pt(at._payload),ht)}if(eb(at))return ct(nt,et,at,ht);if(Ka(at))return it(nt,et,at,ht);Mg(nt,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,et!==null&&et.tag===6?(i(nt,et.sibling),et=o(et,at),et.return=nt,nt=et):(i(nt,et),et=Qg(at,nt.mode,ht),et.return=nt,nt=et),d(nt)):i(nt,et)}return ut}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,a){var o=s.interleaved;return o===null?(i.next=i,gh(s)):(i.next=o.next,o.next=i),s.interleaved=i,ih(e,a)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s,ih(e,i)}return o=a.interleaved,o===null?(s.next=s,gh(a)):(s.next=o.next,o.next=s),a.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=s:c=c.next=s}else o=c=s;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var h=g,b=h.next;h.next=null,d===null?c=b:d.next=b,d=h;var _=e.alternate;_!==null&&(_=_.updateQueue,g=_.lastBaseUpdate,g!==d&&(g===null?_.firstBaseUpdate=b:g.next=b,_.lastBaseUpdate=h))}if(c!==null){var j=o.baseState;d=0,_=b=h=null,g=c;do{var rt=g.lane,_e=g.eventTime;if((a&rt)===rt){_!==null&&(_=_.next={eventTime:_e,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var ct=e,it=g;switch(rt=s,_e=i,it.tag){case 1:if(ct=it.payload,typeof ct=="function"){j=ct.call(_e,j,rt);break e}j=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=it.payload,rt=typeof ct=="function"?ct.call(_e,j,rt):ct,rt==null)break e;j=A({},j,rt);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,rt=o.effects,rt===null?o.effects=[g]:rt.push(g))}else _e={eventTime:_e,lane:rt,tag:g.tag,payload:g.payload,callback:g.callback,next:null},_===null?(b=_=_e,h=j):_=_.next=_e,d|=rt;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;rt=g,g=rt.next,rt.next=null,o.lastBaseUpdate=rt,o.shared.pending=null}}while(!0);if(_===null&&(h=j),o.baseState=h,o.firstBaseUpdate=b,o.lastBaseUpdate=_,s=o.shared.interleaved,s!==null){o=s;do d|=o.lane,o=o.next;while(o!==s)}else c===null&&(o.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=j}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],o=a.callback;if(o!==null){if(a.callback=null,a=i,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh$1,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh$1,e),G(uh,i))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,a,o,c){if(Hh=c,M$1=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(a,o)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M$1=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M$1.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M$1.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M$1.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=i.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,i.pending=null}if(o!==null){c=o.next,a=a.baseState;var g=d=null,h=null,b=c;do{var _=b.lane;if((Hh&_)===_)h!==null&&(h=h.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:e(a,b.action);else{var j={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};h===null?(g=h=j,d=a):h=h.next=j,M$1.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);h===null?d=a:h.next=g,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=d,s.baseQueue=h,i.lastRenderedState=a}if(e=i.interleaved,e!==null){o=e;do c=o.lane,M$1.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=s.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,s){var i=M$1,a=Uh(),o=s(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,i,a,e),[e]),a.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,a,o,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,o)}return o}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,a){s.value=i,s.getSnapshot=a,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M$1,e),[s.memoizedState,e]}function bi(e,s,i,a){return e={tag:e,create:s,destroy:i,deps:a,next:null},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,a){var o=Th();M$1.flags|=e,o.memoizedState=bi(1|s,i,void 0,a===void 0?null:a)}function li(e,s,i,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(s,i,c,a);return}}M$1.flags|=e,o.memoizedState=bi(1|s,i,c,a)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M$1.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,s,i){var a=yi(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,a),i!==null){var o=R();gi(i,e,a,o),Bi(i,s,a)}}function ii(e,s,i){var a=yi(e),o={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,He(g,d)){var h=s.interleaved;h===null?(o.next=o,gh(s)):(o.next=h.next,h.next=o),s.interleaved=o;return}}catch{}finally{}i=hh(e,s,o,a),i!==null&&(o=R(),gi(i,e,a,o),Bi(i,s,a))}}function zi(e){var s=e.alternate;return e===M$1||s!==null&&s===M$1}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var a=Th();return s=i!==void 0?i(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=xi.bind(null,M$1,e),[a.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var a=M$1,o=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,i)}o.memoizedState=i;var c={value:i,getSnapshot:s};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,a){s=e.memoizedState,i=i(a,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),a=yi(e),o=mh(i,a);o.tag=2,s!=null&&(o.callback=s),s=nh(e,o,a),s!==null&&(gi(s,e,a,i),oh(s,e,a))}};function Fi(e,s,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,a)||!Ie(o,c):!0}function Gi(e,s,i){var a=!1,o=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(s)?Xf:H.current,a=s.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,a),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,a){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(s)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),o.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,i,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",a=s;do i+=Pa(a),a=a.return;while(a);var o=i}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:o,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var a=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=s.value;i.payload=function(){return a(o)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(s,o)}else o=a.get(s),o===void 0&&(o=new Set,a.set(s,o));o.has(i)||(o.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,a){s.child=e===null?Vg(s,null,i,a):Ug(s,e.child,i,a)}function Yi(e,s,i,a,o){i=i.render;var c=s.ref;return ch(s,o),a=Nh(e,s,i,a,c,o),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,a,o),s.child)}function $i(e,s,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,a,o)):(e=Rg(i.type,null,a,s,s.mode,o),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,a)&&e.ref===s.ref)return Zi(e,s,o)}return s.flags|=1,e=Pg(c,a),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===s.ref)if(dh=!1,s.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,o)}return cj(e,s,i,a,o)}function dj(e,s,i){var a=s.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|i,s.memoizedState=null):a=i,G(ej,fj),fj|=a;return Xi(e,s,o,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,a,o){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,o),i=Nh(e,s,i,a,c,o),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&a&&vg(s),s.flags|=1,Xi(e,s,i,o),s.child)}function hj(e,s,i,a,o){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,o),s.stateNode===null)ij(e,s),Gi(s,i,a),Ii(s,i,a,o),a=!0;else if(e===null){var d=s.stateNode,g=s.memoizedProps;d.props=g;var h=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var _=i.getDerivedStateFromProps,j=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==a||h!==b)&&Hi(s,d,a,b),jh=!1;var rt=s.memoizedState;d.state=rt,qh(s,a,d,o),h=s.memoizedState,g!==a||rt!==h||Wf.current||jh?(typeof _=="function"&&(Di(s,i,_,a),h=s.memoizedState),(g=jh||Fi(s,i,g,a,rt,h,b))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=h),d.props=a,d.state=h,d.context=b,a=g):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{d=s.stateNode,lh(e,s),g=s.memoizedProps,b=s.type===s.elementType?g:Ci(s.type,g),d.props=b,j=s.pendingProps,rt=d.context,h=i.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(i)?Xf:H.current,h=Yf(s,h));var _e=i.getDerivedStateFromProps;(_=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||rt!==h)&&Hi(s,d,a,h),jh=!1,rt=s.memoizedState,d.state=rt,qh(s,a,d,o);var ct=s.memoizedState;g!==j||rt!==ct||Wf.current||jh?(typeof _e=="function"&&(Di(s,i,_e,a),ct=s.memoizedState),(b=jh||Fi(s,i,b,a,rt,ct,h)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,ct,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,ct,h)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&rt===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&rt===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=ct),d.props=a,d.state=ct,d.context=h,a=b):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&rt===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&rt===e.memoizedState||(s.flags|=1024),a=!1)}return jj(e,s,i,a,c,o)}function jj(e,s,i,a,o,c){gj(e,s);var d=(s.flags&128)!==0;if(!a&&!d)return o&&dg(s,i,!1),Zi(e,s,c);a=s.stateNode,Wi.current=s;var g=d&&typeof i.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,g,c)):Xi(e,s,g,c),s.memoizedState=a.state,o&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,a,o){return Ig(),Jg(o),s.flags|=256,Xi(e,s,i,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var a=s.pendingProps,o=L.current,c=!1,d=(s.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=a.children,e=a.fallback,c?(a=s.mode,c=s.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),e=Tg(e,a,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return rj(e,s,d,a,g,o,i);if(c){c=a.fallback,d=s.mode,o=e.child,g=o.sibling;var h={mode:"hidden",children:a.children};return!(d&1)&&s.child!==o?(a=s.child,a.childLanes=0,a.pendingProps=h,s.deletions=null):(a=Pg(o,h),a.subtreeFlags=o.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,a.return=s,a.sibling=c,s.child=a,a=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=i),a.return=s,a.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=a,s.memoizedState=null,a}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,a){return a!==null&&Jg(a),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,a,o,c,d){if(i)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(e,s,d,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=a.fallback,o=s.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=s,c.return=s,a.sibling=c,s.child=a,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var g=a.dgst;return a=g,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,s,d,a)}if(g=(d&e.childLanes)!==0,dh||g){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,s,d,a)}return o.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),o._reactRetry=s,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function xj(e,s,i){var a=s.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,s,a.children,i),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(o){case"forwards":for(i=s.child,o=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=s.child,s.child=null):(o=i.sibling,i.sibling=null),wj(s,!1,o,i,c);break;case"backwards":for(i=null,o=s.child,s.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){s.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,o=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(i&s.childLanes)!==0,e.flags&128){if(a)return xj(e,s,i);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,a){var o=e.memoizedProps;if(o!==a){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(i,a);var d;i=null;for(b in o)if(!a.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var g=o[b];for(d in g)g.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in a){var h=a[b];if(g=o!=null?o[b]:void 0,a.hasOwnProperty(b)&&h!==g&&(h!=null||g!=null))if(b==="style")if(g){for(d in g)!g.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in h)h.hasOwnProperty(d)&&g[d]!==h[d]&&(i||(i={}),i[d]=h[d])}else i||(c||(c=[]),c.push(b,i)),i=h;else b==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,g=g?g.__html:void 0,h!=null&&g!==h&&(c=c||[]).push(b,h)):b==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(b,""+h):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(h!=null&&b==="onScroll"&&D("scroll",e),c||g===h||(c=[])):(c=c||[]).push(b,h))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,a){i!==a&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(s)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,s}function Ej(e,s,i){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var o=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,a,o),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){a=s.stateNode,i=s.type;var c=s.memoizedProps;switch(a[Of]=s,a[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(i,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?a.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,s.updateQueue=a,a!==null&&(s.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(i,{is:a.is}):(e=d.createElement(i),i==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=a,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,a),i){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(i,o),g=o;for(c in g)if(g.hasOwnProperty(c)){var h=g[c];c==="style"?sb(e,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):c==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",e):h!=null&&ta(e,c,h,d))}switch(i){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,i=s.memoizedProps,a[Of]=s,(c=a.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(a=(s.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=i,i=s.child;i!==null;)c=i,e=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304)}else{if(!a)if(e=Ch(d),e!==null){if(s.flags|=128,a=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,a?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(e,s,a)}else i.current=null}function Mj(e,s,i){try{i()}catch(a){W(e,s,a)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,h=-1,b=0,_=0,j=e,rt=null;t:for(;;){for(var _e;j!==i||o!==0&&j.nodeType!==3||(g=d+o),j!==c||a!==0&&j.nodeType!==3||(h=d+a),j.nodeType===3&&(d+=j.nodeValue.length),(_e=j.firstChild)!==null;)rt=j,j=_e;for(;;){if(j===e)break t;if(rt===i&&++b===o&&(g=d),rt===c&&++_===a&&(h=d),(_e=j.nextSibling)!==null)break;j=rt,rt=j.parentNode}j=_e}i=g===-1||h===-1?null:{start:g,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var ct=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var it=ct.memoizedProps,ut=ct.memoizedState,nt=s.stateNode,et=nt.getSnapshotBeforeUpdate(s.elementType===s.type?it:Ci(s.type,it),ut);nt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var at=s.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ht){W(s,s.return,ht)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return ct=Nj,Nj=!1,ct}function Pj(e,s,i){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(s,i,c)}o=o.next}while(o!==a)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,s,i),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:a=X$1,o=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),o=o.next}while(o!==a)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(g){W(i,s,g)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Yj(e,s,i),U=a):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(a){var o=bk.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];try{var c=e,d=s,g=d;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(c,d,o),X$1=null,Xj=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(b){W(o,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(it){W(e,e.return,it)}try{Pj(5,e,e.return)}catch(it){W(e,e.return,it)}}break;case 1:ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(it){W(e,e.return,it)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,g=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(g,d);var b=vb(g,c);for(d=0;d<h.length;d+=2){var _=h[d],j=h[d+1];_==="style"?sb(o,j):_==="dangerouslySetInnerHTML"?nb(o,j):_==="children"?ob(o,j):ta(o,_,j,b)}switch(g){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var rt=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var _e=c.value;_e!=null?fb(o,!!c.multiple,_e,!1):rt!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(it){W(e,e.return,it)}}break;case 6:if(ck(s,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(it){W(e,e.return,it)}}break;case 3:if(ck(s,e),ek(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(it){W(e,e.return,it)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(s,e),U=b):ck(s,e),ek(e),a&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for(j=V=_;V!==null;){switch(rt=V,_e=rt.child,rt.tag){case 0:case 11:case 14:case 15:Pj(4,rt,rt.return);break;case 1:Lj(rt,rt.return);var ct=rt.stateNode;if(typeof ct.componentWillUnmount=="function"){a=rt,i=rt.return;try{s=a,ct.props=s.memoizedProps,ct.state=s.memoizedState,ct.componentWillUnmount()}catch(it){W(a,i,it)}}break;case 5:Lj(rt,rt.return);break;case 22:if(rt.memoizedState!==null){gk(j);continue}}_e!==null?(_e.return=rt,V=_e):gk(j)}_=_.sibling}e:for(_=null,j=e;;){if(j.tag===5){if(_===null){_=j;try{o=j.stateNode,b?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=j.stateNode,h=j.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,g.style.display=rb("display",d))}catch(it){W(e,e.return,it)}}}else if(j.tag===6){if(_===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(it){W(e,e.return,it)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;_===j&&(_=null),j=j.return}_===j&&(_=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(s,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var a=i;break e}i=i.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,g=Uj(e);Vj(e,g,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var g=o.alternate,h=g!==null&&g.memoizedState!==null||U;g=Jj;var b=U;if(Jj=d,(U=h)&&!b)for(V=o;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(o):h!==null?(h.return=d,V=h):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=g,U=b}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(i===null)a.componentDidMount();else{var o=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);a.componentDidUpdate(o,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,a);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var g=s.stateNode;if(i===null&&s.flags&4){i=g;var h=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var j=_.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(rt){W(s,s.return,rt)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(h){W(s,i,h)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var o=s.return;try{a.componentDidMount()}catch(h){W(s,o,h)}}var c=s.return;try{Rj(s)}catch(h){W(s,c,h)}break;case 5:var d=s.return;try{Rj(s)}catch(h){W(s,d,h)}}}catch(h){W(s,s.return,h)}if(s===e){V=null;break}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,a),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var a=uc(e,e===Q?Z:0);if(a===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Ik(e,a);else{s=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=c,K=o,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(o=xc(e),o!==0&&(a=o,s=Nk(e,o))),s===1)throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;if(s===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(s=Ik(e,a),s===2&&(c=xc(e),c!==0&&(a=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;switch(e.finishedWork=o,e.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(s=e.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=s[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),a=1<<i;e[i]=-1,s&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var a=xc(e);a!==0&&(s=a,i=Nk(e,a))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,a=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=a,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],a=i.interleaved,a!==null){i.interleaved=null;var o=a.next,c=i.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}i.pending=a}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M$1.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M$1=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,g=i,h=s;if(s=Z,g.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var b=h,_=g,j=_.tag;if(!(_.mode&1)&&(j===0||j===11||j===15)){var rt=_.alternate;rt?(_.updateQueue=rt.updateQueue,_.memoizedState=rt.memoizedState,_.lanes=rt.lanes):(_.updateQueue=null,_.memoizedState=null)}var _e=Ui(d);if(_e!==null){_e.flags&=-257,Vi(_e,d,g,c,s),_e.mode&1&&Si(c,b,s),s=_e,h=b;var ct=s.updateQueue;if(ct===null){var it=new Set;it.add(h),s.updateQueue=it}else ct.add(h);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}h=Error(p(426))}}else if(I&&g.mode&1){var ut=Ui(d);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Vi(ut,d,g,c,s),Jg(Ji(h,g));break e}}c=h=Ji(h,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var nt=Ni(c,h,s);ph(c,nt);break e;case 1:g=h;var et=c.type,at=c.stateNode;if(!(c.flags&128)&&(typeof et.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Ri===null||!Ri.has(at)))){c.flags|=65536,s&=-s,c.lanes|=s;var ht=Qi(c,g,s);ph(c,ht);break e}}c=c.return}while(c!==null)}Sk(i)}catch(ot){s=ot,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var a=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(o){Mk(e,o)}while(!0);if($g(),K=i,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,a)}finally{ok.transition=o,C=a}return null}function Wk(e,s,i,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var o=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=g,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(a=e.onRecoverableError,i=0;i<s.length;i++)o=s[i],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var h=0;h<g.length;h++){var b=g[h];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var j=_.child;if(j!==null)j.return=_,V=j;else for(;V!==null;){_=V;var rt=_.sibling,_e=_.return;if(Sj(_),_===b){V=null;break}if(rt!==null){rt.return=_e,V=rt;break}V=_e}}}var ct=c.alternate;if(ct!==null){var it=ct.child;if(it!==null){ct.child=null;do{var ut=it.sibling;it.sibling=null,it=ut}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var nt=c.sibling;if(nt!==null){nt.return=c.return,V=nt;break e}V=c.return}}var et=e.current;for(V=et;V!==null;){d=V;var at=d.child;if(d.subtreeFlags&2064&&at!==null)at.return=d,V=at;else e:for(d=et;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(ot){W(g,g.return,ot)}if(g===d){V=null;break e}var ht=g.sibling;if(ht!==null){ht.return=g.return,V=ht;break e}V=g.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var a=e.pingCache;a!==null&&a.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(e,s),e=s.pendingProps;var o=Yf(s,H.current);ch(s,i),o=Nh(null,s,a,e,o,i);var c=Sh();return s.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(c=!0,cg(s)):c=!1,s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(s),o.updater=Ei,s.stateNode=o,o._reactInternals=s,Ii(s,a,e,i),s=jj(null,s,a,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,o,i),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,o=a._init,a=o(a._payload),s.type=a,o=s.tag=Zk(a),e=Ci(a,e),o){case 0:s=cj(null,s,a,e,i);break e;case 1:s=hj(null,s,a,e,i);break e;case 11:s=Yi(null,s,a,e,i);break e;case 14:s=$i(null,s,a,Ci(a.type,e),i);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),cj(e,s,a,o,i);case 1:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),hj(e,s,a,o,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));a=s.pendingProps,c=s.memoizedState,o=c.element,lh(e,s),qh(s,a,null,i);var d=s.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){o=Ji(Error(p(423)),s),s=lj(e,s,a,i,o);break e}else if(a!==o){o=Ji(Error(p(424)),s),s=lj(e,s,a,i,o);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,a,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===o){s=Zi(e,s,i);break e}Xi(e,s,a,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),a=s.type,o=s.pendingProps,c=e!==null?e.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Ug(s,null,a,i):Xi(e,s,a,i),s.child;case 11:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),Yi(e,s,a,o,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(a=s.type._context,o=s.pendingProps,c=s.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var h=g.firstContext;h!==null;){if(h.context===a){if(c.tag===1){h=mh(-1,i&-i),h.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?h.next=h:(h.next=_.next,_.next=h),b.pending=h}}c.lanes|=i,h=c.alternate,h!==null&&(h.lanes|=i),bh(c.return,i,s),g.lanes|=i;break}h=h.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,g=d.alternate,g!==null&&(g.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,o.children,i),s=s.child}return s;case 9:return o=s.type,a=s.pendingProps.children,ch(s,i),o=eh(o),a=a(o),s.flags|=1,Xi(e,s,a,i),s.child;case 14:return a=s.type,o=Ci(a,s.pendingProps),o=Ci(a.type,o),$i(e,s,a,o,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),ij(e,s),s.tag=1,Zf(a)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,a,o),Ii(s,a,o,i),jj(null,s,a,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,a){return new $k(e,s,i,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,a,o,c){var d=2;if(a=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,o,c,s);case za:d=8,o|=8;break;case Aa:return e=Bg(12,i,s,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,o,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,o),s.elementType=e,s.type=a,s.lanes=c,s}function Tg(e,s,i,a){return e=Bg(7,e,a,s),e.lanes=i,e}function pj(e,s,i,a){return e=Bg(22,e,a,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,a,o){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,a,o,c,d,g,h){return e=new al(e,s,i,g,h),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,a,o,c,d,g,h){return e=bl(i,a,!0,e,o,c,d,g,h),e.context=dl(null),i=e.current,a=R(),o=yi(i),c=mh(a,o),c.callback=s??null,nh(i,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,s,i,a){var o=s.current,c=R(),d=yi(o);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=nh(o,s,d),e!==null&&(gi(e,o,d,c),oh(e,o,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var b=gl(d);c.call(b)}}var d=el(s,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var g=a;a=function(){var b=gl(h);g.call(b)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,h,i,a)}),h}function rl(e,s,i,a,o){var c=i._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var g=o;o=function(){var h=gl(d);g.call(h)}}fl(s,d,e,o)}else d=ql(i,s,e,o,a);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var a=R();gi(i,e,s,a)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var a=i[s];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,a="",o=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,a,o),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var a=i!=null&&i.hydratedSources||null,o=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,o,!1,c,d),e[uf]=s.current,sf(e),a)for(e=0;e<a.length;e++)i=a[e],o=i._getVersion,o=o(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,o]:s.mutableSourceEagerHydrationData.push(i,o);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,a){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const vt=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},gr,Xs,Ys,TimeoutManager=(Ys=class{constructor(){Qt(this,gr,defaultTimeoutProvider);Qt(this,Xs,!1)}setTimeoutProvider(e){qt(this,gr,e)}setTimeout(e,s){return $(this,gr).setTimeout(e,s)}clearTimeout(e){$(this,gr).clearTimeout(e)}setInterval(e,s){return $(this,gr).setInterval(e,s)}clearInterval(e){$(this,gr).clearInterval(e)}},gr=new WeakMap,Xs=new WeakMap,Ys),timeoutManager=new TimeoutManager;function systemSetTimeoutZero(e){setTimeout(e,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(e,s){return typeof e=="function"?e(s):e}function isValidTimeout(e){return typeof e=="number"&&e>=0&&e!==1/0}function timeUntilStale(e,s){return Math.max(e+(s||0)-Date.now(),0)}function resolveStaleTime(e,s){return typeof e=="function"?e(s):e}function resolveEnabled(e,s){return typeof e=="function"?e(s):e}function matchQuery(e,s){const{type:i="all",exact:a,fetchStatus:o,predicate:c,queryKey:d,stale:g}=e;if(d){if(a){if(s.queryHash!==hashQueryKeyByOptions(d,s.options))return!1}else if(!partialMatchKey(s.queryKey,d))return!1}if(i!=="all"){const h=s.isActive();if(i==="active"&&!h||i==="inactive"&&h)return!1}return!(typeof g=="boolean"&&s.isStale()!==g||o&&o!==s.state.fetchStatus||c&&!c(s))}function matchMutation(e,s){const{exact:i,status:a,predicate:o,mutationKey:c}=e;if(c){if(!s.options.mutationKey)return!1;if(i){if(hashKey(s.options.mutationKey)!==hashKey(c))return!1}else if(!partialMatchKey(s.options.mutationKey,c))return!1}return!(a&&s.state.status!==a||o&&!o(s))}function hashQueryKeyByOptions(e,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(s,i)=>isPlainObject(i)?Object.keys(i).sort().reduce((a,o)=>(a[o]=i[o],a),{}):i)}function partialMatchKey(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(i=>partialMatchKey(e[i],s[i])):!1}var hasOwn=Object.prototype.hasOwnProperty;function replaceEqualDeep(e,s){if(e===s)return e;const i=isPlainArray(e)&&isPlainArray(s);if(!i&&!(isPlainObject(e)&&isPlainObject(s)))return s;const o=(i?e:Object.keys(e)).length,c=i?s:Object.keys(s),d=c.length,g=i?new Array(d):{};let h=0;for(let b=0;b<d;b++){const _=i?b:c[b],j=e[_],rt=s[_];if(j===rt){g[_]=j,(i?b<o:hasOwn.call(e,_))&&h++;continue}if(j===null||rt===null||typeof j!="object"||typeof rt!="object"){g[_]=rt;continue}const _e=replaceEqualDeep(j,rt);g[_]=_e,_e===j&&h++}return o===d&&h===o?e:g}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject(e){if(!hasObjectPrototype(e))return!1;const s=e.constructor;if(s===void 0)return!0;const i=s.prototype;return!(!hasObjectPrototype(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hasObjectPrototype(e){return Object.prototype.toString.call(e)==="[object Object]"}function sleep(e){return new Promise(s=>{timeoutManager.setTimeout(s,e)})}function replaceData(e,s,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,s):i.structuralSharing!==!1?replaceEqualDeep(e,s):s}function addToEnd(e,s,i=0){const a=[...e,s];return i&&a.length>i?a.slice(1):a}function addToStart(e,s,i=0){const a=[s,...e];return i&&a.length>i?a.slice(0,-1):a}var skipToken=Symbol();function ensureQueryFn(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function addConsumeAwareSignal(e,s,i){let a=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??(o=s()),a||(a=!0,o.aborted?i():o.addEventListener("abort",i,{once:!0})),o)}),e}var Ar,yr,Fr,Qs,FocusManager=(Qs=class extends Subscribable{constructor(){super();Qt(this,Ar);Qt(this,yr);Qt(this,Fr);qt(this,Fr,s=>{if(!isServer&&window.addEventListener){const i=()=>s();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){$(this,yr)||this.setEventListener($(this,Fr))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,yr))==null||s.call(this),qt(this,yr,void 0))}setEventListener(s){var i;qt(this,Fr,s),(i=$(this,yr))==null||i.call(this),qt(this,yr,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){$(this,Ar)!==s&&(qt(this,Ar,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(i=>{i(s)})}isFocused(){var s;return typeof $(this,Ar)=="boolean"?$(this,Ar):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Ar=new WeakMap,yr=new WeakMap,Fr=new WeakMap,Qs),focusManager=new FocusManager;function pendingThenable(){let e,s;const i=new Promise((o,c)=>{e=o,s=c});i.status="pending",i.catch(()=>{});function a(o){Object.assign(i,o),delete i.resolve,delete i.reject}return i.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},i.reject=o=>{a({status:"rejected",reason:o}),s(o)},i}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let e=[],s=0,i=g=>{g()},a=g=>{g()},o=defaultScheduler;const c=g=>{s?e.push(g):o(()=>{i(g)})},d=()=>{const g=e;e=[],g.length&&o(()=>{a(()=>{g.forEach(h=>{i(h)})})})};return{batch:g=>{let h;s++;try{h=g()}finally{s--,s||d()}return h},batchCalls:g=>(...h)=>{c(()=>{g(...h)})},schedule:c,setNotifyFunction:g=>{i=g},setBatchNotifyFunction:g=>{a=g},setScheduler:g=>{o=g}}}var notifyManager=createNotifyManager(),Ir,vr,Nr,Zs,OnlineManager=(Zs=class extends Subscribable{constructor(){super();Qt(this,Ir,!0);Qt(this,vr);Qt(this,Nr);qt(this,Nr,s=>{if(!isServer&&window.addEventListener){const i=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}}})}onSubscribe(){$(this,vr)||this.setEventListener($(this,Nr))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,vr))==null||s.call(this),qt(this,vr,void 0))}setEventListener(s){var i;qt(this,Nr,s),(i=$(this,vr))==null||i.call(this),qt(this,vr,s(this.setOnline.bind(this)))}setOnline(s){$(this,Ir)!==s&&(qt(this,Ir,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return $(this,Ir)}},Ir=new WeakMap,vr=new WeakMap,Nr=new WeakMap,Zs),onlineManager=new OnlineManager;function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return(e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function createRetryer(e){let s=!1,i=0,a;const o=pendingThenable(),c=()=>o.status!=="pending",d=it=>{var ut;if(!c()){const nt=new CancelledError(it);rt(nt),(ut=e.onCancel)==null||ut.call(e,nt)}},g=()=>{s=!0},h=()=>{s=!1},b=()=>focusManager.isFocused()&&(e.networkMode==="always"||onlineManager.isOnline())&&e.canRun(),_=()=>canFetch(e.networkMode)&&e.canRun(),j=it=>{c()||(a==null||a(),o.resolve(it))},rt=it=>{c()||(a==null||a(),o.reject(it))},_e=()=>new Promise(it=>{var ut;a=nt=>{(c()||b())&&it(nt)},(ut=e.onPause)==null||ut.call(e)}).then(()=>{var it;a=void 0,c()||(it=e.onContinue)==null||it.call(e)}),ct=()=>{if(c())return;let it;const ut=i===0?e.initialPromise:void 0;try{it=ut??e.fn()}catch(nt){it=Promise.reject(nt)}Promise.resolve(it).then(j).catch(nt=>{var pt;if(c())return;const et=e.retry??(isServer?0:3),at=e.retryDelay??defaultRetryDelay,ht=typeof at=="function"?at(i,nt):at,ot=et===!0||typeof et=="number"&&i<et||typeof et=="function"&&et(i,nt);if(s||!ot){rt(nt);return}i++,(pt=e.onFail)==null||pt.call(e,i,nt),sleep(ht).then(()=>b()?void 0:_e()).then(()=>{s?rt(nt):ct()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(a==null||a(),o),cancelRetry:g,continueRetry:h,canStart:_,start:()=>(_()?ct():_e().then(ct),o)}}var _r,Js,Removable=(Js=class{constructor(){Qt(this,_r)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&qt(this,_r,timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){$(this,_r)&&(timeoutManager.clearTimeout($(this,_r)),qt(this,_r,void 0))}},_r=new WeakMap,Js),Cr,Or,sr,kr,er,Yr,Rr,ar,dr,_i,Query=(_i=class extends Removable{constructor(s){super();Qt(this,ar);Qt(this,Cr);Qt(this,Or);Qt(this,sr);Qt(this,kr);Qt(this,er);Qt(this,Yr);Qt(this,Rr);qt(this,Rr,!1),qt(this,Yr,s.defaultOptions),this.setOptions(s.options),this.observers=[],qt(this,kr,s.client),qt(this,sr,$(this,kr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,qt(this,Cr,getDefaultState$1(this.options)),this.state=s.state??$(this,Cr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=$(this,er))==null?void 0:s.promise}setOptions(s){if(this.options={...$(this,Yr),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=getDefaultState$1(this.options);i.data!==void 0&&(this.setState(successState(i.data,i.dataUpdatedAt)),qt(this,Cr,i))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,sr).remove(this)}setData(s,i){const a=replaceData(this.state.data,s,this.options);return Xt(this,ar,dr).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(s,i){Xt(this,ar,dr).call(this,{type:"setState",state:s,setStateOptions:i})}cancel(s){var a,o;const i=(a=$(this,er))==null?void 0:a.promise;return(o=$(this,er))==null||o.cancel(s),i?i.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Cr))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>resolveStaleTime(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var i;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(i=$(this,er))==null||i.continue()}onOnline(){var i;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(i=$(this,er))==null||i.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),$(this,sr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(i=>i!==s),this.observers.length||($(this,er)&&($(this,Rr)?$(this,er).cancel({revert:!0}):$(this,er).cancelRetry()),this.scheduleGc()),$(this,sr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,ar,dr).call(this,{type:"invalidate"})}async fetch(s,i){var h,b,_,j,rt,_e,ct,it,ut,nt,et,at;if(this.state.fetchStatus!=="idle"&&((h=$(this,er))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if($(this,er))return $(this,er).continueRetry(),$(this,er).promise}if(s&&this.setOptions(s),!this.options.queryFn){const ht=this.observers.find(ot=>ot.options.queryFn);ht&&this.setOptions(ht.options)}const a=new AbortController,o=ht=>{Object.defineProperty(ht,"signal",{enumerable:!0,get:()=>(qt(this,Rr,!0),a.signal)})},c=()=>{const ht=ensureQueryFn(this.options,i),pt=(()=>{const dt={client:$(this,kr),queryKey:this.queryKey,meta:this.meta};return o(dt),dt})();return qt(this,Rr,!1),this.options.persister?this.options.persister(ht,pt,this):ht(pt)},g=(()=>{const ht={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:$(this,kr),state:this.state,fetchFn:c};return o(ht),ht})();(b=this.options.behavior)==null||b.onFetch(g,this),qt(this,Or,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=g.fetchOptions)==null?void 0:_.meta))&&Xt(this,ar,dr).call(this,{type:"fetch",meta:(j=g.fetchOptions)==null?void 0:j.meta}),qt(this,er,createRetryer({initialPromise:i==null?void 0:i.initialPromise,fn:g.fetchFn,onCancel:ht=>{ht instanceof CancelledError&&ht.revert&&this.setState({...$(this,Or),fetchStatus:"idle"}),a.abort()},onFail:(ht,ot)=>{Xt(this,ar,dr).call(this,{type:"failed",failureCount:ht,error:ot})},onPause:()=>{Xt(this,ar,dr).call(this,{type:"pause"})},onContinue:()=>{Xt(this,ar,dr).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0}));try{const ht=await $(this,er).start();if(ht===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(ht),(_e=(rt=$(this,sr).config).onSuccess)==null||_e.call(rt,ht,this),(it=(ct=$(this,sr).config).onSettled)==null||it.call(ct,ht,this.state.error,this),ht}catch(ht){if(ht instanceof CancelledError){if(ht.silent)return $(this,er).promise;if(ht.revert){if(this.state.data===void 0)throw ht;return this.state.data}}throw Xt(this,ar,dr).call(this,{type:"error",error:ht}),(nt=(ut=$(this,sr).config).onError)==null||nt.call(ut,ht,this),(at=(et=$(this,sr).config).onSettled)==null||at.call(et,this.state.data,ht,this),ht}finally{this.scheduleGc()}}},Cr=new WeakMap,Or=new WeakMap,sr=new WeakMap,kr=new WeakMap,er=new WeakMap,Yr=new WeakMap,Rr=new WeakMap,ar=new WeakSet,dr=function(s){const i=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:s.meta??null};case"success":const o={...a,...successState(s.data,s.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return qt(this,Or,s.manual?o:void 0),o;case"error":const c=s.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=i(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),$(this,sr).notify({query:this,type:"updated",action:s})})},_i);function fetchState(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function successState(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function getDefaultState$1(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,i=s!==void 0,a=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:i?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}function infiniteQueryBehavior(e){return{onFetch:(s,i)=>{var _,j,rt,_e,ct;const a=s.options,o=(rt=(j=(_=s.fetchOptions)==null?void 0:_.meta)==null?void 0:j.fetchMore)==null?void 0:rt.direction,c=((_e=s.state.data)==null?void 0:_e.pages)||[],d=((ct=s.state.data)==null?void 0:ct.pageParams)||[];let g={pages:[],pageParams:[]},h=0;const b=async()=>{let it=!1;const ut=at=>{addConsumeAwareSignal(at,()=>s.signal,()=>it=!0)},nt=ensureQueryFn(s.options,s.fetchOptions),et=async(at,ht,ot)=>{if(it)return Promise.reject();if(ht==null&&at.pages.length)return Promise.resolve(at);const dt=(()=>{const mt={client:s.client,queryKey:s.queryKey,pageParam:ht,direction:ot?"backward":"forward",meta:s.options.meta};return ut(mt),mt})(),ft=await nt(dt),{maxPages:gt}=s.options,kt=ot?addToStart:addToEnd;return{pages:kt(at.pages,ft,gt),pageParams:kt(at.pageParams,ht,gt)}};if(o&&c.length){const at=o==="backward",ht=at?getPreviousPageParam:getNextPageParam,ot={pages:c,pageParams:d},pt=ht(a,ot);g=await et(ot,pt,at)}else{const at=e??c.length;do{const ht=h===0?d[0]??a.initialPageParam:getNextPageParam(a,g);if(h>0&&ht==null)break;g=await et(g,ht),h++}while(h<at)}return g};s.options.persister?s.fetchFn=()=>{var it,ut;return(ut=(it=s.options).persister)==null?void 0:ut.call(it,b,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},i)}:s.fetchFn=b}}}function getNextPageParam(e,{pages:s,pageParams:i}){const a=s.length-1;return s.length>0?e.getNextPageParam(s[a],s,i[a],i):void 0}function getPreviousPageParam(e,{pages:s,pageParams:i}){var a;return s.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,s[0],s,i[0],i):void 0}var Qr,lr,nr,Tr,cr,mr,na,Mutation=(na=class extends Removable{constructor(s){super();Qt(this,cr);Qt(this,Qr);Qt(this,lr);Qt(this,nr);Qt(this,Tr);qt(this,Qr,s.client),this.mutationId=s.mutationId,qt(this,nr,s.mutationCache),qt(this,lr,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){$(this,lr).includes(s)||($(this,lr).push(s),this.clearGcTimeout(),$(this,nr).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){qt(this,lr,$(this,lr).filter(i=>i!==s)),this.scheduleGc(),$(this,nr).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){$(this,lr).length||(this.state.status==="pending"?this.scheduleGc():$(this,nr).remove(this))}continue(){var s;return((s=$(this,Tr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var d,g,h,b,_,j,rt,_e,ct,it,ut,nt,et,at,ht,ot,pt,dt,ft,gt;const i=()=>{Xt(this,cr,mr).call(this,{type:"continue"})},a={client:$(this,Qr),meta:this.options.meta,mutationKey:this.options.mutationKey};qt(this,Tr,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(kt,mt)=>{Xt(this,cr,mr).call(this,{type:"failed",failureCount:kt,error:mt})},onPause:()=>{Xt(this,cr,mr).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,nr).canRun(this)}));const o=this.state.status==="pending",c=!$(this,Tr).canStart();try{if(o)i();else{Xt(this,cr,mr).call(this,{type:"pending",variables:s,isPaused:c}),await((g=(d=$(this,nr).config).onMutate)==null?void 0:g.call(d,s,this,a));const mt=await((b=(h=this.options).onMutate)==null?void 0:b.call(h,s,a));mt!==this.state.context&&Xt(this,cr,mr).call(this,{type:"pending",context:mt,variables:s,isPaused:c})}const kt=await $(this,Tr).start();return await((j=(_=$(this,nr).config).onSuccess)==null?void 0:j.call(_,kt,s,this.state.context,this,a)),await((_e=(rt=this.options).onSuccess)==null?void 0:_e.call(rt,kt,s,this.state.context,a)),await((it=(ct=$(this,nr).config).onSettled)==null?void 0:it.call(ct,kt,null,this.state.variables,this.state.context,this,a)),await((nt=(ut=this.options).onSettled)==null?void 0:nt.call(ut,kt,null,s,this.state.context,a)),Xt(this,cr,mr).call(this,{type:"success",data:kt}),kt}catch(kt){try{await((at=(et=$(this,nr).config).onError)==null?void 0:at.call(et,kt,s,this.state.context,this,a))}catch(mt){Promise.reject(mt)}try{await((ot=(ht=this.options).onError)==null?void 0:ot.call(ht,kt,s,this.state.context,a))}catch(mt){Promise.reject(mt)}try{await((dt=(pt=$(this,nr).config).onSettled)==null?void 0:dt.call(pt,void 0,kt,this.state.variables,this.state.context,this,a))}catch(mt){Promise.reject(mt)}try{await((gt=(ft=this.options).onSettled)==null?void 0:gt.call(ft,void 0,kt,s,this.state.context,a))}catch(mt){Promise.reject(mt)}throw Xt(this,cr,mr).call(this,{type:"error",error:kt}),kt}finally{$(this,nr).runNext(this)}}},Qr=new WeakMap,lr=new WeakMap,nr=new WeakMap,Tr=new WeakMap,cr=new WeakSet,mr=function(s){const i=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=i(this.state),notifyManager.batch(()=>{$(this,lr).forEach(a=>{a.onMutationUpdate(s)}),$(this,nr).notify({mutation:this,type:"updated",action:s})})},na);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,or,Zr,ga,MutationCache=(ga=class extends Subscribable{constructor(s={}){super();Qt(this,fr);Qt(this,or);Qt(this,Zr);this.config=s,qt(this,fr,new Set),qt(this,or,new Map),qt(this,Zr,0)}build(s,i,a){const o=new Mutation({client:s,mutationCache:this,mutationId:++pr(this,Zr)._,options:s.defaultMutationOptions(i),state:a});return this.add(o),o}add(s){$(this,fr).add(s);const i=scopeFor(s);if(typeof i=="string"){const a=$(this,or).get(i);a?a.push(s):$(this,or).set(i,[s])}this.notify({type:"added",mutation:s})}remove(s){if($(this,fr).delete(s)){const i=scopeFor(s);if(typeof i=="string"){const a=$(this,or).get(i);if(a)if(a.length>1){const o=a.indexOf(s);o!==-1&&a.splice(o,1)}else a[0]===s&&$(this,or).delete(i)}}this.notify({type:"removed",mutation:s})}canRun(s){const i=scopeFor(s);if(typeof i=="string"){const a=$(this,or).get(i),o=a==null?void 0:a.find(c=>c.state.status==="pending");return!o||o===s}else return!0}runNext(s){var a;const i=scopeFor(s);if(typeof i=="string"){const o=(a=$(this,or).get(i))==null?void 0:a.find(c=>c!==s&&c.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{$(this,fr).forEach(s=>{this.notify({type:"removed",mutation:s})}),$(this,fr).clear(),$(this,or).clear()})}getAll(){return Array.from($(this,fr))}find(s){const i={exact:!0,...s};return this.getAll().find(a=>matchMutation(i,a))}findAll(s={}){return this.getAll().filter(i=>matchMutation(s,i))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(i=>{i(s)})})}resumePausedMutations(){const s=this.getAll().filter(i=>i.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(i=>i.continue().catch(noop$1))))}},fr=new WeakMap,or=new WeakMap,Zr=new WeakMap,ga);function scopeFor(e){var s;return(s=e.options.scope)==null?void 0:s.id}var ur,xa,QueryCache=(xa=class extends Subscribable{constructor(s={}){super();Qt(this,ur);this.config=s,qt(this,ur,new Map)}build(s,i,a){const o=i.queryKey,c=i.queryHash??hashQueryKeyByOptions(o,i);let d=this.get(c);return d||(d=new Query({client:s,queryKey:o,queryHash:c,options:s.defaultQueryOptions(i),state:a,defaultOptions:s.getQueryDefaults(o)}),this.add(d)),d}add(s){$(this,ur).has(s.queryHash)||($(this,ur).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const i=$(this,ur).get(s.queryHash);i&&(s.destroy(),i===s&&$(this,ur).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return $(this,ur).get(s)}getAll(){return[...$(this,ur).values()]}find(s){const i={exact:!0,...s};return this.getAll().find(a=>matchQuery(i,a))}findAll(s={}){const i=this.getAll();return Object.keys(s).length>0?i.filter(a=>matchQuery(s,a)):i}notify(s){notifyManager.batch(()=>{this.listeners.forEach(i=>{i(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ur=new WeakMap,xa),Jn,xr,br,Vr,Br,Er,Ur,zr,ba,QueryClient=(ba=class{constructor(e={}){Qt(this,Jn);Qt(this,xr);Qt(this,br);Qt(this,Vr);Qt(this,Br);Qt(this,Er);Qt(this,Ur);Qt(this,zr);qt(this,Jn,e.queryCache||new QueryCache),qt(this,xr,e.mutationCache||new MutationCache),qt(this,br,e.defaultOptions||{}),qt(this,Vr,new Map),qt(this,Br,new Map),qt(this,Er,0)}mount(){pr(this,Er)._++,$(this,Er)===1&&(qt(this,Ur,focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Jn).onFocus())})),qt(this,zr,onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Jn).onOnline())})))}unmount(){var e,s;pr(this,Er)._--,$(this,Er)===0&&((e=$(this,Ur))==null||e.call(this),qt(this,Ur,void 0),(s=$(this,zr))==null||s.call(this),qt(this,zr,void 0))}isFetching(e){return $(this,Jn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,xr).findAll({...e,status:"pending"}).length}getQueryData(e){var i;const s=this.defaultQueryOptions({queryKey:e});return(i=$(this,Jn).get(s.queryHash))==null?void 0:i.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),i=$(this,Jn).build(this,s),a=i.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(resolveStaleTime(s.staleTime,i))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(e){return $(this,Jn).findAll(e).map(({queryKey:s,state:i})=>{const a=i.data;return[s,a]})}setQueryData(e,s,i){const a=this.defaultQueryOptions({queryKey:e}),o=$(this,Jn).get(a.queryHash),c=o==null?void 0:o.state.data,d=functionalUpdate(s,c);if(d!==void 0)return $(this,Jn).build(this,a).setData(d,{...i,manual:!0})}setQueriesData(e,s,i){return notifyManager.batch(()=>$(this,Jn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,i)]))}getQueryState(e){var i;const s=this.defaultQueryOptions({queryKey:e});return(i=$(this,Jn).get(s.queryHash))==null?void 0:i.state}removeQueries(e){const s=$(this,Jn);notifyManager.batch(()=>{s.findAll(e).forEach(i=>{s.remove(i)})})}resetQueries(e,s){const i=$(this,Jn);return notifyManager.batch(()=>(i.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const i={revert:!0,...s},a=notifyManager.batch(()=>$(this,Jn).findAll(e).map(o=>o.cancel(i)));return Promise.all(a).then(noop$1).catch(noop$1)}invalidateQueries(e,s={}){return notifyManager.batch(()=>($(this,Jn).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const i={...s,cancelRefetch:s.cancelRefetch??!0},a=notifyManager.batch(()=>$(this,Jn).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,i);return i.throwOnError||(c=c.catch(noop$1)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(noop$1)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const i=$(this,Jn).build(this,s);return i.isStaleByTime(resolveStaleTime(s.staleTime,i))?i.fetch(s):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$1).catch(noop$1)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return onlineManager.isOnline()?$(this,xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Jn)}getMutationCache(){return $(this,xr)}getDefaultOptions(){return $(this,br)}setDefaultOptions(e){qt(this,br,e)}setQueryDefaults(e,s){$(this,Vr).set(hashKey(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...$(this,Vr).values()],i={};return s.forEach(a=>{partialMatchKey(e,a.queryKey)&&Object.assign(i,a.defaultOptions)}),i}setMutationDefaults(e,s){$(this,Br).set(hashKey(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...$(this,Br).values()],i={};return s.forEach(a=>{partialMatchKey(e,a.mutationKey)&&Object.assign(i,a.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const s={...$(this,br).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,br).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Jn).clear(),$(this,xr).clear()}},Jn=new WeakMap,xr=new WeakMap,br=new WeakMap,Vr=new WeakMap,Br=new WeakMap,Er=new WeakMap,Ur=new WeakMap,zr=new WeakMap,ba),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:e,children:s})=>(reactExports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:e,children:s}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function s(a,o){let{pathname:c,search:d,hash:g}=a.location;return createLocation("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(s,i,null,e)}function invariant$1(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function warning(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,s){return{usr:e.state,key:e.key,idx:s}}function createLocation(e,s,i,a){return i===void 0&&(i=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:i,key:s&&s.key||a||createKey()})}function createPath(e){let{pathname:s="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function parsePath(e){let s={};if(e){let i=e.indexOf("#");i>=0&&(s.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function getUrlBasedHistory(e,s,i,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,g=Action.Pop,h=null,b=_();b==null&&(b=0,d.replaceState(_extends$2({},d.state,{idx:b}),""));function _(){return(d.state||{idx:null}).idx}function j(){g=Action.Pop;let ut=_(),nt=ut==null?null:ut-b;b=ut,h&&h({action:g,location:it.location,delta:nt})}function rt(ut,nt){g=Action.Push;let et=createLocation(it.location,ut,nt);b=_()+1;let at=getHistoryState(et,b),ht=it.createHref(et);try{d.pushState(at,"",ht)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(ht)}c&&h&&h({action:g,location:it.location,delta:1})}function _e(ut,nt){g=Action.Replace;let et=createLocation(it.location,ut,nt);b=_();let at=getHistoryState(et,b),ht=it.createHref(et);d.replaceState(at,"",ht),c&&h&&h({action:g,location:it.location,delta:0})}function ct(ut){let nt=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof ut=="string"?ut:createPath(ut);return et=et.replace(/ $/,"%20"),invariant$1(nt,"No window.location.(origin|href) available to create URL for href: "+et),new URL(et,nt)}let it={get action(){return g},get location(){return e(o,d)},listen(ut){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,j),h=ut,()=>{o.removeEventListener(PopStateEventType,j),h=null}},createHref(ut){return s(o,ut)},createURL:ct,encodeLocation(ut){let nt=ct(ut);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:rt,replace:_e,go(ut){return d.go(ut)}};return it}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,s,i){return i===void 0&&(i="/"),matchRoutesImpl(e,s,i)}function matchRoutesImpl(e,s,i,a){let o=typeof s=="string"?parsePath(s):s,c=stripBasename(o.pathname||"/",i);if(c==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let g=null;for(let h=0;g==null&&h<d.length;++h){let b=decodePath(c);g=matchRouteBranch(d[h],b)}return g}function flattenRoutes(e,s,i,a){s===void 0&&(s=[]),i===void 0&&(i=[]),a===void 0&&(a="");let o=(c,d,g)=>{let h={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(invariant$1(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let b=joinPaths([a,h.relativePath]),_=i.concat(h);c.children&&c.children.length>0&&(invariant$1(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,s,_,b)),!(c.path==null&&!c.index)&&s.push({path:b,score:computeScore(b,c.index),routesMeta:_})};return e.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let h of explodeOptionalSegments(c.path))o(c,d,h)}),s}function explodeOptionalSegments(e){let s=e.split("/");if(s.length===0)return[];let[i,...a]=s,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=explodeOptionalSegments(a.join("/")),g=[];return g.push(...d.map(h=>h===""?c:[c,h].join("/"))),o&&g.push(...d),g.map(h=>e.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(e){e.sort((s,i)=>s.score!==i.score?i.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,s){let i=e.split("/"),a=i.length;return i.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),i.filter(o=>!isSplat(o)).reduce((o,c)=>o+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,s){return e.length===s.length&&e.slice(0,-1).every((a,o)=>a===s[o])?e[e.length-1]-s[s.length-1]:0}function matchRouteBranch(e,s,i){let{routesMeta:a}=e,o={},c="/",d=[];for(let g=0;g<a.length;++g){let h=a[g],b=g===a.length-1,_=c==="/"?s:s.slice(c.length)||"/",j=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:b},_),rt=h.route;if(!j)return null;Object.assign(o,j.params),d.push({params:o,pathname:joinPaths([c,j.pathname]),pathnameBase:normalizePathname(joinPaths([c,j.pathnameBase])),route:rt}),j.pathnameBase!=="/"&&(c=joinPaths([c,j.pathnameBase]))}return d}function matchPath(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=compilePath(e.path,e.caseSensitive,e.end),o=s.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((b,_,j)=>{let{paramName:rt,isOptional:_e}=_;if(rt==="*"){let it=g[j]||"";d=c.slice(0,c.length-it.length).replace(/(.)\/+$/,"$1")}const ct=g[j];return _e&&!ct?b[rt]=void 0:b[rt]=(ct||"").replace(/%2F/g,"/"),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,s,i){s===void 0&&(s=!1),i===void 0&&(i=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,h)=>(a.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),a]}function decodePath(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function stripBasename(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=e=>ABSOLUTE_URL_REGEX$1.test(e);function resolvePath(e,s){s===void 0&&(s="/");let{pathname:i,search:a="",hash:o=""}=typeof e=="string"?parsePath(e):e,c;if(i)if(isAbsoluteUrl(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),warning(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+i))}i.startsWith("/")?c=resolvePathname(i.substring(1),"/"):c=resolvePathname(i,s)}else c=s;return{pathname:c,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(e,s){let i=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(e,s,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(e,s){let i=getPathContributingMatches(e);return s?i.map((a,o)=>o===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function resolveTo(e,s,i,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=parsePath(e):(o=_extends$2({},e),invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let j=s.length-1;if(!a&&d.startsWith("..")){let rt=d.split("/");for(;rt[0]==="..";)rt.shift(),j-=1;o.pathname=rt.join("/")}g=j>=0?s[j]:"/"}let h=resolvePath(o,g),b=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(b||_)&&(h.pathname+="/"),h}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,s){let{relative:i}=s===void 0?{}:s;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:o}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:g}=useResolvedPath(e,{relative:i}),h=d;return a!=="/"&&(h=d==="/"?a:joinPaths([a,d])),o.createHref({pathname:h,search:g,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let e=reactExports.useContext(DataRouterContext),{basename:s,future:i,navigator:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,i.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{g.current=!0}),reactExports.useCallback(function(b,_){if(_===void 0&&(_={}),!g.current)return;if(typeof b=="number"){a.go(b);return}let j=resolveTo(b,JSON.parse(d),c,_.relative==="path");e==null&&s!=="/"&&(j.pathname=j.pathname==="/"?s:joinPaths([s,j.pathname])),(_.replace?a.replace:a.push)(j,_.state,_)},[s,a,d,c,e])}function useResolvedPath(e,s){let{relative:i}=s===void 0?{}:s,{future:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),c,i==="path"),[e,d,c,i])}function useRoutes(e,s){return useRoutesImpl(e,s)}function useRoutesImpl(e,s,i,a){useInRouterContext()||invariant$1(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],g=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let b=useLocation(),_;if(s){var j;let ut=typeof s=="string"?parsePath(s):s;h==="/"||(j=ut.pathname)!=null&&j.startsWith(h)||invariant$1(!1),_=ut}else _=b;let rt=_.pathname||"/",_e=rt;if(h!=="/"){let ut=h.replace(/^\//,"").split("/");_e="/"+rt.replace(/^\//,"").split("/").slice(ut.length).join("/")}let ct=matchRoutes(e,{pathname:_e}),it=_renderMatches(ct&&ct.map(ut=>Object.assign({},ut,{params:Object.assign({},g,ut.params),pathname:joinPaths([h,o.encodeLocation?o.encodeLocation(ut.pathname).pathname:ut.pathname]),pathnameBase:ut.pathnameBase==="/"?h:joinPaths([h,o.encodeLocation?o.encodeLocation(ut.pathnameBase).pathname:ut.pathnameBase])})),c,i,a);return s&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let e=useRouteError(),s=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),i?reactExports.createElement("pre",{style:o},i):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){console.error("React Router caught the following error during render",s,i)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:s,match:i,children:a}=e,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:s},a)}function _renderMatches(e,s,i,a){var o;if(s===void 0&&(s=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var c;if(!i)return null;if(i.errors)e=i.matches;else if((c=a)!=null&&c.v7_partialHydration&&s.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let d=e,g=(o=i)==null?void 0:o.errors;if(g!=null){let _=d.findIndex(j=>j.route.id&&(g==null?void 0:g[j.route.id])!==void 0);_>=0||invariant$1(!1),d=d.slice(0,Math.min(d.length,_+1))}let h=!1,b=-1;if(i&&a&&a.v7_partialHydration)for(let _=0;_<d.length;_++){let j=d[_];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(b=_),j.route.id){let{loaderData:rt,errors:_e}=i,ct=j.route.loader&&rt[j.route.id]===void 0&&(!_e||_e[j.route.id]===void 0);if(j.route.lazy||ct){h=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((_,j,rt)=>{let _e,ct=!1,it=null,ut=null;i&&(_e=g&&j.route.id?g[j.route.id]:void 0,it=j.route.errorElement||defaultErrorElement,h&&(b<0&&rt===0?(warningOnce("route-fallback"),ct=!0,ut=null):b===rt&&(ct=!0,ut=j.route.hydrateFallbackElement||null)));let nt=s.concat(d.slice(0,rt+1)),et=()=>{let at;return _e?at=it:ct?at=ut:j.route.Component?at=reactExports.createElement(j.route.Component,null):j.route.element?at=j.route.element:at=_,reactExports.createElement(RenderedRoute,{match:j,routeContext:{outlet:_,matches:nt,isDataRoute:i!=null},children:at})};return i&&(j.route.ErrorBoundary||j.route.errorElement||rt===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,revalidation:i.revalidation,component:it,error:_e,children:et(),routeContext:{outlet:null,matches:nt,isDataRoute:!0}}):et()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let s=reactExports.useContext(DataRouterContext);return s||invariant$1(!1),s}function useDataRouterState(e){let s=reactExports.useContext(DataRouterStateContext);return s||invariant$1(!1),s}function useRouteContext(e){let s=reactExports.useContext(RouteContext);return s||invariant$1(!1),s}function useCurrentRouteId(e){let s=useRouteContext(),i=s.matches[s.matches.length-1];return i.route.id||invariant$1(!1),i.route.id}function useRouteError(){var e;let s=reactExports.useContext(RouteErrorContext),i=useDataRouterState(),a=useCurrentRouteId();return s!==void 0?s:(e=i.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),i=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{i.current=!0}),reactExports.useCallback(function(o,c){c===void 0&&(c={}),i.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,_extends$1({fromRouteId:s},c)))},[e,s])}const alreadyWarned$1={};function warningOnce(e,s,i){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Route(e){invariant$1(!1)}function Router(e){let{basename:s="/",children:i=null,location:a,navigationType:o=Action.Pop,navigator:c,static:d=!1,future:g}=e;useInRouterContext()&&invariant$1(!1);let h=s.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:h,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},g)}),[h,g,c,d]);typeof a=="string"&&(a=parsePath(a));let{pathname:_="/",search:j="",hash:rt="",state:_e=null,key:ct="default"}=a,it=reactExports.useMemo(()=>{let ut=stripBasename(_,h);return ut==null?null:{location:{pathname:ut,search:j,hash:rt,state:_e,key:ct},navigationType:o}},[h,_,j,rt,_e,ct,o]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:i,value:it}))}function Routes(e){let{children:s,location:i}=e;return useRoutes(createRoutesFromChildren(s),i)}new Promise(()=>{});function createRoutesFromChildren(e,s){s===void 0&&(s=[]);let i=[];return reactExports.Children.forEach(e,(a,o)=>{if(!reactExports.isValidElement(a))return;let c=[...s,o];if(a.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(a.props.children,c));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=createRoutesFromChildren(a.props.children,c)),i.push(d)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(s.indexOf(o)>=0)&&(i[o]=e[o]);return i}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,s){return e.button===0&&(!s||s==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(e){let{basename:s,children:i,future:a,window:o}=e,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:o,v5Compat:!0}));let d=c.current,[g,h]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:b}=a||{},_=reactExports.useCallback(j=>{b&&startTransitionImpl?startTransitionImpl(()=>h(j)):h(j)},[h,b]);return reactExports.useLayoutEffect(()=>d.listen(_),[d,_]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:s,children:i,location:g.location,navigationType:g.action,navigator:d,future:a})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,i){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:g,target:h,to:b,preventScrollReset:_,viewTransition:j}=s,rt=_objectWithoutPropertiesLoose(s,_excluded),{basename:_e}=reactExports.useContext(NavigationContext),ct,it=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(ct=b,isBrowser$2))try{let at=new URL(window.location.href),ht=b.startsWith("//")?new URL(at.protocol+b):new URL(b),ot=stripBasename(ht.pathname,_e);ht.origin===at.origin&&ot!=null?b=ot+ht.search+ht.hash:it=!0}catch{}let ut=useHref(b,{relative:o}),nt=useLinkClickHandler(b,{replace:d,state:g,target:h,preventScrollReset:_,relative:o,viewTransition:j});function et(at){a&&a(at),at.defaultPrevented||nt(at)}return reactExports.createElement("a",_extends({},rt,{href:ct||ut,onClick:it||c?a:et,ref:i,target:h}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,s){let{target:i,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:g}=s===void 0?{}:s,h=useNavigate(),b=useLocation(),_=useResolvedPath(e,{relative:d});return reactExports.useCallback(j=>{if(shouldProcessLinkClick(j,i)){j.preventDefault();let rt=a!==void 0?a:createPath(b)===createPath(_);h(e,{replace:rt,state:o,preventScrollReset:c,relative:d,viewTransition:g})}},[b,h,_,a,o,i,e,c,d,g])}var jt=e=>{switch(e){case"success":return ee;case"info":return ae;case"warning":return oe;case"error":return se;default:return null}},te=Array(12).fill(0),Yt=({visible:e,className:s})=>React__default.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":e},React__default.createElement("div",{className:"sonner-spinner"},te.map((i,a)=>React__default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),ee=React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React__default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oe=React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React__default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ae=React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React__default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),se=React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React__default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot=React__default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React__default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React__default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ft=()=>{let[e,s]=React__default.useState(document.hidden);return React__default.useEffect(()=>{let i=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),e},bt=1,yt=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;let{message:i,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:bt++,c=this.toasts.find(g=>g.id===o),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(g=>g.id===o?(this.publish({...g,...e,id:o,title:i}),{...g,...e,id:o,dismissible:d,title:i}):g):this.addToast({title:i,...a,dismissible:d,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:e,dismiss:!0})),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let a=e instanceof Promise?e:e(),o=i!==void 0,c,d=a.then(async h=>{if(c=["resolve",h],React__default.isValidElement(h))o=!1,this.create({id:i,type:"default",message:h});else if(ie(h)&&!h.ok){o=!1;let b=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,_=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description;this.create({id:i,type:"error",message:b,description:_})}else if(s.success!==void 0){o=!1;let b=typeof s.success=="function"?await s.success(h):s.success,_=typeof s.description=="function"?await s.description(h):s.description;this.create({id:i,type:"success",message:b,description:_})}}).catch(async h=>{if(c=["reject",h],s.error!==void 0){o=!1;let b=typeof s.error=="function"?await s.error(h):s.error,_=typeof s.description=="function"?await s.description(h):s.description;this.create({id:i,type:"error",message:b,description:_})}}).finally(()=>{var h;o&&(this.dismiss(i),i=void 0),(h=s.finally)==null||h.call(s)}),g=()=>new Promise((h,b)=>d.then(()=>c[0]==="reject"?b(c[1]):h(c[1])).catch(b));return typeof i!="string"&&typeof i!="number"?{unwrap:g}:Object.assign(i,{unwrap:g})},this.custom=(e,s)=>{let i=(s==null?void 0:s.id)||bt++;return this.create({jsx:e(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},v=new yt,ne=(e,s)=>{let i=(s==null?void 0:s.id)||bt++;return v.addToast({title:e,...s,id:i}),i},ie=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",le=ne,ce=()=>v.toasts,de=()=>v.getActiveToasts(),ue=Object.assign(le,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:ce,getToasts:de});function wt(e,{insertAt:s}={}){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}wt(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tt(e){return e.label!==void 0}var pe=3,me="32px",ge="16px",Wt=4e3,he=356,be=14,ye=20,we=200;function M(...e){return e.filter(Boolean).join(" ")}function xe(e){let[s,i]=e.split("-"),a=[];return s&&a.push(s),i&&a.push(i),a}var ve=e=>{var s,i,a,o,c,d,g,h,b,_,j;let{invert:rt,toast:_e,unstyled:ct,interacting:it,setHeights:ut,visibleToasts:nt,heights:et,index:at,toasts:ht,expanded:ot,removeToast:pt,defaultRichColors:dt,closeButton:ft,style:gt,cancelButtonStyle:kt,actionButtonStyle:mt,className:Ct="",descriptionClassName:Dt="",duration:Zt,position:$t,gap:Ht,loadingIcon:Ut,expandByDefault:zt,classNames:xt,icons:At,closeButtonAriaLabel:Lt="Close toast",pauseWhenPageIsHidden:St}=e,[st,lt]=React__default.useState(null),[Et,Pt]=React__default.useState(null),[Rt,Nt]=React__default.useState(!1),[Kt,nn]=React__default.useState(!1),[un,fn]=React__default.useState(!1),[yn,wn]=React__default.useState(!1),[xn,rn]=React__default.useState(!1),[on,Tt]=React__default.useState(0),[Vt,Jt]=React__default.useState(0),sn=React__default.useRef(_e.duration||Zt||Wt),pn=React__default.useRef(null),vn=React__default.useRef(null),bn=at===0,en=at+1<=nt,kn=_e.type,Cn=_e.dismissible!==!1,Un=_e.className||"",Vn=_e.descriptionClassName||"",$n=React__default.useMemo(()=>et.findIndex(_n=>_n.toastId===_e.id)||0,[et,_e.id]),Dn=React__default.useMemo(()=>{var _n;return(_n=_e.closeButton)!=null?_n:ft},[_e.closeButton,ft]),On=React__default.useMemo(()=>_e.duration||Zt||Wt,[_e.duration,Zt]),Hn=React__default.useRef(0),Kn=React__default.useRef(0),En=React__default.useRef(0),an=React__default.useRef(null),[ln,Ln]=$t.split("-"),Gn=React__default.useMemo(()=>et.reduce((_n,Tn,It)=>It>=$n?_n:_n+Tn.height,0),[et,$n]),Wn=Ft(),Bt=_e.invert||rt,mn=kn==="loading";Kn.current=React__default.useMemo(()=>$n*Ht+Gn,[$n,Gn]),React__default.useEffect(()=>{sn.current=On},[On]),React__default.useEffect(()=>{Nt(!0)},[]),React__default.useEffect(()=>{let _n=vn.current;if(_n){let Tn=_n.getBoundingClientRect().height;return Jt(Tn),ut(It=>[{toastId:_e.id,height:Tn,position:_e.position},...It]),()=>ut(It=>It.filter(Mt=>Mt.toastId!==_e.id))}},[ut,_e.id]),React__default.useLayoutEffect(()=>{if(!Rt)return;let _n=vn.current,Tn=_n.style.height;_n.style.height="auto";let It=_n.getBoundingClientRect().height;_n.style.height=Tn,Jt(It),ut(Mt=>Mt.find(Gt=>Gt.toastId===_e.id)?Mt.map(Gt=>Gt.toastId===_e.id?{...Gt,height:It}:Gt):[{toastId:_e.id,height:It,position:_e.position},...Mt])},[Rt,_e.title,_e.description,ut,_e.id]);let An=React__default.useCallback(()=>{nn(!0),Tt(Kn.current),ut(_n=>_n.filter(Tn=>Tn.toastId!==_e.id)),setTimeout(()=>{pt(_e)},we)},[_e,pt,ut,Kn]);React__default.useEffect(()=>{if(_e.promise&&kn==="loading"||_e.duration===1/0||_e.type==="loading")return;let _n;return ot||it||St&&Wn?(()=>{if(En.current<Hn.current){let Tn=new Date().getTime()-Hn.current;sn.current=sn.current-Tn}En.current=new Date().getTime()})():sn.current!==1/0&&(Hn.current=new Date().getTime(),_n=setTimeout(()=>{var Tn;(Tn=_e.onAutoClose)==null||Tn.call(_e,_e),An()},sn.current)),()=>clearTimeout(_n)},[ot,it,_e,kn,St,Wn,An]),React__default.useEffect(()=>{_e.delete&&An()},[An,_e.delete]);function Fn(){var _n,Tn,It;return At!=null&&At.loading?React__default.createElement("div",{className:M(xt==null?void 0:xt.loader,(_n=_e==null?void 0:_e.classNames)==null?void 0:_n.loader,"sonner-loader"),"data-visible":kn==="loading"},At.loading):Ut?React__default.createElement("div",{className:M(xt==null?void 0:xt.loader,(Tn=_e==null?void 0:_e.classNames)==null?void 0:Tn.loader,"sonner-loader"),"data-visible":kn==="loading"},Ut):React__default.createElement(Yt,{className:M(xt==null?void 0:xt.loader,(It=_e==null?void 0:_e.classNames)==null?void 0:It.loader),visible:kn==="loading"})}return React__default.createElement("li",{tabIndex:0,ref:vn,className:M(Ct,Un,xt==null?void 0:xt.toast,(s=_e==null?void 0:_e.classNames)==null?void 0:s.toast,xt==null?void 0:xt.default,xt==null?void 0:xt[kn],(i=_e==null?void 0:_e.classNames)==null?void 0:i[kn]),"data-sonner-toast":"","data-rich-colors":(a=_e.richColors)!=null?a:dt,"data-styled":!(_e.jsx||_e.unstyled||ct),"data-mounted":Rt,"data-promise":!!_e.promise,"data-swiped":xn,"data-removed":Kt,"data-visible":en,"data-y-position":ln,"data-x-position":Ln,"data-index":at,"data-front":bn,"data-swiping":un,"data-dismissible":Cn,"data-type":kn,"data-invert":Bt,"data-swipe-out":yn,"data-swipe-direction":Et,"data-expanded":!!(ot||zt&&Rt),style:{"--index":at,"--toasts-before":at,"--z-index":ht.length-at,"--offset":`${Kt?on:Kn.current}px`,"--initial-height":zt?"auto":`${Vt}px`,...gt,..._e.style},onDragEnd:()=>{fn(!1),lt(null),an.current=null},onPointerDown:_n=>{mn||!Cn||(pn.current=new Date,Tt(Kn.current),_n.target.setPointerCapture(_n.pointerId),_n.target.tagName!=="BUTTON"&&(fn(!0),an.current={x:_n.clientX,y:_n.clientY}))},onPointerUp:()=>{var _n,Tn,It,Mt;if(yn||!Cn)return;an.current=null;let Gt=Number(((_n=vn.current)==null?void 0:_n.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dn=Number(((Tn=vn.current)==null?void 0:Tn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hn=new Date().getTime()-((It=pn.current)==null?void 0:It.getTime()),gn=st==="x"?Gt:dn,Sn=Math.abs(gn)/hn;if(Math.abs(gn)>=ye||Sn>.11){Tt(Kn.current),(Mt=_e.onDismiss)==null||Mt.call(_e,_e),Pt(st==="x"?Gt>0?"right":"left":dn>0?"down":"up"),An(),wn(!0),rn(!1);return}fn(!1),lt(null)},onPointerMove:_n=>{var Tn,It,Mt,Gt;if(!an.current||!Cn||((Tn=window.getSelection())==null?void 0:Tn.toString().length)>0)return;let dn=_n.clientY-an.current.y,hn=_n.clientX-an.current.x,gn=(It=e.swipeDirections)!=null?It:xe($t);!st&&(Math.abs(hn)>1||Math.abs(dn)>1)&&lt(Math.abs(hn)>Math.abs(dn)?"x":"y");let Sn={x:0,y:0};st==="y"?(gn.includes("top")||gn.includes("bottom"))&&(gn.includes("top")&&dn<0||gn.includes("bottom")&&dn>0)&&(Sn.y=dn):st==="x"&&(gn.includes("left")||gn.includes("right"))&&(gn.includes("left")&&hn<0||gn.includes("right")&&hn>0)&&(Sn.x=hn),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&rn(!0),(Mt=vn.current)==null||Mt.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(Gt=vn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},Dn&&!_e.jsx?React__default.createElement("button",{"aria-label":Lt,"data-disabled":mn,"data-close-button":!0,onClick:mn||!Cn?()=>{}:()=>{var _n;An(),(_n=_e.onDismiss)==null||_n.call(_e,_e)},className:M(xt==null?void 0:xt.closeButton,(o=_e==null?void 0:_e.classNames)==null?void 0:o.closeButton)},(c=At==null?void 0:At.close)!=null?c:Ot):null,_e.jsx||reactExports.isValidElement(_e.title)?_e.jsx?_e.jsx:typeof _e.title=="function"?_e.title():_e.title:React__default.createElement(React__default.Fragment,null,kn||_e.icon||_e.promise?React__default.createElement("div",{"data-icon":"",className:M(xt==null?void 0:xt.icon,(d=_e==null?void 0:_e.classNames)==null?void 0:d.icon)},_e.promise||_e.type==="loading"&&!_e.icon?_e.icon||Fn():null,_e.type!=="loading"?_e.icon||(At==null?void 0:At[kn])||jt(kn):null):null,React__default.createElement("div",{"data-content":"",className:M(xt==null?void 0:xt.content,(g=_e==null?void 0:_e.classNames)==null?void 0:g.content)},React__default.createElement("div",{"data-title":"",className:M(xt==null?void 0:xt.title,(h=_e==null?void 0:_e.classNames)==null?void 0:h.title)},typeof _e.title=="function"?_e.title():_e.title),_e.description?React__default.createElement("div",{"data-description":"",className:M(Dt,Vn,xt==null?void 0:xt.description,(b=_e==null?void 0:_e.classNames)==null?void 0:b.description)},typeof _e.description=="function"?_e.description():_e.description):null),reactExports.isValidElement(_e.cancel)?_e.cancel:_e.cancel&&tt(_e.cancel)?React__default.createElement("button",{"data-button":!0,"data-cancel":!0,style:_e.cancelButtonStyle||kt,onClick:_n=>{var Tn,It;tt(_e.cancel)&&Cn&&((It=(Tn=_e.cancel).onClick)==null||It.call(Tn,_n),An())},className:M(xt==null?void 0:xt.cancelButton,(_=_e==null?void 0:_e.classNames)==null?void 0:_.cancelButton)},_e.cancel.label):null,reactExports.isValidElement(_e.action)?_e.action:_e.action&&tt(_e.action)?React__default.createElement("button",{"data-button":!0,"data-action":!0,style:_e.actionButtonStyle||mt,onClick:_n=>{var Tn,It;tt(_e.action)&&((It=(Tn=_e.action).onClick)==null||It.call(Tn,_n),!_n.defaultPrevented&&An())},className:M(xt==null?void 0:xt.actionButton,(j=_e==null?void 0:_e.classNames)==null?void 0:j.actionButton)},_e.action.label):null))};function _t(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Te(e,s){let i={};return[e,s].forEach((a,o)=>{let c=o===1,d=c?"--mobile-offset":"--offset",g=c?ge:me;function h(b){["top","right","bottom","left"].forEach(_=>{i[`${d}-${_}`]=typeof b=="number"?`${b}px`:b})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(b=>{a[b]===void 0?i[`${d}-${b}`]=g:i[`${d}-${b}`]=typeof a[b]=="number"?`${a[b]}px`:a[b]}):h(g)}),i}var $e=reactExports.forwardRef(function(e,s){let{invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:g,offset:h,mobileOffset:b,theme:_="light",richColors:j,duration:rt,style:_e,visibleToasts:ct=pe,toastOptions:it,dir:ut=_t(),gap:nt=be,loadingIcon:et,icons:at,containerAriaLabel:ht="Notifications",pauseWhenPageIsHidden:ot}=e,[pt,dt]=React__default.useState([]),ft=React__default.useMemo(()=>Array.from(new Set([a].concat(pt.filter(St=>St.position).map(St=>St.position)))),[pt,a]),[gt,kt]=React__default.useState([]),[mt,Ct]=React__default.useState(!1),[Dt,Zt]=React__default.useState(!1),[$t,Ht]=React__default.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ut=React__default.useRef(null),zt=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),xt=React__default.useRef(null),At=React__default.useRef(!1),Lt=React__default.useCallback(St=>{dt(st=>{var lt;return(lt=st.find(Et=>Et.id===St.id))!=null&&lt.delete||v.dismiss(St.id),st.filter(({id:Et})=>Et!==St.id)})},[]);return React__default.useEffect(()=>v.subscribe(St=>{if(St.dismiss){dt(st=>st.map(lt=>lt.id===St.id?{...lt,delete:!0}:lt));return}setTimeout(()=>{vt.flushSync(()=>{dt(st=>{let lt=st.findIndex(Et=>Et.id===St.id);return lt!==-1?[...st.slice(0,lt),{...st[lt],...St},...st.slice(lt+1)]:[St,...st]})})})}),[]),React__default.useEffect(()=>{if(_!=="system"){Ht(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ht("dark"):Ht("light")),typeof window>"u")return;let St=window.matchMedia("(prefers-color-scheme: dark)");try{St.addEventListener("change",({matches:st})=>{Ht(st?"dark":"light")})}catch{St.addListener(({matches:lt})=>{try{Ht(lt?"dark":"light")}catch(Et){console.error(Et)}})}},[_]),React__default.useEffect(()=>{pt.length<=1&&Ct(!1)},[pt]),React__default.useEffect(()=>{let St=st=>{var lt,Et;o.every(Pt=>st[Pt]||st.code===Pt)&&(Ct(!0),(lt=Ut.current)==null||lt.focus()),st.code==="Escape"&&(document.activeElement===Ut.current||(Et=Ut.current)!=null&&Et.contains(document.activeElement))&&Ct(!1)};return document.addEventListener("keydown",St),()=>document.removeEventListener("keydown",St)},[o]),React__default.useEffect(()=>{if(Ut.current)return()=>{xt.current&&(xt.current.focus({preventScroll:!0}),xt.current=null,At.current=!1)}},[Ut.current]),React__default.createElement("section",{ref:s,"aria-label":`${ht} ${zt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ft.map((St,st)=>{var lt;let[Et,Pt]=St.split("-");return pt.length?React__default.createElement("ol",{key:St,dir:ut==="auto"?_t():ut,tabIndex:-1,ref:Ut,className:g,"data-sonner-toaster":!0,"data-theme":$t,"data-y-position":Et,"data-lifted":mt&&pt.length>1&&!c,"data-x-position":Pt,style:{"--front-toast-height":`${((lt=gt[0])==null?void 0:lt.height)||0}px`,"--width":`${he}px`,"--gap":`${nt}px`,..._e,...Te(h,b)},onBlur:Rt=>{At.current&&!Rt.currentTarget.contains(Rt.relatedTarget)&&(At.current=!1,xt.current&&(xt.current.focus({preventScroll:!0}),xt.current=null))},onFocus:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||At.current||(At.current=!0,xt.current=Rt.relatedTarget)},onMouseEnter:()=>Ct(!0),onMouseMove:()=>Ct(!0),onMouseLeave:()=>{Dt||Ct(!1)},onDragEnd:()=>Ct(!1),onPointerDown:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||Zt(!0)},onPointerUp:()=>Zt(!1)},pt.filter(Rt=>!Rt.position&&st===0||Rt.position===St).map((Rt,Nt)=>{var Kt,nn;return React__default.createElement(ve,{key:Rt.id,icons:at,index:Nt,toast:Rt,defaultRichColors:j,duration:(Kt=it==null?void 0:it.duration)!=null?Kt:rt,className:it==null?void 0:it.className,descriptionClassName:it==null?void 0:it.descriptionClassName,invert:i,visibleToasts:ct,closeButton:(nn=it==null?void 0:it.closeButton)!=null?nn:d,interacting:Dt,position:St,style:it==null?void 0:it.style,unstyled:it==null?void 0:it.unstyled,classNames:it==null?void 0:it.classNames,cancelButtonStyle:it==null?void 0:it.cancelButtonStyle,actionButtonStyle:it==null?void 0:it.actionButtonStyle,removeToast:Lt,toasts:pt.filter(un=>un.position==Rt.position),heights:gt.filter(un=>un.position==Rt.position),setHeights:kt,expandByDefault:c,gap:nt,loadingIcon:et,expanded:mt,pauseWhenPageIsHidden:ot,swipeDirections:e.swipeDirections})})):null}))});const MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(e,s,i,a){const{visualElement:o}=reactExports.useContext(MotionContext),c=reactExports.useContext(LazyContext),d=reactExports.useContext(PresenceContext),g=reactExports.useContext(MotionConfigContext).reducedMotion,h=reactExports.useRef();a=a||c.renderer,!h.current&&a&&(h.current=a(e,{visualState:s,parent:o,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const b=h.current;reactExports.useInsertionEffect(()=>{b&&b.update(i,d)});const _=reactExports.useRef(!!(i[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{b&&(b.render(),_.current&&b.animationState&&b.animationState.animateChanges())}),reactExports.useEffect(()=>{b&&(b.updateFeatures(),!_.current&&b.animationState&&b.animationState.animateChanges(),_.current&&(_.current=!1,window.HandoffComplete=!0))}),b}function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,i){return reactExports.useCallback(a=>{a&&e.mount&&e.mount(a),s&&(a?s.mount(a):s.unmount()),i&&(typeof i=="function"?i(a):isRefObject(i)&&(i.current=a))},[s])}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:i,animate:a}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(a)?a:void 0}}return e.inherit!==!1?s:{}}function useCreateMotionContext(e){const{initial:s,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:s=>featureProps[e].some(i=>!!s[i])};function loadFeatures(e){for(const s in e)featureDefinitions[s]={...featureDefinitions[s],...e[s]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:e,createVisualElement:s,useRender:i,useVisualState:a,Component:o}){e&&loadFeatures(e);function c(g,h){let b;const _={...reactExports.useContext(MotionConfigContext),...g,layoutId:useLayoutId(g)},{isStatic:j}=_,rt=useCreateMotionContext(g),_e=a(g,j);if(!j&&isBrowser$1){rt.visualElement=useVisualElement(o,_e,_,s);const ct=reactExports.useContext(SwitchLayoutGroupContext),it=reactExports.useContext(LazyContext).strict;rt.visualElement&&(b=rt.visualElement.loadFeatures(_,it,e,ct))}return reactExports.createElement(MotionContext.Provider,{value:rt},b&&rt.visualElement?reactExports.createElement(b,{visualElement:rt.visualElement,..._}):null,i(o,g,useMotionRef(_e,rt.visualElement,h),_e,j,rt.visualElement))}const d=reactExports.forwardRef(c);return d[motionComponentSymbol]=o,d}function useLayoutId({layoutId:e}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&e!==void 0?s+"-"+e:e}function createMotionProxy(e){function s(a,o={}){return createMotionComponent(e(a,o))}if(typeof Proxy>"u")return s;const i=new Map;return new Proxy(s,{get:(a,o)=>(i.has(o)||i.set(o,s(o)),i.get(o))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/.test(e))}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(e,{layout:s,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const isMotionValue=e=>!!(e&&e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,{enableHardwareAcceleration:s=!0,allowTransformNone:i=!0},a,o){let c="";for(let d=0;d<numTransforms;d++){const g=transformPropOrder[d];if(e[g]!==void 0){const h=translateAlias[g]||g;c+=`${h}(${e[g]}) `}}return s&&!e.z&&(c+="translateZ(0)"),c=c.trim(),o?c=o(e,a?"":c):i&&a&&(c="none"),c}const checkStringStartsWith=e=>s=>typeof s=="string"&&s.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(e,s)=>s&&typeof e=="number"?s.transform(e):e,clamp=(e,s,i)=>Math.min(Math.max(i,e),s),number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(e){return typeof e=="string"}const createUnitType=e=>({test:s=>isString(s)&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(e,s,i,a){const{style:o,vars:c,transform:d,transformOrigin:g}=e;let h=!1,b=!1,_=!0;for(const j in s){const rt=s[j];if(isCSSVariableName(j)){c[j]=rt;continue}const _e=numberValueTypes[j],ct=getValueAsType(rt,_e);if(transformProps.has(j)){if(h=!0,d[j]=ct,!_)continue;rt!==(_e.default||0)&&(_=!1)}else j.startsWith("origin")?(b=!0,g[j]=ct):o[j]=ct}if(s.transform||(h||a?o.transform=buildTransform(e.transform,i,_,a):o.transform&&(o.transform="none")),b){const{originX:j="50%",originY:rt="50%",originZ:_e=0}=g;o.transformOrigin=`${j} ${rt} ${_e}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,s,i){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,i)&&(e[a]=s[a])}function useInitialMotionValues({transformTemplate:e},s,i){return reactExports.useMemo(()=>{const a=createHtmlRenderState();return buildHTMLStyles(a,s,{enableHardwareAcceleration:!i},e),Object.assign({},a.vars,a.style)},[s])}function useStyle(e,s,i){const a=e.style||{},o={};return copyRawValuesOnly(o,a,e),Object.assign(o,useInitialMotionValues(e,s,i)),e.transformValues?e.transformValues(o):o}function useHTMLProps(e,s,i){const a={},o=useStyle(e,s,i);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=o,a}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,s,i){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(shouldForward(o)||i===!0&&isValidMotionProp(o)||!s&&!isValidMotionProp(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}function calcOrigin$1(e,s,i){return typeof e=="string"?e:px.transform(s+i*e)}function calcSVGTransformOrigin(e,s,i){const a=calcOrigin$1(s,e.x,e.width),o=calcOrigin$1(i,e.y,e.height);return`${a} ${o}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,s,i=1,a=0,o=!0){e.pathLength=1;const c=o?dashKeys:camelKeys;e[c.offset]=px.transform(-a);const d=px.transform(s),g=px.transform(i);e[c.array]=`${d} ${g}`}function buildSVGAttrs(e,{attrX:s,attrY:i,attrScale:a,originX:o,originY:c,pathLength:d,pathSpacing:g=1,pathOffset:h=0,...b},_,j,rt){if(buildHTMLStyles(e,b,_,rt),j){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_e,style:ct,dimensions:it}=e;_e.transform&&(it&&(ct.transform=_e.transform),delete _e.transform),it&&(o!==void 0||c!==void 0||ct.transform)&&(ct.transformOrigin=calcSVGTransformOrigin(it,o!==void 0?o:.5,c!==void 0?c:.5)),s!==void 0&&(_e.x=s),i!==void 0&&(_e.y=i),a!==void 0&&(_e.scale=a),d!==void 0&&buildSVGPath(_e,d,g,h,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,s,i,a){const o=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,{enableHardwareAcceleration:!1},isSVGTag(a),e.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),o.style={...c,...o.style}}return o}function createUseRender(e=!1){return(i,a,o,{latestValues:c},d)=>{const h=(isSVGComponent(i)?useSVGProps:useHTMLProps)(a,c,d,i),_={...filterProps(a,typeof i=="string",e),...h,ref:o},{children:j}=a,rt=reactExports.useMemo(()=>isMotionValue(j)?j.get():j,[j]);return reactExports.createElement(i,{..._,children:rt})}}function renderHTML(e,{style:s,vars:i},a,o){Object.assign(e.style,s,o&&o.getProjectionStyles(a));for(const c in i)e.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,s,i,a){renderHTML(e,s,void 0,a);for(const o in s.attrs)e.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),s.attrs[o])}function scrapeMotionValuesFromProps$1(e,s){const{style:i}=e,a={};for(const o in i)(isMotionValue(i[o])||s.style&&isMotionValue(s.style[o])||isForcedMotionValue(o,e))&&(a[o]=i[o]);return a}function scrapeMotionValuesFromProps(e,s){const i=scrapeMotionValuesFromProps$1(e,s);for(const a in e)if(isMotionValue(e[a])||isMotionValue(s[a])){const o=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=e[a]}return i}function resolveVariantFromProps(e,s,i,a={},o={}){return typeof s=="function"&&(s=s(i!==void 0?i:e.custom,a,o)),typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"&&(s=s(i!==void 0?i:e.custom,a,o)),s}function useConstant(e){const s=reactExports.useRef(null);return s.current===null&&(s.current=e()),s.current}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e;function resolveMotionValue(e){const s=isMotionValue(e)?e.get():e;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:e,createRenderState:s,onMount:i},a,o,c){const d={latestValues:makeLatestValues(a,o,c,e),renderState:s()};return i&&(d.mount=g=>i(a,g,d)),d}const makeUseVisualState=e=>(s,i)=>{const a=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),c=()=>makeState(e,s,a,o);return i?c():useConstant(c)};function makeLatestValues(e,s,i,a){const o={},c=a(e,{});for(const rt in c)o[rt]=resolveMotionValue(c[rt]);let{initial:d,animate:g}=e;const h=isControllingVariants(e),b=isVariantNode(e);s&&b&&!h&&e.inherit!==!1&&(d===void 0&&(d=s.initial),g===void 0&&(g=s.animate));let _=i?i.initial===!1:!1;_=_||d===!1;const j=_?g:d;return j&&typeof j!="boolean"&&!isAnimationControls(j)&&(Array.isArray(j)?j:[j]).forEach(_e=>{const ct=resolveVariantFromProps(e,_e);if(!ct)return;const{transitionEnd:it,transition:ut,...nt}=ct;for(const et in nt){let at=nt[et];if(Array.isArray(at)){const ht=_?at.length-1:0;at=at[ht]}at!==null&&(o[et]=at)}for(const et in it)o[et]=it[et]}),o}const noop=e=>e;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(s){if(!this.scheduled.has(s))return this.scheduled.add(s),this.order.push(s),!0}remove(s){const i=this.order.indexOf(s);i!==-1&&(this.order.splice(i,1),this.scheduled.delete(s))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(e){let s=new Queue,i=new Queue,a=0,o=!1,c=!1;const d=new WeakSet,g={schedule:(h,b=!1,_=!1)=>{const j=_&&o,rt=j?s:i;return b&&d.add(h),rt.add(h)&&j&&o&&(a=s.order.length),h},cancel:h=>{i.remove(h),d.delete(h)},process:h=>{if(o){c=!0;return}if(o=!0,[s,i]=[i,s],i.clear(),a=s.order.length,a)for(let b=0;b<a;b++){const _=s.order[b];_(h),d.has(_)&&(g.schedule(_),e())}o=!1,c&&(c=!1,g.process(h))}};return g}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,s){let i=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=stepsOrder.reduce((j,rt)=>(j[rt]=createRenderStep(()=>i=!0),j),{}),d=j=>c[j].process(o),g=()=>{const j=performance.now();i=!1,o.delta=a?1e3/60:Math.max(Math.min(j-o.timestamp,maxElapsed),1),o.timestamp=j,o.isProcessing=!0,stepsOrder.forEach(d),o.isProcessing=!1,i&&s&&(a=!1,e(g))},h=()=>{i=!0,a=!0,o.isProcessing||e(g)};return{schedule:stepsOrder.reduce((j,rt)=>{const _e=c[rt];return j[rt]=(ct,it=!1,ut=!1)=>(i||h(),_e.schedule(ct,it,ut)),j},{}),cancel:j=>stepsOrder.forEach(rt=>c[rt].cancel(j)),state:o,steps:c}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(e,s,{renderState:i,latestValues:a})=>{frame.read(()=>{try{i.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(i,a,{enableHardwareAcceleration:!1},isSVGTag(s.tagName),e.transformTemplate),renderSVG(s,i)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(e,{forwardMotionProps:s=!1},i,a){return{...isSVGComponent(e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:i,useRender:createUseRender(s),createVisualElement:a,Component:e}}function addDomEvent(e,s,i,a={passive:!0}){return e.addEventListener(s,i,a),()=>e.removeEventListener(s,i)}const isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function extractEventInfo(e,s="page"){return{point:{x:e[s+"X"],y:e[s+"Y"]}}}const addPointerInfo=e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s));function addPointerEvent(e,s,i,a){return addDomEvent(e,s,addPointerInfo(i),a)}const combineFunctions=(e,s)=>i=>s(e(i)),pipe=(...e)=>e.reduce(combineFunctions);function createLock(e){let s=null;return()=>{const i=()=>{s=null};return s===null?(s=e,i):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(e){let s=!1;if(e==="y")s=globalVerticalLock();else if(e==="x")s=globalHorizontalLock();else{const i=globalHorizontalLock(),a=globalVerticalLock();i&&a?s=()=>{i(),a()}:(i&&i(),a&&a())}return s}function isDragActive(){const e=getGlobalLock(!0);return e?(e(),!1):!0}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}function addHoverEvent(e,s){const i="pointer"+(s?"enter":"leave"),a="onHover"+(s?"Start":"End"),o=(c,d)=>{if(c.pointerType==="touch"||isDragActive())return;const g=e.getProps();e.animationState&&g.whileHover&&e.animationState.setActive("whileHover",s),g[a]&&frame.update(()=>g[a](c,d))};return addPointerEvent(e.current,i,o,{passive:!e.getProps()[a]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(e,s)=>s?e===s?!0:isNodeOrChild(e,s.parentElement):!1;function fireSyntheticPointerEvent(e,s){if(!s)return;const i=new PointerEvent("pointer"+e);s(i,extractEventInfo(i))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(s,i)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),c=addPointerEvent(window,"pointerup",(g,h)=>{if(!this.checkPressEnd())return;const{onTap:b,onTapCancel:_,globalTapTarget:j}=this.node.getProps();frame.update(()=>{!j&&!isNodeOrChild(this.node.current,g.target)?_&&_(g,h):b&&b(g,h)})},{passive:!(a.onTap||a.onPointerUp)}),d=addPointerEvent(window,"pointercancel",(g,h)=>this.cancelPress(g,h),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=pipe(c,d),this.startPress(s,i)},this.startAccessiblePress=()=>{const s=c=>{if(c.key!=="Enter"||this.isPressing)return;const d=g=>{g.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(h,b)=>{const{onTap:_}=this.node.getProps();_&&frame.update(()=>_(h,b))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",d),fireSyntheticPointerEvent("down",(g,h)=>{this.startPress(g,h)})},i=addDomEvent(this.node.current,"keydown",s),a=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(c,d)=>this.cancelPress(c,d))},o=addDomEvent(this.node.current,"blur",a);this.removeAccessibleListeners=pipe(i,o)}}startPress(s,i){this.isPressing=!0;const{onTapStart:a,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&frame.update(()=>a(s,i))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(s,i){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&frame.update(()=>a(s,i))}mount(){const s=this.node.getProps(),i=addPointerEvent(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),a=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(i,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const s=observerCallbacks.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...s}){const i=e||document;observers.has(i)||observers.set(i,{});const a=observers.get(i),o=JSON.stringify(s);return a[o]||(a[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),a[o]}function observeIntersection(e,s,i){const a=initIntersectionObserver(s);return observerCallbacks.set(e,i),a.observe(e),()=>{observerCallbacks.delete(e),a.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:a,amount:o="some",once:c}=s,d={root:i?i.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:thresholdNames[o]},g=h=>{const{isIntersecting:b}=h;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:_,onViewportLeave:j}=this.node.getProps(),rt=b?_:j;rt&&rt(h)};return observeIntersection(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return i=>e[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(e,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(s[a]!==e[a])return!1;return!0}function getCurrent(e){const s={};return e.values.forEach((i,a)=>s[a]=i.get()),s}function getVelocity$1(e){const s={};return e.values.forEach((i,a)=>s[a]=i.getVelocity()),s}function resolveVariant(e,s,i){const a=e.getProps();return resolveVariantFromProps(a,s,i!==void 0?i:a.custom,getCurrent(e),getVelocity$1(e))}let invariant=noop;const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,instantAnimationState={current:!1},isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number";function isWaapiSupportedEasing(e){return!!(!e||typeof e=="string"&&supportedWaapiEasing[e]||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,s,i,a])=>`cubic-bezier(${e}, ${s}, ${i}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e){if(e)return isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(mapEasingToNativeEasing):supportedWaapiEasing[e]}function animateStyle(e,s,i,{delay:a=0,duration:o,repeat:c=0,repeatType:d="loop",ease:g,times:h}={}){const b={[s]:i};h&&(b.offset=h);const _=mapEasingToNativeEasing(g);return Array.isArray(_)&&(b.easing=_),e.animate(b,{delay:a,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}function getFinalKeyframe(e,{repeat:s,repeatType:i="loop"}){const a=s&&i!=="loop"&&s%2===1?0:e.length-1;return e[a]}const calcBezier=(e,s,i)=>(((1-3*i+3*s)*e+(3*i-6*s))*e+3*s)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,s,i,a,o){let c,d,g=0;do d=s+(i-s)/2,c=calcBezier(d,a,o)-e,c>0?i=d:s=d;while(Math.abs(c)>subdivisionPrecision&&++g<subdivisionMaxIterations);return d}function cubicBezier(e,s,i,a){if(e===s&&i===a)return noop;const o=c=>binarySubdivide(c,0,1,e,i);return c=>c===0||c===1?c:calcBezier(o(c),s,a)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(Array.isArray(e)){invariant(e.length===4);const[s,i,a,o]=e;return cubicBezier(s,i,a,o)}else if(typeof e=="string")return easingLookup[e];return e},isColorString=(e,s)=>i=>!!(isString(i)&&singleColorRegex.test(i)&&i.startsWith(e)||s&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(e,s,i)=>a=>{if(!isString(a))return a;const[o,c,d,g]=a.match(floatRegex);return{[e]:parseFloat(o),[s]:parseFloat(c),[i]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:i,alpha:a=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(a))+")"};function parseHex(e){let s="",i="",a="",o="";return e.length>5?(s=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(s=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),s+=s,i+=i,a+=a,o+=o),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(a))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>isString(e)?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},mix=(e,s,i)=>-i*e+i*s+e;function hueToRgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:s,lightness:i,alpha:a}){e/=360,s/=100,i/=100;let o=0,c=0,d=0;if(!s)o=c=d=i;else{const g=i<.5?i*(1+s):i+s-i*s,h=2*i-g;o=hueToRgb(h,g,e+1/3),c=hueToRgb(h,g,e),d=hueToRgb(h,g,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:a}}const mixLinearColor=(e,s,i)=>{const a=e*e;return Math.sqrt(Math.max(0,i*(s*s-a)+a))},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(s=>s.test(e));function asRGBA(e){const s=getColorType(e);let i=s.parse(e);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,s)=>{const i=asRGBA(e),a=asRGBA(s),o={...i};return c=>(o.red=mixLinearColor(i.red,a.red,c),o.green=mixLinearColor(i.green,a.green,c),o.blue=mixLinearColor(i.blue,a.blue,c),o.alpha=mix(i.alpha,a.alpha,c),rgba.transform(o))};function test(e){var s,i;return isNaN(e)&&isString(e)&&(((s=e.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number.parse};function tokenise(e,{regex:s,countKey:i,token:a,parse:o}){const c=e.tokenised.match(s);c&&(e["num"+i]=c.length,e.tokenised=e.tokenised.replace(s,a),e.values.push(...c.map(o)))}function analyseComplexValue(e){const s=e.toString(),i={value:s,tokenised:s,values:[],numVars:0,numColors:0,numNumbers:0};return i.value.includes("var(--")&&tokenise(i,cssVarTokeniser),tokenise(i,colorTokeniser),tokenise(i,numberTokeniser),i}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{values:s,numColors:i,numVars:a,tokenised:o}=analyseComplexValue(e),c=s.length;return d=>{let g=o;for(let h=0;h<c;h++)h<a?g=g.replace(cssVarTokeniser.token,d[h]):h<a+i?g=g.replace(colorTokeniser.token,color.transform(d[h])):g=g.replace(numberTokeniser.token,sanitize(d[h]));return g}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(e,s)=>i=>`${i>0?s:e}`;function getMixer(e,s){return typeof e=="number"?i=>mix(e,s,i):color.test(e)?mixColor(e,s):e.startsWith("var(")?mixImmediate(e,s):mixComplex(e,s)}const mixArray=(e,s)=>{const i=[...e],a=i.length,o=e.map((c,d)=>getMixer(c,s[d]));return c=>{for(let d=0;d<a;d++)i[d]=o[d](c);return i}},mixObject=(e,s)=>{const i={...e,...s},a={};for(const o in i)e[o]!==void 0&&s[o]!==void 0&&(a[o]=getMixer(e[o],s[o]));return o=>{for(const c in a)i[c]=a[c](o);return i}},mixComplex=(e,s)=>{const i=complex.createTransformer(s),a=analyseComplexValue(e),o=analyseComplexValue(s);return a.numVars===o.numVars&&a.numColors===o.numColors&&a.numNumbers>=o.numNumbers?pipe(mixArray(a.values,o.values),i):mixImmediate(e,s)},progress=(e,s,i)=>{const a=s-e;return a===0?1:(i-e)/a},mixNumber=(e,s)=>i=>mix(e,s,i);function detectMixerFactory(e){return typeof e=="number"?mixNumber:typeof e=="string"?color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?mixObject:mixNumber}function createMixers(e,s,i){const a=[],o=i||detectMixerFactory(e[0]),c=e.length-1;for(let d=0;d<c;d++){let g=o(e[d],e[d+1]);if(s){const h=Array.isArray(s)?s[d]||noop:s;g=pipe(h,g)}a.push(g)}return a}function interpolate(e,s,{clamp:i=!0,ease:a,mixer:o}={}){const c=e.length;if(invariant(c===s.length),c===1)return()=>s[0];e[0]>e[c-1]&&(e=[...e].reverse(),s=[...s].reverse());const d=createMixers(s,a,o),g=d.length,h=b=>{let _=0;if(g>1)for(;_<e.length-2&&!(b<e[_+1]);_++);const j=progress(e[_],e[_+1],b);return d[_](j)};return i?b=>h(clamp(e[0],e[c-1],b)):h}function fillOffset(e,s){const i=e[e.length-1];for(let a=1;a<=s;a++){const o=progress(0,s,a);e.push(mix(i,1,o))}}function defaultOffset(e){const s=[0];return fillOffset(s,e.length-1),s}function convertOffsetToTimes(e,s){return e.map(i=>i*s)}function defaultEasing(e,s){return e.map(()=>s||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:s,times:i,ease:a="easeInOut"}){const o=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),c={done:!1,value:s[0]},d=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),e),g=interpolate(d,s,{ease:Array.isArray(o)?o:defaultEasing(s,o)});return{calculatedDuration:e,next:h=>(c.value=g(h),c.done=h>=e,c)}}function velocityPerSecond(e,s){return s?e*(1e3/s):0}const velocitySampleDuration=5;function calcGeneratorVelocity(e,s,i){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-e(a),s-a)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:e=800,bounce:s=.25,velocity:i=0,mass:a=1}){let o,c,d=1-s;d=clamp(minDamping,maxDamping,d),e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(e)),d<1?(o=b=>{const _=b*d,j=_*e,rt=_-i,_e=calcAngularFreq(b,d),ct=Math.exp(-j);return safeMin-rt/_e*ct},c=b=>{const j=b*d*e,rt=j*i+i,_e=Math.pow(d,2)*Math.pow(b,2)*e,ct=Math.exp(-j),it=calcAngularFreq(Math.pow(b,2),d);return(-o(b)+safeMin>0?-1:1)*((rt-_e)*ct)/it}):(o=b=>{const _=Math.exp(-b*e),j=(b-i)*e+1;return-safeMin+_*j},c=b=>{const _=Math.exp(-b*e),j=(i-b)*(e*e);return _*j});const g=5/e,h=approximateRoot(o,c,g);if(e=secondsToMilliseconds(e),isNaN(h))return{stiffness:100,damping:10,duration:e};{const b=Math.pow(h,2)*a;return{stiffness:b,damping:d*2*Math.sqrt(a*b),duration:e}}}const rootIterations=12;function approximateRoot(e,s,i){let a=i;for(let o=1;o<rootIterations;o++)a=a-e(a)/s(a);return a}function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(i=>e[i]!==void 0)}function getSpringOptions(e){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)){const i=findSpring(e);s={...s,...i,mass:1},s.isResolvedFromDuration=!0}return s}function spring({keyframes:e,restDelta:s,restSpeed:i,...a}){const o=e[0],c=e[e.length-1],d={done:!1,value:o},{stiffness:g,damping:h,mass:b,duration:_,velocity:j,isResolvedFromDuration:rt}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),_e=j||0,ct=h/(2*Math.sqrt(g*b)),it=c-o,ut=millisecondsToSeconds(Math.sqrt(g/b)),nt=Math.abs(it)<5;i||(i=nt?.01:2),s||(s=nt?.005:.5);let et;if(ct<1){const at=calcAngularFreq(ut,ct);et=ht=>{const ot=Math.exp(-ct*ut*ht);return c-ot*((_e+ct*ut*it)/at*Math.sin(at*ht)+it*Math.cos(at*ht))}}else if(ct===1)et=at=>c-Math.exp(-ut*at)*(it+(_e+ut*it)*at);else{const at=ut*Math.sqrt(ct*ct-1);et=ht=>{const ot=Math.exp(-ct*ut*ht),pt=Math.min(at*ht,300);return c-ot*((_e+ct*ut*it)*Math.sinh(pt)+at*it*Math.cosh(pt))/at}}return{calculatedDuration:rt&&_||null,next:at=>{const ht=et(at);if(rt)d.done=at>=_;else{let ot=_e;at!==0&&(ct<1?ot=calcGeneratorVelocity(et,at,ht):ot=0);const pt=Math.abs(ot)<=i,dt=Math.abs(c-ht)<=s;d.done=pt&&dt}return d.value=d.done?c:ht,d}}}function inertia({keyframes:e,velocity:s=0,power:i=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:g,max:h,restDelta:b=.5,restSpeed:_}){const j=e[0],rt={done:!1,value:j},_e=ft=>g!==void 0&&ft<g||h!==void 0&&ft>h,ct=ft=>g===void 0?h:h===void 0||Math.abs(g-ft)<Math.abs(h-ft)?g:h;let it=i*s;const ut=j+it,nt=d===void 0?ut:d(ut);nt!==ut&&(it=nt-j);const et=ft=>-it*Math.exp(-ft/a),at=ft=>nt+et(ft),ht=ft=>{const gt=et(ft),kt=at(ft);rt.done=Math.abs(gt)<=b,rt.value=rt.done?nt:kt};let ot,pt;const dt=ft=>{_e(rt.value)&&(ot=ft,pt=spring({keyframes:[rt.value,ct(rt.value)],velocity:calcGeneratorVelocity(at,ft,rt.value),damping:o,stiffness:c,restDelta:b,restSpeed:_}))};return dt(0),{calculatedDuration:null,next:ft=>{let gt=!1;return!pt&&ot===void 0&&(gt=!0,ht(ft),dt(ft)),ot!==void 0&&ft>ot?pt.next(ft-ot):(!gt&&ht(ft),rt)}}}const frameloopDriver=e=>{const s=({timestamp:i})=>e(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let s=0;const i=50;let a=e.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=i,a=e.next(s);return s>=maxGeneratorDuration?1/0:s}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:e=!0,delay:s=0,driver:i=frameloopDriver,keyframes:a,type:o="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:g="loop",onPlay:h,onStop:b,onComplete:_,onUpdate:j,...rt}){let _e=1,ct=!1,it,ut;const nt=()=>{ut=new Promise(Lt=>{it=Lt})};nt();let et;const at=types[o]||keyframes;let ht;at!==keyframes&&typeof a[0]!="number"&&(ht=interpolate([0,100],a,{clamp:!1}),a=[0,100]);const ot=at({...rt,keyframes:a});let pt;g==="mirror"&&(pt=at({...rt,keyframes:[...a].reverse(),velocity:-(rt.velocity||0)}));let dt="idle",ft=null,gt=null,kt=null;ot.calculatedDuration===null&&c&&(ot.calculatedDuration=calcGeneratorDuration(ot));const{calculatedDuration:mt}=ot;let Ct=1/0,Dt=1/0;mt!==null&&(Ct=mt+d,Dt=Ct*(c+1)-d);let Zt=0;const $t=Lt=>{if(gt===null)return;_e>0&&(gt=Math.min(gt,Lt)),_e<0&&(gt=Math.min(Lt-Dt/_e,gt)),ft!==null?Zt=ft:Zt=Math.round(Lt-gt)*_e;const St=Zt-s*(_e>=0?1:-1),st=_e>=0?St<0:St>Dt;Zt=Math.max(St,0),dt==="finished"&&ft===null&&(Zt=Dt);let lt=Zt,Et=ot;if(c){const Kt=Math.min(Zt,Dt)/Ct;let nn=Math.floor(Kt),un=Kt%1;!un&&Kt>=1&&(un=1),un===1&&nn--,nn=Math.min(nn,c+1),!!(nn%2)&&(g==="reverse"?(un=1-un,d&&(un-=d/Ct)):g==="mirror"&&(Et=pt)),lt=clamp(0,1,un)*Ct}const Pt=st?{done:!1,value:a[0]}:Et.next(lt);ht&&(Pt.value=ht(Pt.value));let{done:Rt}=Pt;!st&&mt!==null&&(Rt=_e>=0?Zt>=Dt:Zt<=0);const Nt=ft===null&&(dt==="finished"||dt==="running"&&Rt);return j&&j(Pt.value),Nt&&zt(),Pt},Ht=()=>{et&&et.stop(),et=void 0},Ut=()=>{dt="idle",Ht(),it(),nt(),gt=kt=null},zt=()=>{dt="finished",_&&_(),Ht(),it()},xt=()=>{if(ct)return;et||(et=i($t));const Lt=et.now();h&&h(),ft!==null?gt=Lt-ft:(!gt||dt==="finished")&&(gt=Lt),dt==="finished"&&nt(),kt=gt,ft=null,dt="running",et.start()};e&&xt();const At={then(Lt,St){return ut.then(Lt,St)},get time(){return millisecondsToSeconds(Zt)},set time(Lt){Lt=secondsToMilliseconds(Lt),Zt=Lt,ft!==null||!et||_e===0?ft=Lt:gt=et.now()-Lt/_e},get duration(){const Lt=ot.calculatedDuration===null?calcGeneratorDuration(ot):ot.calculatedDuration;return millisecondsToSeconds(Lt)},get speed(){return _e},set speed(Lt){Lt===_e||!et||(_e=Lt,At.time=millisecondsToSeconds(Zt))},get state(){return dt},play:xt,pause:()=>{dt="paused",ft=Zt},stop:()=>{ct=!0,dt!=="idle"&&(dt="idle",b&&b(),Ut())},cancel:()=>{kt!==null&&$t(kt),Ut()},complete:()=>{dt="finished"},sample:Lt=>(gt=0,$t(Lt))};return At}function memo(e){let s;return()=>(s===void 0&&(s=e()),s)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(e,s)=>s.type==="spring"||e==="backgroundColor"||!isWaapiSupportedEasing(s.ease);function createAcceleratedAnimation(e,s,{onUpdate:i,onComplete:a,...o}){if(!(supportsWaapi()&&acceleratedValues.has(s)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let d=!1,g,h,b=!1;const _=()=>{h=new Promise(at=>{g=at})};_();let{keyframes:j,duration:rt=300,ease:_e,times:ct}=o;if(requiresPregeneratedKeyframes(s,o)){const at=animateValue({...o,repeat:0,delay:0});let ht={done:!1,value:j[0]};const ot=[];let pt=0;for(;!ht.done&&pt<maxDuration;)ht=at.sample(pt),ot.push(ht.value),pt+=sampleDelta;ct=void 0,j=ot,rt=pt-sampleDelta,_e="linear"}const it=animateStyle(e.owner.current,s,j,{...o,duration:rt,ease:_e,times:ct}),ut=()=>{b=!1,it.cancel()},nt=()=>{b=!0,frame.update(ut),g(),_()};return it.onfinish=()=>{b||(e.set(getFinalKeyframe(j,o)),a&&a(),nt())},{then(at,ht){return h.then(at,ht)},attachTimeline(at){return it.timeline=at,it.onfinish=null,noop},get time(){return millisecondsToSeconds(it.currentTime||0)},set time(at){it.currentTime=secondsToMilliseconds(at)},get speed(){return it.playbackRate},set speed(at){it.playbackRate=at},get duration(){return millisecondsToSeconds(rt)},play:()=>{d||(it.play(),cancelFrame(ut))},pause:()=>it.pause(),stop:()=>{if(d=!0,it.playState==="idle")return;const{currentTime:at}=it;if(at){const ht=animateValue({...o,autoplay:!1});e.setWithVelocity(ht.sample(at-sampleDelta).value,ht.sample(at).value,sampleDelta)}nt()},complete:()=>{b||it.finish()},cancel:nt}}function createInstantAnimation({keyframes:e,delay:s,onUpdate:i,onComplete:a}){const o=()=>(i&&i(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:noop,pause:noop,stop:noop,then:c=>(c(),Promise.resolve()),cancel:noop,complete:noop});return s?animateValue({keyframes:[0,1],duration:0,delay:s,onComplete:o}):o()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease,isAnimatable=(e,s)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(complex.test(s)||s==="0")&&!s.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,i]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[a]=i.match(floatRegex)||[];if(!a)return e;const o=i.replace(a,"");let c=maxDefaults.has(s)?1:0;return a!==i&&(c*=100),s+"("+c+o+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:e=>{const s=e.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,s){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const isZeroValueString=e=>/^0[^.\s]+$/.test(e);function isNone(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||isZeroValueString(e)}function getKeyframes(e,s,i,a){const o=isAnimatable(s,i);let c;Array.isArray(i)?c=[...i]:c=[null,i];const d=a.from!==void 0?a.from:e.get();let g;const h=[];for(let b=0;b<c.length;b++)c[b]===null&&(c[b]=b===0?d:c[b-1]),isNone(c[b])&&h.push(b),typeof c[b]=="string"&&c[b]!=="none"&&c[b]!=="0"&&(g=c[b]);if(o&&h.length&&g)for(let b=0;b<h.length;b++){const _=h[b];c[_]=getAnimatableNone(s,g)}return c}function isTransitionDefined({when:e,delay:s,delayChildren:i,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:g,from:h,elapsed:b,..._}){return!!Object.keys(_).length}function getValueTransition(e,s){return e[s]||e.default||e}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(e,s,i,a={})=>o=>{const c=getValueTransition(a,e)||{},d=c.delay||a.delay||0;let{elapsed:g=0}=a;g=g-secondsToMilliseconds(d);const h=getKeyframes(s,e,i,c),b=h[0],_=h[h.length-1],j=isAnimatable(e,b),rt=isAnimatable(e,_);let _e={keyframes:h,velocity:s.getVelocity(),ease:"easeOut",...c,delay:-g,onUpdate:ct=>{s.set(ct),c.onUpdate&&c.onUpdate(ct)},onComplete:()=>{o(),c.onComplete&&c.onComplete()}};if(isTransitionDefined(c)||(_e={..._e,...getDefaultTransition(e,_e)}),_e.duration&&(_e.duration=secondsToMilliseconds(_e.duration)),_e.repeatDelay&&(_e.repeatDelay=secondsToMilliseconds(_e.repeatDelay)),!j||!rt||instantAnimationState.current||c.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(_e);if(!a.isHandoff&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate){const ct=createAcceleratedAnimation(s,e,_e);if(ct)return ct}return animateValue(_e)};function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}const isNumericalString=e=>/^\-?\d*\.?\d+$/.test(e);function addUniqueItem(e,s){e.indexOf(s)===-1&&e.push(s)}function removeItem(e,s){const i=e.indexOf(s);i>-1&&e.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](s,i,a);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(s,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(s,i={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,o=!0)=>{this.prev=this.current,this.current=a;const{delta:c,timestamp:d}=frameData;this.lastUpdated!==d&&(this.timeDelta=c,this.lastUpdated=d,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=isFloat(this.current),this.owner=i.owner}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(i);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,a){this.set(i),this.prev=s,this.timeDelta=a}jump(s){this.updateAndNotify(s),this.prev=s,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}const testValueType=e=>s=>s.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e));function setMotionValue(e,s,i){e.hasValue(s)?e.getValue(s).set(i):e.addValue(s,motionValue(i))}function setTarget(e,s){const i=resolveVariant(e,s);let{transitionEnd:a={},transition:o={},...c}=i?e.makeTargetAnimatable(i,!1):{};c={...c,...a};for(const d in c){const g=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,g)}}function checkTargetForNewValues(e,s,i){var a,o;const c=Object.keys(s).filter(g=>!e.hasValue(g)),d=c.length;if(d)for(let g=0;g<d;g++){const h=c[g],b=s[h];let _=null;Array.isArray(b)&&(_=b[0]),_===null&&(_=(o=(a=i[h])!==null&&a!==void 0?a:e.readValue(h))!==null&&o!==void 0?o:s[h]),_!=null&&(typeof _=="string"&&(isNumericalString(_)||isZeroValueString(_))?_=parseFloat(_):!findValueType(_)&&complex.test(b)&&(_=getAnimatableNone(h,b)),e.addValue(h,motionValue(_,{owner:e})),i[h]===void 0&&(i[h]=_),_!==null&&e.setBaseTarget(h,_))}}function getOriginFromTransition(e,s){return s?(s[e]||s.default||s).from:void 0}function getOrigin(e,s,i){const a={};for(const o in e){const c=getOriginFromTransition(o,s);if(c!==void 0)a[o]=c;else{const d=i.getValue(o);d&&(a[o]=d.get())}}return a}function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},i){const a=e.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,a}function hasKeyframesChanged(e,s){const i=e.get();if(Array.isArray(s)){for(let a=0;a<s.length;a++)if(s[a]!==i)return!0}else return i!==s}function animateTarget(e,s,{delay:i=0,transitionOverride:a,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...g}=e.makeTargetAnimatable(s);const h=e.getValue("willChange");a&&(c=a);const b=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const j in g){const rt=e.getValue(j),_e=g[j];if(!rt||_e===void 0||_&&shouldBlockAnimation(_,j))continue;const ct={delay:i,elapsed:0,...getValueTransition(c||{},j)};if(window.HandoffAppearAnimations){const nt=e.getProps()[optimizedAppearDataAttribute];if(nt){const et=window.HandoffAppearAnimations(nt,j,rt,frame);et!==null&&(ct.elapsed=et,ct.isHandoff=!0)}}let it=!ct.isHandoff&&!hasKeyframesChanged(rt,_e);if(ct.type==="spring"&&(rt.getVelocity()||ct.velocity)&&(it=!1),rt.animation&&(it=!1),it)continue;rt.start(animateMotionValue(j,rt,_e,e.shouldReduceMotion&&transformProps.has(j)?{type:!1}:ct));const ut=rt.animation;isWillChangeMotionValue(h)&&(h.add(j),ut.then(()=>h.remove(j))),b.push(ut)}return d&&Promise.all(b).then(()=>{d&&setTarget(e,d)}),b}function animateVariant(e,s,i={}){const a=resolveVariant(e,s,i.custom);let{transition:o=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(o=i.transitionOverride);const c=a?()=>Promise.all(animateTarget(e,a,i)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:b=0,staggerChildren:_,staggerDirection:j}=o;return animateChildren(e,s,b+h,_,j,i)}:()=>Promise.resolve(),{when:g}=o;if(g){const[h,b]=g==="beforeChildren"?[c,d]:[d,c];return h().then(()=>b())}else return Promise.all([c(),d(i.delay)])}function animateChildren(e,s,i=0,a=0,o=1,c){const d=[],g=(e.variantChildren.size-1)*a,h=o===1?(b=0)=>b*a:(b=0)=>g-b*a;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,_)=>{b.notify("AnimationStart",s),d.push(animateVariant(b,s,{...c,delay:i+h(_)}).then(()=>b.notify("AnimationComplete",s)))}),Promise.all(d)}function sortByTreeOrder(e,s){return e.sortNodePosition(s)}function animateVisualElement(e,s,i={}){e.notify("AnimationStart",s);let a;if(Array.isArray(s)){const o=s.map(c=>animateVariant(e,c,i));a=Promise.all(o)}else if(typeof s=="string")a=animateVariant(e,s,i);else{const o=typeof s=="function"?resolveVariant(e,s,i.custom):s;a=Promise.all(animateTarget(e,o,i))}return a.then(()=>e.notify("AnimationComplete",s))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return s=>Promise.all(s.map(({animation:i,options:a})=>animateVisualElement(e,i,a)))}function createAnimationState(e){let s=animateList(e);const i=createState();let a=!0;const o=(h,b)=>{const _=resolveVariant(e,b);if(_){const{transition:j,transitionEnd:rt,..._e}=_;h={...h,..._e,...rt}}return h};function c(h){s=h(e)}function d(h,b){const _=e.getProps(),j=e.getVariantContext(!0)||{},rt=[],_e=new Set;let ct={},it=1/0;for(let nt=0;nt<numAnimationTypes;nt++){const et=reversePriorityOrder[nt],at=i[et],ht=_[et]!==void 0?_[et]:j[et],ot=isVariantLabel(ht),pt=et===b?at.isActive:null;pt===!1&&(it=nt);let dt=ht===j[et]&&ht!==_[et]&&ot;if(dt&&a&&e.manuallyAnimateOnMount&&(dt=!1),at.protectedKeys={...ct},!at.isActive&&pt===null||!ht&&!at.prevProp||isAnimationControls(ht)||typeof ht=="boolean")continue;let gt=checkVariantsDidChange(at.prevProp,ht)||et===b&&at.isActive&&!dt&&ot||nt>it&&ot,kt=!1;const mt=Array.isArray(ht)?ht:[ht];let Ct=mt.reduce(o,{});pt===!1&&(Ct={});const{prevResolvedValues:Dt={}}=at,Zt={...Dt,...Ct},$t=Ht=>{gt=!0,_e.has(Ht)&&(kt=!0,_e.delete(Ht)),at.needsAnimating[Ht]=!0};for(const Ht in Zt){const Ut=Ct[Ht],zt=Dt[Ht];if(ct.hasOwnProperty(Ht))continue;let xt=!1;isKeyframesTarget(Ut)&&isKeyframesTarget(zt)?xt=!shallowCompare(Ut,zt):xt=Ut!==zt,xt?Ut!==void 0?$t(Ht):_e.add(Ht):Ut!==void 0&&_e.has(Ht)?$t(Ht):at.protectedKeys[Ht]=!0}at.prevProp=ht,at.prevResolvedValues=Ct,at.isActive&&(ct={...ct,...Ct}),a&&e.blockInitialAnimation&&(gt=!1),gt&&(!dt||kt)&&rt.push(...mt.map(Ht=>({animation:Ht,options:{type:et,...h}})))}if(_e.size){const nt={};_e.forEach(et=>{const at=e.getBaseTarget(et);at!==void 0&&(nt[et]=at)}),rt.push({animation:nt})}let ut=!!rt.length;return a&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(ut=!1),a=!1,ut?s(rt):Promise.resolve()}function g(h,b,_){var j;if(i[h].isActive===b)return Promise.resolve();(j=e.variantChildren)===null||j===void 0||j.forEach(_e=>{var ct;return(ct=_e.animationState)===null||ct===void 0?void 0:ct.setActive(h,b)}),i[h].isActive=b;const rt=d(_,h);for(const _e in i)i[_e].protectedKeys={};return rt}return{animateChanges:d,setActive:g,setAnimateFunction:c,getState:()=>i}}function checkVariantsDidChange(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!shallowCompare(s,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();this.unmount(),isAnimationControls(s)&&(this.unmount=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i,custom:a}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===o)return;const c=this.node.animationState.setActive("exit",!s,{custom:a??this.node.getProps().custom});i&&!s&&c.then(()=>i(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(e,s)=>Math.abs(e-s);function distance2D(e,s){const i=distance(e.x,s.x),a=distance(e.y,s.y);return Math.sqrt(i**2+a**2)}class PanSession{constructor(s,i,{transformPagePoint:a,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=getPanInfo(this.lastMoveEventInfo,this.history),rt=this.startEvent!==null,_e=distance2D(j.offset,{x:0,y:0})>=3;if(!rt&&!_e)return;const{point:ct}=j,{timestamp:it}=frameData;this.history.push({...ct,timestamp:it});const{onStart:ut,onMove:nt}=this.handlers;rt||(ut&&ut(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,j)},this.handlePointerMove=(j,rt)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=transformPoint(rt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(j,rt)=>{this.end();const{onEnd:_e,onSessionEnd:ct,resumeAnimation:it}=this.handlers;if(this.dragSnapToOrigin&&it&&it(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ut=getPanInfo(j.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(rt,this.transformPagePoint),this.history);this.startEvent&&_e&&_e(j,ut),ct&&ct(j,ut)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=a,this.contextWindow=o||window;const d=extractEventInfo(s),g=transformPoint(d,this.transformPagePoint),{point:h}=g,{timestamp:b}=frameData;this.history=[{...h,timestamp:b}];const{onSessionStart:_}=i;_&&_(s,getPanInfo(g,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const o=lastDevicePoint(e);for(;i>=0&&(a=e[i],!(o.timestamp-a.timestamp>secondsToMilliseconds(s)));)i--;if(!a)return{x:0,y:0};const c=millisecondsToSeconds(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function calcLength(e){return e.max-e.min}function isNear(e,s=0,i=.01){return Math.abs(e-s)<=i}function calcAxisDelta(e,s,i,a=.5){e.origin=a,e.originPoint=mix(s.min,s.max,e.origin),e.scale=calcLength(i)/calcLength(s),(isNear(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mix(i.min,i.max,e.origin)-e.originPoint,(isNear(e.translate)||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,i,a){calcAxisDelta(e.x,s.x,i.x,a?a.originX:void 0),calcAxisDelta(e.y,s.y,i.y,a?a.originY:void 0)}function calcRelativeAxis(e,s,i){e.min=i.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeBox(e,s,i){calcRelativeAxis(e.x,s.x,i.x),calcRelativeAxis(e.y,s.y,i.y)}function calcRelativeAxisPosition(e,s,i){e.min=s.min-i.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,i){calcRelativeAxisPosition(e.x,s.x,i.x),calcRelativeAxisPosition(e.y,s.y,i.y)}function applyConstraints(e,{min:s,max:i},a){return s!==void 0&&e<s?e=a?mix(s,e,a.min):Math.max(e,s):i!==void 0&&e>i&&(e=a?mix(i,e,a.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,s,i){return{min:s!==void 0?e.min+s:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:s,left:i,bottom:a,right:o}){return{x:calcRelativeAxisConstraints(e.x,i,o),y:calcRelativeAxisConstraints(e.y,s,a)}}function calcViewportAxisConstraints(e,s){let i=s.min-e.min,a=s.max-e.max;return s.max-s.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}function calcOrigin(e,s){let i=.5;const a=calcLength(e),o=calcLength(s);return o>a?i=progress(s.min,s.max-a,e.min):a>o&&(i=progress(e.min,e.max-o,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,s){const i={};return s.min!==void 0&&(i.min=s.min-e.min),s.max!==void 0&&(i.max=s.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,s,i){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,s){return typeof e=="number"?e:e[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:s,right:i,bottom:a}){return{x:{min:s,max:i},y:{min:e,max:a}}}function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function transformBoxPoints(e,s){if(!s)return e;const i=s({x:e.left,y:e.top}),a=s({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:s,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,s,i){const a=e-i,o=s*a;return i+o}function applyPointDelta(e,s,i,a,o){return o!==void 0&&(e=scalePoint(e,o,a)),scalePoint(e,i,a)+s}function applyAxisDelta(e,s=0,i=1,a,o){e.min=applyPointDelta(e.min,s,i,a,o),e.max=applyPointDelta(e.max,s,i,a,o)}function applyBoxDelta(e,{x:s,y:i}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}function applyTreeDeltas(e,s,i,a=!1){const o=i.length;if(!o)return;s.x=s.y=1;let c,d;for(let g=0;g<o;g++){c=i[g],d=c.projectionDelta;const h=c.instance;h&&h.style&&h.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(s.x*=d.x.scale,s.y*=d.y.scale,applyBoxDelta(e,d)),a&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}s.x=snapToDefault(s.x),s.y=snapToDefault(s.y)}function snapToDefault(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,[i,a,o]){const c=s[o]!==void 0?s[o]:.5,d=mix(e.min,e.max,c);applyAxisDelta(e,s[i],s[a],d,s.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(e,s){transformAxis(e.x,s,xKeys$1),transformAxis(e.y,s,yKeys$1)}function measureViewportBox(e,s){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),s))}function measurePageBox(e,s,i){const a=measureViewportBox(e,i),{scroll:o}=s;return o&&(translateAxis(a.x,o.offset.x),translateAxis(a.y,o.offset.y)),a}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(_,"page").point)},c=(_,j)=>{const{drag:rt,dragPropagation:_e,onDragStart:ct}=this.getProps();if(rt&&!_e&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(rt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ut=>{let nt=this.getAxisMotionValue(ut).get()||0;if(percent.test(nt)){const{projection:et}=this.visualElement;if(et&&et.layout){const at=et.layout.layoutBox[ut];at&&(nt=calcLength(at)*(parseFloat(nt)/100))}}this.originPoint[ut]=nt}),ct&&frame.update(()=>ct(_,j),!1,!0);const{animationState:it}=this.visualElement;it&&it.setActive("whileDrag",!0)},d=(_,j)=>{const{dragPropagation:rt,dragDirectionLock:_e,onDirectionLock:ct,onDrag:it}=this.getProps();if(!rt&&!this.openGlobalLock)return;const{offset:ut}=j;if(_e&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ut),this.currentDirection!==null&&ct&&ct(this.currentDirection);return}this.updateAxis("x",j.point,ut),this.updateAxis("y",j.point,ut),this.visualElement.render(),it&&it(_,j)},g=(_,j)=>this.stop(_,j),h=()=>eachAxis(_=>{var j;return this.getAnimationState(_)==="paused"&&((j=this.getAxisMotionValue(_).animation)===null||j===void 0?void 0:j.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(s,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&frame.update(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,a){const{drag:o}=this.getProps();if(!a||!shouldDrag(s,o,this.currentDirection))return;const c=this.getAxisMotionValue(s);let d=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(d=applyConstraints(d,this.constraints[s],this.elastic[s])),c.set(d)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=calcRelativeConstraints(o.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(d=>{this.getAxisMotionValue(d)&&(this.constraints[d]=rebaseAxisConstraints(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=measurePageBox(a,o.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(o.layout.layoutBox,c);if(i){const g=i(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!g,g&&(d=convertBoundingBoxToBox(g))}return d}startAnimation(s){const{drag:i,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{},b=eachAxis(_=>{if(!shouldDrag(_,i,this.currentDirection))return;let j=h&&h[_]||{};d&&(j={min:0,max:0});const rt=o?200:1e6,_e=o?40:1e7,ct={type:"inertia",velocity:a?s[_]:0,bounceStiffness:rt,bounceDamping:_e,timeConstant:750,restDelta:1,restSpeed:10,...c,...j};return this.startAxisValueAnimation(_,ct)});return Promise.all(b).then(g)}startAxisValueAnimation(s,i){const a=this.getAxisMotionValue(s);return a.start(animateMotionValue(s,a,0,i))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i="_drag"+s.toUpperCase(),a=this.visualElement.getProps(),o=a[i];return o||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:a}=this.getProps();if(!shouldDrag(i,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:d,max:g}=o.layout.layoutBox[i];c.set(s[i]-mix(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(i)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(d=>{const g=this.getAxisMotionValue(d);if(g){const h=g.get();o[d]=calcOrigin({min:h,max:h},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,s,null))return;const g=this.getAxisMotionValue(d),{min:h,max:b}=this.constraints[d];g.set(mix(h,b,o[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",h=>{const{drag:b,dragListener:_=!0}=this.getProps();b&&_&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();isRefObject(h)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),a();const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),g=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(_=>{const j=this.getAxisMotionValue(_);j&&(this.originPoint[_]+=h[_].translate,j.set(j.get()+h[_].translate))}),this.visualElement.render())});return()=>{d(),i(),c(),g&&g()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:g=!0}=s;return{...s,drag:i,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:g}}}function shouldDrag(e,s,i){return(s===!0||s===e)&&(i===null||i===e)}function getCurrentDirection(e,s=10){let i=null;return Math.abs(e.y)>s?i="y":Math.abs(e.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(s,i)=>{e&&frame.update(()=>e(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:a,onEnd:(c,d)=>{delete this.session,o&&frame.update(()=>o(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=e,o=reactExports.useId();return reactExports.useEffect(()=>a(o),[]),!s&&i?[!1,()=>i&&i(o)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const correctBorderRadius={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,s.target.x),a=pixelsToPercent(e,s.target.y);return`${i}% ${a}%`}},correctBoxShadow={correct:(e,{treeScale:s,projectionDelta:i})=>{const a=e,o=complex.parse(e);if(o.length>5)return a;const c=complex.createTransformer(e),d=typeof o[0]!="number"?1:0,g=i.x.scale*s.x,h=i.y.scale*s.y;o[0+d]/=g,o[1+d]/=h;const b=mix(g,h,.5);return typeof o[2+d]=="number"&&(o[2+d]/=b),typeof o[3+d]=="number"&&(o[3+d]/=b),c(o)}};class MeasureLayoutWithContext extends React__default.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:a,drag:o,isPresent:c}=this.props,d=a.projection;return d&&(d.isPresent=c,o||s.layoutDependency!==i||i===void 0?d.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?d.promote():d.relegate()||frame.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),queueMicrotask(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:o}=s;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(e){const[s,i]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return React__default.createElement(MeasureLayoutWithContext,{...e,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,s,i,a,o,c){o?(e.opacity=mix(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(a)),e.opacityExit=mix(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):c&&(e.opacity=mix(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let d=0;d<numBorders;d++){const g=`border${borders[d]}Radius`;let h=getRadius(s,g),b=getRadius(i,g);if(h===void 0&&b===void 0)continue;h||(h=0),b||(b=0),h===0||b===0||isPx(h)===isPx(b)?(e[g]=Math.max(mix(asNumber(h),asNumber(b),a),0),(percent.test(b)||percent.test(h))&&(e[g]+="%")):e[g]=b}(s.rotate||i.rotate)&&(e.rotate=mix(s.rotate||0,i.rotate||0,a))}function getRadius(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,s,i){return a=>a<e?0:a>s?1:i(progress(e,s,a))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function removePointDelta(e,s,i,a,o){return e-=s,e=scalePoint(e,1/i,a),o!==void 0&&(e=scalePoint(e,1/o,a)),e}function removeAxisDelta(e,s=0,i=1,a=.5,o,c=e,d=e){if(percent.test(s)&&(s=parseFloat(s),s=mix(d.min,d.max,s/100)-d.min),typeof s!="number")return;let g=mix(c.min,c.max,a);e===c&&(g-=s),e.min=removePointDelta(e.min,s,i,g,o),e.max=removePointDelta(e.max,s,i,g,o)}function removeAxisTransforms(e,s,[i,a,o],c,d){removeAxisDelta(e,s[i],s[a],s[o],s.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,s,i,a){removeAxisTransforms(e.x,s,xKeys,i?i.x:void 0,a?a.x:void 0),removeAxisTransforms(e.y,s,yKeys,i?i.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function boxEquals(e,s){return e.x.min===s.x.min&&e.x.max===s.x.max&&e.y.min===s.y.min&&e.y.max===s.y.max}function boxEqualsRounded(e,s){return Math.round(e.x.min)===Math.round(s.x.min)&&Math.round(e.x.max)===Math.round(s.x.max)&&Math.round(e.y.min)===Math.round(s.y.min)&&Math.round(e.y.max)===Math.round(s.y.max)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(o=>s===o);if(i===0)return!1;let a;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(s,i){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,i&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:o}=s.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:a}=s;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,s,i){let a="";const o=e.x.translate/s.x,c=e.y.translate/s.y;if((o||c)&&(a=`translate3d(${o}px, ${c}px, 0) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),i){const{rotate:h,rotateX:b,rotateY:_}=i;h&&(a+=`rotate(${h}deg) `),b&&(a+=`rotateX(${b}deg) `),_&&(a+=`rotateY(${_}deg) `)}const d=e.x.scale*s.x,g=e.y.scale*s.y;return(d!==1||g!==1)&&(a+=`scale(${d}, ${g})`),a||"none"}const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(e,s){const i=performance.now(),a=({timestamp:o})=>{const c=o-i;c>=s&&(cancelFrame(a),e(c-s))};return frame.read(a,!0),()=>cancelFrame(a)}function record(e){window.MotionDebug&&window.MotionDebug.record(e)}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}function animateSingleValue(e,s,i){const a=isMotionValue(e)?e:motionValue(e);return a.start(animateMotionValue("",a,s,i)),a.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:i,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(d={},g=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const h=this.eventHandlers.get(d);h&&h.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(d),this.instance=d;const{layoutId:h,layout:b,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(b||h)&&(this.isLayoutDirty=!0),e){let j;const rt=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,j&&j(),j=delay(rt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&_&&(h||b)&&this.addEventListener("didUpdate",({delta:j,hasLayoutChanged:rt,hasRelativeTargetChanged:_e,layout:ct})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const it=this.options.transition||_.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ut,onLayoutAnimationComplete:nt}=_.getProps(),et=!this.targetLayout||!boxEqualsRounded(this.targetLayout,ct)||_e,at=!rt&&_e;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||at||rt&&(et||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(j,at);const ht={...getValueTransition(it,"layout"),onPlay:ut,onComplete:nt};(_.shouldReduceMotion||this.options.layoutRoot)&&(ht.delay=0,ht.type=!1),this.startAnimation(ht)}else rt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ct})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const j=this.path[_];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:g,layout:h}=this.options;if(g===void 0&&!h)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const g=performance.now();frameData.delta=clamp(0,1e3/60,g-frameData.timestamp),frameData.timestamp=g,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:a(this.instance),offset:i(this.instance)})}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform,g=this.projectionDelta&&!isDeltaZero(this.projectionDelta),h=this.getTransformTemplate(),b=h?h(this.latestValues,""):void 0,_=b!==this.prevTransformTemplateValue;d&&(g||hasTransform(this.latestValues)||_)&&(o(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let h=this.removeElementScroll(g);return d&&(h=this.removeTransform(h)),roundBox(h),{animationId:this.root.animationId,measuredBox:g,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return createBox();const g=d.measureViewportBox(),{scroll:h}=this.root;return h&&(translateAxis(g.x,h.offset.x),translateAxis(g.y,h.offset.y)),g}removeElementScroll(d){const g=createBox();copyBoxInto(g,d);for(let h=0;h<this.path.length;h++){const b=this.path[h],{scroll:_,options:j}=b;if(b!==this.root&&_&&j.layoutScroll){if(_.isRoot){copyBoxInto(g,d);const{scroll:rt}=this.root;rt&&(translateAxis(g.x,-rt.offset.x),translateAxis(g.y,-rt.offset.y))}translateAxis(g.x,_.offset.x),translateAxis(g.y,_.offset.y)}}return g}applyTransform(d,g=!1){const h=createBox();copyBoxInto(h,d);for(let b=0;b<this.path.length;b++){const _=this.path[b];!g&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(h,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(h,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(h,this.latestValues),h}removeTransform(d){const g=createBox();copyBoxInto(g,d);for(let h=0;h<this.path.length;h++){const b=this.path[h];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const _=createBox(),j=b.measurePageBox();copyBoxInto(_,j),removeBoxTransforms(g,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==h;if(!(d||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:j,layoutId:rt}=this.options;if(!(!this.layout||!(j||rt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const _e=this.getClosestProjectingParent();_e&&_e.layout&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_e.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _e=this.getClosestProjectingParent();_e&&!!_e.resumingFrom==!!this.resumingFrom&&!_e.options.layoutScroll&&_e.target&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,_e.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const g=this.getLead(),h=!!this.resumingFrom||this!==g;let b=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(b=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:_,layoutId:j}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||j))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const rt=this.treeScale.x,_e=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,h),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox);const{target:ct}=g;if(!ct){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const it=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,ct,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==it||this.treeScale.x!==rt||this.treeScale.y!==_e)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ct)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,g=!1){const h=this.snapshot,b=h?h.latestValues:{},_={...this.latestValues},j=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const rt=createBox(),_e=h?h.source:void 0,ct=this.layout?this.layout.source:void 0,it=_e!==ct,ut=this.getStack(),nt=!ut||ut.members.length<=1,et=!!(it&&!nt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let at;this.mixTargetDelta=ht=>{const ot=ht/1e3;mixAxisDelta(j.x,d.x,ot),mixAxisDelta(j.y,d.y,ot),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(rt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,rt,ot),at&&boxEquals(this.relativeTarget,at)&&(this.isProjectionDirty=!1),at||(at=createBox()),copyBoxInto(at,this.relativeTarget)),it&&(this.animationValues=_,mixValues(_,b,this.latestValues,ot,et,nt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:h,layout:b,latestValues:_}=d;if(!(!g||!h||!b)){if(this!==d&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){h=this.target||createBox();const j=calcLength(this.layout.layoutBox.x);h.x.min=d.target.x.min,h.x.max=h.x.min+j;const rt=calcLength(this.layout.layoutBox.y);h.y.min=d.target.y.min,h.y.max=h.y.min+rt}copyBoxInto(g,h),transformBox(g,_),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,g,_)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(g);const b=g.options.initialPromotionConfig;g.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:g}=this.options;return g?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:g}=this.options;return g?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:h}={}){const b=this.getStack();b&&b.promote(this,h),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:h}=d;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(g=!0),!g)return;const b={};for(let _=0;_<transformAxes.length;_++){const j="rotate"+transformAxes[_];h[j]&&(b[j]=h[j],d.setStaticValue(j,0))}d.render();for(const _ in b)d.setStaticValue(_,b[_]);d.scheduleRender()}getProjectionStyles(d){var g,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||"",b.transform=_?_(this.latestValues,""):"none",b;const j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){const it={};return this.options.layoutId&&(it.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,it.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(it.transform=_?_({},""):"none",this.hasProjected=!1),it}const rt=j.animationValues||j.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,rt),_&&(b.transform=_(rt,b.transform));const{x:_e,y:ct}=this.projectionDelta;b.transformOrigin=`${_e.origin*100}% ${ct.origin*100}% 0`,j.animationValues?b.opacity=j===this?(h=(g=rt.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:rt.opacityExit:b.opacity=j===this?rt.opacity!==void 0?rt.opacity:"":rt.opacityExit!==void 0?rt.opacityExit:0;for(const it in scaleCorrectors){if(rt[it]===void 0)continue;const{correct:ut,applyTo:nt}=scaleCorrectors[it],et=b.transform==="none"?rt[it]:ut(rt[it],j);if(nt){const at=nt.length;for(let ht=0;ht<at;ht++)b[nt[ht]]=et}else b[it]=et}return this.options.layoutId&&(b.pointerEvents=j===this?resolveMotionValue(d==null?void 0:d.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var g;return(g=d.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var s;const i=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:c}=e.options,d=i.source!==e.layout.source;c==="size"?eachAxis(j=>{const rt=d?i.measuredBox[j]:i.layoutBox[j],_e=calcLength(rt);rt.min=a[j].min,rt.max=rt.min+_e}):shouldAnimatePositionOnly(c,i.layoutBox,a)&&eachAxis(j=>{const rt=d?i.measuredBox[j]:i.layoutBox[j],_e=calcLength(a[j]);rt.max=rt.min+_e,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[j].max=e.relativeTarget[j].min+_e)});const g=createDelta();calcBoxDelta(g,a,i.layoutBox);const h=createDelta();d?calcBoxDelta(h,e.applyTransform(o,!0),i.measuredBox):calcBoxDelta(h,a,i.layoutBox);const b=!isDeltaZero(g);let _=!1;if(!e.resumeFrom){const j=e.getClosestProjectingParent();if(j&&!j.resumeFrom){const{snapshot:rt,layout:_e}=j;if(rt&&_e){const ct=createBox();calcRelativePosition(ct,i.layoutBox,rt.layoutBox);const it=createBox();calcRelativePosition(it,a,_e.layoutBox),boxEqualsRounded(ct,it)||(_=!0),j.options.layoutRoot&&(e.relativeTarget=it,e.relativeTargetOrigin=ct,e.relativeParent=j)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:h,layoutDelta:g,hasLayoutChanged:b,hasRelativeTargetChanged:_})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function propagateDirtyNodes(e){projectionFrameData.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetRotation(e){e.resetRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,i){e.translate=mix(s.translate,0,i),e.scale=mix(s.scale,1,i),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,i,a){e.min=mix(s.min,i.min,a),e.max=mix(s.max,i.max,a)}function mixBox(e,s,i,a){mixAxis(e.x,s.x,i.x,a),mixAxis(e.y,s.y,i.y,a)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,s,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(e){const s=splitCSSVariableRegex.exec(e);if(!s)return[,];const[,i,a]=s;return[i,a]}function getVariableValue(e,s,i=1){const[a,o]=parseCSSVariable(e);if(!a)return;const c=window.getComputedStyle(s).getPropertyValue(a);if(c){const d=c.trim();return isNumericalString(d)?parseFloat(d):d}else return isCSSVariableToken(o)?getVariableValue(o,s,i+1):o}function resolveCSSVariables(e,{...s},i){const a=e.current;if(!(a instanceof Element))return{target:s,transitionEnd:i};i&&(i={...i}),e.values.forEach(o=>{const c=o.get();if(!isCSSVariableToken(c))return;const d=getVariableValue(c,a);d&&o.set(d)});for(const o in s){const c=s[o];if(!isCSSVariableToken(c))continue;const d=getVariableValue(c,a);d&&(s[o]=d,i||(i={}),i[o]===void 0&&(i[o]=c))}return{target:s,transitionEnd:i}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=e=>positionalKeys.has(e),hasPositionalKey=e=>Object.keys(e).some(isPositionalKey),isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,s)=>parseFloat(e.split(", ")[s]),getTranslateFromMatrix=(e,s)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const o=a.match(/^matrix3d\((.+)\)$/);if(o)return getPosFromMatrix(o[1],s);{const c=a.match(/^matrix\((.+)\)$/);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const a=e.getValue(i);a!==void 0&&(s.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),s.length&&e.render(),s}const positionalValues={width:({x:e},{paddingLeft:s="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),height:({y:e},{paddingTop:s="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(e,s,i)=>{const a=s.measureViewportBox(),o=s.current,c=getComputedStyle(o),{display:d}=c,g={};d==="none"&&s.setStaticValue("display",e.display||"block"),i.forEach(b=>{g[b]=positionalValues[b](a,c)}),s.render();const h=s.measureViewportBox();return i.forEach(b=>{const _=s.getValue(b);_&&_.jump(g[b]),e[b]=positionalValues[b](h,c)}),e},checkAndConvertChangedValueTypes=(e,s,i={},a={})=>{s={...s},a={...a};const o=Object.keys(s).filter(isPositionalKey);let c=[],d=!1;const g=[];if(o.forEach(h=>{const b=e.getValue(h);if(!e.hasValue(h))return;let _=i[h],j=findDimensionValueType(_);const rt=s[h];let _e;if(isKeyframesTarget(rt)){const ct=rt.length,it=rt[0]===null?1:0;_=rt[it],j=findDimensionValueType(_);for(let ut=it;ut<ct&&rt[ut]!==null;ut++)_e?invariant(findDimensionValueType(rt[ut])===_e):_e=findDimensionValueType(rt[ut])}else _e=findDimensionValueType(rt);if(j!==_e)if(isNumOrPxType(j)&&isNumOrPxType(_e)){const ct=b.get();typeof ct=="string"&&b.set(parseFloat(ct)),typeof rt=="string"?s[h]=parseFloat(rt):Array.isArray(rt)&&_e===px&&(s[h]=rt.map(parseFloat))}else j!=null&&j.transform&&(_e!=null&&_e.transform)&&(_===0||rt===0)?_===0?b.set(_e.transform(_)):s[h]=j.transform(rt):(d||(c=removeNonTranslationalTransform(e),d=!0),g.push(h),a[h]=a[h]!==void 0?a[h]:s[h],b.jump(rt))}),g.length){const h=g.indexOf("height")>=0?window.pageYOffset:null,b=convertChangedValueTypes(s,e,g);return c.length&&c.forEach(([_,j])=>{e.getValue(_).set(j)}),e.render(),isBrowser$1&&h!==null&&window.scrollTo({top:h}),{target:b,transitionEnd:a}}else return{target:s,transitionEnd:a}};function unitConversion(e,s,i,a){return hasPositionalKey(s)?checkAndConvertChangedValueTypes(e,s,i,a):{target:s,transitionEnd:a}}const parseDomVariant=(e,s,i,a)=>{const o=resolveCSSVariables(e,s,a);return s=o.target,a=o.transitionEnd,unitConversion(e,s,i,a)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=e.matches;e.addListener(s),s()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(e,s,i){const{willChange:a}=s;for(const o in s){const c=s[o],d=i[o];if(isMotionValue(c))e.addValue(o,c),isWillChangeMotionValue(a)&&a.add(o);else if(isMotionValue(d))e.addValue(o,motionValue(c,{owner:e})),isWillChangeMotionValue(a)&&a.remove(o);else if(d!==c)if(e.hasValue(o)){const g=e.getValue(o);!g.hasAnimated&&g.set(c)}else{const g=e.getStaticValue(o);e.addValue(o,motionValue(g!==void 0?g:c,{owner:e}))}}for(const o in i)s[o]===void 0&&e.removeValue(o);return s}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:s,props:i,presenceContext:a,reducedMotionConfig:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:g,renderState:h}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=h,this.parent=s,this.props=i,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(i,{});for(const j in _){const rt=_[j];g[j]!==void 0&&isMotionValue(rt)&&(rt.set(g[j],!1),isWillChangeMotionValue(b)&&b.add(j))}}scrapeMotionValuesFromProps(s,i){return{}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features)this.features[s].unmount();this.current=null}bindToMotionValue(s,i){const a=transformProps.has(s),o=i.on("change",d=>{this.latestValues[s]=d,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{o(),c()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...i},a,o,c){let d,g;for(let h=0;h<numFeatures;h++){const b=featureNames[h],{isEnabled:_,Feature:j,ProjectionNode:rt,MeasureLayout:_e}=featureDefinitions[b];rt&&(d=rt),_(i)&&(!this.features[b]&&j&&(this.features[b]=new j(this)),_e&&(g=_e))}if((this.type==="html"||this.type==="svg")&&!this.projection&&d){this.projection=new d(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:b,drag:_,dragConstraints:j,layoutScroll:rt,layoutRoot:_e}=i;this.projection.setOptions({layoutId:h,layout:b,alwaysMeasureLayout:!!_||j&&isRefObject(j),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof b=="string"?b:"both",initialPromotionConfig:c,layoutScroll:rt,layoutRoot:_e})}return g}updateFeatures(){for(const s in this.features){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}makeTargetAnimatable(s,i=!0){return this.makeTargetAnimatableFromInstance(s,this.props,i)}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<propEventHandlers.length;a++){const o=propEventHandlers[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c=s["on"+o];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<numVariantProps;a++){const o=variantProps[a],c=this.props[o];(isVariantLabel(c)||c===!1)&&(i[o]=c)}return i}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){i!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,i)),this.values.set(s,i),this.latestValues[s]=i.get()}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&i!==void 0&&(a=motionValue(i,{owner:this}),this.addValue(s,a)),a}readValue(s){var i;return this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(i=this.getBaseTargetFromProps(this.props,s))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,s,this.options)}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:a}=this.props,o=typeof a=="string"||typeof a=="object"?(i=resolveVariantFromProps(this.props,a))===null||i===void 0?void 0:i[s]:void 0;if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&o===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:a}){delete i[s],delete a[s]}makeTargetAnimatableFromInstance({transition:s,transitionEnd:i,...a},{transformValues:o},c){let d=getOrigin(a,s||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),d&&(d=o(d))),c){checkTargetForNewValues(this,a,d);const g=parseDomVariant(this,a,d,i);i=g.transitionEnd,a=g.target}return{transition:s,transitionEnd:i,...a}}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}else{const a=getComputedStyle$1(s),o=(isCSSVariableName(i)?a.getPropertyValue(i):a[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,a,o){buildHTMLStyles(s,i,a,o.transformTemplate)}scrapeMotionValuesFromProps(s,i){return scrapeMotionValuesFromProps$1(s,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}renderInstance(s,i,a,o){renderHTML(s,i,a,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(s,i){return scrapeMotionValuesFromProps(s,i)}build(s,i,a,o){buildSVGAttrs(s,i,a,this.isSVGTag,o.transformTemplate)}renderInstance(s,i,a,o){renderSVG(s,i,a,o)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s,{enableHardwareAcceleration:!1}):new HTMLVisualElement(s,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((e,s)=>createDomMotionConfig(e,s,preloadedFeatures,createDomVisualElement));function useIsMounted(){const e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function useForceUpdate(){const e=useIsMounted(),[s,i]=reactExports.useState(0),a=reactExports.useCallback(()=>{e.current&&i(s+1)},[s]);return[reactExports.useCallback(()=>frame.postRender(a),[a]),s]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:s}){const i=reactExports.useId(),a=reactExports.useRef(null),o=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:c,height:d,top:g,left:h}=o.current;if(s||!a.current||!c||!d)return;a.current.dataset.motionPopId=i;const b=document.createElement("style");return document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${g}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[s]),reactExports.createElement(PopChildMeasure,{isPresent:s,childRef:a,sizeRef:o},reactExports.cloneElement(e,{ref:a}))}const PresenceChild=({children:e,initial:s,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:d})=>{const g=useConstant(newChildrenMap),h=reactExports.useId(),b=reactExports.useMemo(()=>({id:h,initial:s,isPresent:i,custom:o,onExitComplete:_=>{g.set(_,!0);for(const j of g.values())if(!j)return;a&&a()},register:_=>(g.set(_,!1),()=>g.delete(_))}),c?void 0:[i]);return reactExports.useMemo(()=>{g.forEach((_,j)=>g.set(j,!1))},[i]),reactExports.useEffect(()=>{!i&&!g.size&&a&&a()},[i]),d==="popLayout"&&(e=reactExports.createElement(PopChild,{isPresent:i},e)),reactExports.createElement(PresenceContext.Provider,{value:b},e)};function newChildrenMap(){return new Map}function useUnmountEffect(e){return reactExports.useEffect(()=>()=>e(),[])}const getChildKey=e=>e.key||"";function updateChildLookup(e,s){e.forEach(i=>{const a=getChildKey(i);s.set(a,i)})}function onlyElements(e){const s=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const AnimatePresence=({children:e,custom:s,initial:i=!0,onExitComplete:a,exitBeforeEnter:o,presenceAffectsLayout:c=!0,mode:d="sync"})=>{const g=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],h=useIsMounted(),b=onlyElements(e);let _=b;const j=reactExports.useRef(new Map).current,rt=reactExports.useRef(_),_e=reactExports.useRef(new Map).current,ct=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{ct.current=!1,updateChildLookup(b,_e),rt.current=_}),useUnmountEffect(()=>{ct.current=!0,_e.clear(),j.clear()}),ct.current)return reactExports.createElement(reactExports.Fragment,null,_.map(et=>reactExports.createElement(PresenceChild,{key:getChildKey(et),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:c,mode:d},et)));_=[..._];const it=rt.current.map(getChildKey),ut=b.map(getChildKey),nt=it.length;for(let et=0;et<nt;et++){const at=it[et];ut.indexOf(at)===-1&&!j.has(at)&&j.set(at,void 0)}return d==="wait"&&j.size&&(_=[]),j.forEach((et,at)=>{if(ut.indexOf(at)!==-1)return;const ht=_e.get(at);if(!ht)return;const ot=it.indexOf(at);let pt=et;if(!pt){const dt=()=>{j.delete(at);const ft=Array.from(_e.keys()).filter(gt=>!ut.includes(gt));if(ft.forEach(gt=>_e.delete(gt)),rt.current=b.filter(gt=>{const kt=getChildKey(gt);return kt===at||ft.includes(kt)}),!j.size){if(h.current===!1)return;g(),a&&a()}};pt=reactExports.createElement(PresenceChild,{key:getChildKey(ht),isPresent:!1,onExitComplete:dt,custom:s,presenceAffectsLayout:c,mode:d},ht),j.set(at,pt)}_.splice(ot,0,pt)}),_=_.map(et=>{const at=et.key;return j.has(at)?et:reactExports.createElement(PresenceChild,{key:getChildKey(et),isPresent:!0,presenceAffectsLayout:c,mode:d},et)}),reactExports.createElement(reactExports.Fragment,null,j.size?_:_.map(et=>reactExports.cloneElement(et)))};function r(e){var s,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(s=0;s<o;s++)e[s]&&(i=r(e[s]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function clsx(){for(var e,s,i=0,a="",o=arguments.length;i<o;i++)(e=arguments[i])&&(s=r(e))&&(a&&(a+=" "),a+=s);return a}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const g=d.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,g)=>{const h=i[d]||[];return g&&a[d]?[...h,...a[d]]:h}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],a=s.nextPart.get(i),o=a?getGroupRecursive(e.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:g})=>g(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,prefix:i}=e,a={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),i).forEach(([c,d])=>{processClassesRecursively(d,a,c,s)}),a},processClassesRecursively=(e,s,i,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?s:getPart(s,o);c.classGroupId=i;return}if(typeof o=="function"){if(isThemeGetter(o)){processClassesRecursively(o(a),s,i,a);return}s.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,a)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,s)=>s?e.map(([i,a])=>{const o=a.map(c=>typeof c=="string"?s+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,g])=>[s+d,g])):c);return[i,o]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,a=new Map;const o=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,a=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return o(c,d),d},set(c,d){i.has(c)?i.set(c,d):o(c,d)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:s,experimentalParseClassName:i}=e,a=s.length===1,o=s[0],c=s.length,d=g=>{const h=[];let b=0,_=0,j;for(let ut=0;ut<g.length;ut++){let nt=g[ut];if(b===0){if(nt===o&&(a||g.slice(ut,ut+c)===s)){h.push(g.slice(_,ut)),_=ut+c;continue}if(nt==="/"){j=ut;continue}}nt==="["?b++:nt==="]"&&b--}const rt=h.length===0?g:g.substring(_),_e=rt.startsWith(IMPORTANT_MODIFIER),ct=_e?rt.substring(1):rt,it=j&&j>_?j-_:void 0;return{modifiers:h,hasImportantModifier:_e,baseClassName:ct,maybePostfixModifierPosition:it}};return i?g=>i({className:g,parseClassName:d}):d},sortModifiers=e=>{if(e.length<=1)return e;const s=[];let i=[];return e.forEach(a=>{a[0]==="["?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o}=s,c=[],d=e.trim().split(SPLIT_CLASSES_REGEX);let g="";for(let h=d.length-1;h>=0;h-=1){const b=d[h],{modifiers:_,hasImportantModifier:j,baseClassName:rt,maybePostfixModifierPosition:_e}=i(b);let ct=!!_e,it=a(ct?rt.substring(0,_e):rt);if(!it){if(!ct){g=b+(g.length>0?" "+g:g);continue}if(it=a(rt),!it){g=b+(g.length>0?" "+g:g);continue}ct=!1}const ut=sortModifiers(_).join(":"),nt=j?ut+IMPORTANT_MODIFIER:ut,et=nt+it;if(c.includes(et))continue;c.push(et);const at=o(it,ct);for(let ht=0;ht<at.length;++ht){const ot=at[ht];c.push(nt+ot)}g=b+(g.length>0?" "+g:g)}return g};function twJoin(){let e=0,s,i,a="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(a&&(a+=" "),a+=i);return a}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let a=0;a<e.length;a++)e[a]&&(s=toValue(e[a]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,a,o,c=d;function d(h){const b=s.reduce((_,j)=>j(_),e());return i=createConfigUtils(b),a=i.cache.get,o=i.cache.set,c=g,g(h)}function g(h){const b=a(h);if(b)return b;const _=mergeClassList(h,i);return o(h,_),_}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,s,i)=>{const a=arbitraryValueRegex.exec(e);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):i(a[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),s=fromTheme("spacing"),i=fromTheme("blur"),a=fromTheme("brightness"),o=fromTheme("borderColor"),c=fromTheme("borderRadius"),d=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),h=fromTheme("contrast"),b=fromTheme("grayscale"),_=fromTheme("hueRotate"),j=fromTheme("invert"),rt=fromTheme("gap"),_e=fromTheme("gradientColorStops"),ct=fromTheme("gradientColorStopPositions"),it=fromTheme("inset"),ut=fromTheme("margin"),nt=fromTheme("opacity"),et=fromTheme("padding"),at=fromTheme("saturate"),ht=fromTheme("scale"),ot=fromTheme("sepia"),pt=fromTheme("skew"),dt=fromTheme("space"),ft=fromTheme("translate"),gt=()=>["auto","contain","none"],kt=()=>["auto","hidden","clip","visible","scroll"],mt=()=>["auto",isArbitraryValue,s],Ct=()=>[isArbitraryValue,s],Dt=()=>["",isLength,isArbitraryLength],Zt=()=>["auto",isNumber,isArbitraryValue],$t=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ht=()=>["solid","dashed","dotted","double","none"],Ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],zt=()=>["start","end","center","between","around","evenly","stretch"],xt=()=>["","0",isArbitraryValue],At=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Lt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Lt(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Ct(),borderWidth:Dt(),contrast:Lt(),grayscale:xt(),hueRotate:Lt(),invert:xt(),gap:Ct(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:mt(),margin:mt(),opacity:Lt(),padding:Ct(),saturate:Lt(),scale:Lt(),sepia:xt(),skew:Lt(),space:Ct(),translate:Ct()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":At()}],"break-before":[{"break-before":At()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$t(),isArbitraryValue]}],overflow:[{overflow:kt()}],"overflow-x":[{"overflow-x":kt()}],"overflow-y":[{"overflow-y":kt()}],overscroll:[{overscroll:gt()}],"overscroll-x":[{"overscroll-x":gt()}],"overscroll-y":[{"overscroll-y":gt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[it]}],"inset-x":[{"inset-x":[it]}],"inset-y":[{"inset-y":[it]}],start:[{start:[it]}],end:[{end:[it]}],top:[{top:[it]}],right:[{right:[it]}],bottom:[{bottom:[it]}],left:[{left:[it]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:mt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:xt()}],shrink:[{shrink:xt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Zt()}],"col-end":[{"col-end":Zt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Zt()}],"row-end":[{"row-end":Zt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[rt]}],"gap-x":[{"gap-x":[rt]}],"gap-y":[{"gap-y":[rt]}],"justify-content":[{justify:["normal",...zt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...zt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...zt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[et]}],px:[{px:[et]}],py:[{py:[et]}],ps:[{ps:[et]}],pe:[{pe:[et]}],pt:[{pt:[et]}],pr:[{pr:[et]}],pb:[{pb:[et]}],pl:[{pl:[et]}],m:[{m:[ut]}],mx:[{mx:[ut]}],my:[{my:[ut]}],ms:[{ms:[ut]}],me:[{me:[ut]}],mt:[{mt:[ut]}],mr:[{mr:[ut]}],mb:[{mb:[ut]}],ml:[{ml:[ut]}],"space-x":[{"space-x":[dt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[dt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[nt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ht(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Ct()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[nt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$t(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[ct]}],"gradient-via-pos":[{via:[ct]}],"gradient-to-pos":[{to:[ct]}],"gradient-from":[{from:[_e]}],"gradient-via":[{via:[_e]}],"gradient-to":[{to:[_e]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[nt]}],"border-style":[{border:[...Ht(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[nt]}],"divide-style":[{divide:Ht()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ht()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Dt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[nt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[nt]}],"mix-blend":[{"mix-blend":[...Ut(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ut()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[j]}],saturate:[{saturate:[at]}],sepia:[{sepia:[ot]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[j]}],"backdrop-opacity":[{"backdrop-opacity":[nt]}],"backdrop-saturate":[{"backdrop-saturate":[at]}],"backdrop-sepia":[{"backdrop-sepia":[ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Lt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Lt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ht]}],"scale-x":[{"scale-x":[ht]}],"scale-y":[{"scale-y":[ht]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ft]}],"translate-y":[{"translate-y":[ft]}],"skew-x":[{"skew-x":[pt]}],"skew-y":[{"skew-y":[pt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Ct()}],"scroll-mx":[{"scroll-mx":Ct()}],"scroll-my":[{"scroll-my":Ct()}],"scroll-ms":[{"scroll-ms":Ct()}],"scroll-me":[{"scroll-me":Ct()}],"scroll-mt":[{"scroll-mt":Ct()}],"scroll-mr":[{"scroll-mr":Ct()}],"scroll-mb":[{"scroll-mb":Ct()}],"scroll-ml":[{"scroll-ml":Ct()}],"scroll-p":[{"scroll-p":Ct()}],"scroll-px":[{"scroll-px":Ct()}],"scroll-py":[{"scroll-py":Ct()}],"scroll-ps":[{"scroll-ps":Ct()}],"scroll-pe":[{"scroll-pe":Ct()}],"scroll-pt":[{"scroll-pt":Ct()}],"scroll-pr":[{"scroll-pr":Ct()}],"scroll-pb":[{"scroll-pb":Ct()}],"scroll-pl":[{"scroll-pl":Ct()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const API_URL="";function apiUrl(e){return`${API_URL}${e.startsWith("/")?e:`/${e}`}`}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>i=>{var a;if((s==null?void 0:s.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:o,defaultVariants:c}=s,d=Object.keys(o).map(b=>{const _=i==null?void 0:i[b],j=c==null?void 0:c[b];if(_===null)return null;const rt=falsyToString(_)||falsyToString(j);return o[b][rt]}),g=i&&Object.entries(i).reduce((b,_)=>{let[j,rt]=_;return rt===void 0||(b[j]=rt),b},{}),h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((b,_)=>{let{class:j,className:rt,..._e}=_;return Object.entries(_e).every(ct=>{let[it,ut]=ct;return Array.isArray(ut)?ut.includes({...c,...g}[it]):{...c,...g}[it]===ut})?[...b,j,rt]:b},[]);return cx(e,d,h,i==null?void 0:i.class,i==null?void 0:i.className)},buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",glow:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25 hover:shadow-primary/40"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:i,...a},o)=>jsxRuntimeExports.jsx("button",{className:cn(buttonVariants({variant:s,size:i,className:e})),ref:o,...a}));Button.displayName="Button";const Input=reactExports.forwardRef(({className:e,type:s,...i},a)=>jsxRuntimeExports.jsx("input",{type:s,className:cn("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:opacity-50",e),ref:a,...i}));Input.displayName="Input";const Textarea=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:opacity-50",e),ref:i,...s}));Textarea.displayName="Textarea";const cardVariants=cva("rounded-xl border bg-card text-card-foreground shadow",{variants:{variant:{default:"",glass:"glass-card"}},defaultVariants:{variant:"default"}}),Card=reactExports.forwardRef(({className:e,variant:s,...i},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn(cardVariants({variant:s}),e),...i}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...s}));CardTitle.displayName="CardTitle";const CardContent=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...s}));CardContent.displayName="CardContent";var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:g,...h},b)=>reactExports.createElement("svg",{ref:b,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:`lucide lucide-${toKebabCase(e)}`,...h},[...s.map(([_,j])=>reactExports.createElement(_,j)),...(Array.isArray(g)?g:[g])||[]]));return i.displayName=`${e}`,i},AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Brain=createLucideIcon("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),FileText=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),FileUp=createLucideIcon("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Mic=createLucideIcon("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ShieldAlert=createLucideIcon("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),Shield=createLucideIcon("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Navbar=()=>{const[e,s]=reactExports.useState(!1),[i,a]=reactExports.useState(null),[o,c]=reactExports.useState(!1),d=useLocation(),g=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const _e=await(await fetch(apiUrl("/api/me"),{credentials:"include"})).json();_e.status==="success"&&_e.user?a(_e.user):a(null)}catch{a(null)}})()},[d.pathname]);const h=async()=>{try{await fetch(apiUrl("/api/logout"),{method:"POST",credentials:"include"}),a(null),c(!1),g("/")}catch(j){console.error("Logout error:",j)}},b=j=>j.slice(0,2).toUpperCase(),_=[{to:"/",label:"Home"},{to:"/dashboard",label:"Dashboard"}];return jsxRuntimeExports.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:[jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center gap-2 text-xl font-bold",children:[jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"gradient-text",children:"Coding Crashers"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[_.map(j=>jsxRuntimeExports.jsx(Link,{to:j.to,className:`text-sm font-medium transition-colors hover:text-primary ${d.pathname===j.to?"text-primary":"text-muted-foreground"}`,children:j.label},j.to)),i?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:b(i.username)}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:i.username}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]}),o&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 top-full mt-2 w-48 bg-card border border-border rounded-lg shadow-lg z-50 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:i.username}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:i.email})]}),jsxRuntimeExports.jsxs("button",{onClick:h,className:"w-full px-4 py-2 text-sm text-left hover:bg-secondary flex items-center gap-2 text-red-400",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),"Logout"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:"Login"})}),jsxRuntimeExports.jsx(Link,{to:"/register",children:jsxRuntimeExports.jsx(Button,{variant:"glow",size:"sm",children:"Sign Up"})})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!e),children:e?jsxRuntimeExports.jsx(X,{}):jsxRuntimeExports.jsx(Menu,{})})]}),e&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"md:hidden bg-background border-b border-border",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[_.map(j=>jsxRuntimeExports.jsx(Link,{to:j.to,className:"text-sm font-medium",onClick:()=>s(!1),children:j.label},j.to)),i?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:b(i.username)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:i.username}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:i.email})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:h,className:"text-red-400",children:jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/login",className:"flex-1",children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full",children:"Login"})}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"flex-1",children:jsxRuntimeExports.jsx(Button,{variant:"glow",className:"w-full",children:"Sign Up"})})]})]})})]})},BackgroundEffects=()=>jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(139,92,246,0.15),transparent_50%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(236,72,153,0.1),transparent_50%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,rgba(59,130,246,0.1),transparent_50%)]"})]}),Flashcard=({question:e,answer:s,index:i})=>{const[a,o]=reactExports.useState(!1);return jsxRuntimeExports.jsx("div",{className:"flashcard-container h-64 cursor-pointer",onClick:()=>o(!a),children:jsxRuntimeExports.jsxs(motion.div,{className:`flashcard-flip relative w-full h-full ${a?"flipped":""}`,initial:{rotateY:0},animate:{rotateY:a?180:0},transition:{duration:.6},style:{transformStyle:"preserve-3d"},children:[jsxRuntimeExports.jsxs("div",{className:"flashcard-front absolute inset-0 bg-gradient-to-br from-primary/20 to-purple-600/20 rounded-xl p-6 flex flex-col items-center justify-center border border-primary/30",style:{backfaceVisibility:"hidden"},children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground mb-2",children:["Question ",i+1]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-center",children:e}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground mt-4",children:"Click to reveal"})]}),jsxRuntimeExports.jsxs("div",{className:"flashcard-back absolute inset-0 bg-gradient-to-br from-green-500/20 to-emerald-600/20 rounded-xl p-6 flex flex-col items-center justify-center border border-green-500/30",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground mb-2",children:"Answer"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-center",children:s}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground mt-4",children:"Click to flip back"})]})]})})},AudioRecorder=({onTranscription:e})=>{const[s,i]=reactExports.useState(!1),[a,o]=reactExports.useState(!1),[c,d]=reactExports.useState(0),g=reactExports.useRef(null),h=reactExports.useRef([]),b=reactExports.useRef(null);reactExports.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const _=async()=>{try{const ct=await navigator.mediaDevices.getUserMedia({audio:!0}),it=new MediaRecorder(ct);g.current=it,h.current=[],it.ondataavailable=ut=>h.current.push(ut.data),it.onstop=async()=>{ct.getTracks().forEach(nt=>nt.stop());const ut=new Blob(h.current,{type:"audio/wav"});await rt(ut)},it.start(),i(!0),d(0),b.current=setInterval(()=>d(ut=>ut+1),1e3)}catch(ct){console.error("Mic error:",ct)}},j=()=>{g.current&&(g.current.stop(),i(!1),b.current&&clearInterval(b.current))},rt=async ct=>{o(!0);const it=new FormData;it.append("audio",ct,"recording.wav");try{const nt=await(await fetch(apiUrl("/api/transcribe_audio"),{method:"POST",body:it})).json();nt.status==="success"&&e(nt.transcript)}catch(ut){console.error("Transcription error:",ut)}o(!1)},_e=ct=>`${Math.floor(ct/60)}:${(ct%60).toString().padStart(2,"0")}`;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s?j:_,disabled:a,className:`w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition-colors ${s?"bg-red-500 animate-pulse":"bg-primary hover:bg-primary/90"} ${a?"opacity-50":""}`,children:a?jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 text-white animate-spin"}):jsxRuntimeExports.jsx(Mic,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:a?"Processing...":s?_e(c):"Click to record"})]})},features=[{icon:Zap,title:"AI-Powered",desc:"Generate flashcards instantly using advanced AI"},{icon:Brain,title:"Quiz Mode",desc:"Test your knowledge with interactive quizzes"},{icon:Shield,title:"Anti-Cheat",desc:"Secure quiz mode with violation detection"},{icon:Sparkles,title:"Multi-Input",desc:"Text, voice, audio, image, video, and PDF"}],Index=()=>{const[e,s]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const o=await(await fetch(apiUrl("/api/me"),{credentials:"include"})).json();o.status==="success"&&o.user&&s(o.user)}catch{s(null)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsx(BackgroundEffects,{}),jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"pt-32 pb-16 px-4",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl",children:[jsxRuntimeExports.jsxs(motion.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6",children:["Learn Smarter with"," ",jsxRuntimeExports.jsx("span",{className:"gradient-text",children:"Coding Crashers"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Transform your study notes into AI-powered flashcards. Multiple input modes, interactive quizzes, and secure testing."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/dashboard",children:jsxRuntimeExports.jsx(Button,{variant:"glow",size:"lg",children:e?"Go to Dashboard":"Get Started"})}),!e&&jsxRuntimeExports.jsx(Link,{to:"/register",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"lg",children:"Sign Up Free"})})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:features.map((i,a)=>jsxRuntimeExports.jsxs("div",{className:"glass-card p-6 rounded-xl text-center",children:[jsxRuntimeExports.jsx(i.icon,{className:"w-10 h-10 mx-auto mb-4 text-primary"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:i.desc})]},a))})]})})]})},Login=()=>{const[e,s]=reactExports.useState(""),[i,a]=reactExports.useState(""),[o,c]=reactExports.useState(!1),d=useNavigate(),g=async h=>{if(h.preventDefault(),!e||!i)return ue.error("Please fill all fields");c(!0);try{const _=await(await fetch(apiUrl("/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:i}),credentials:"include"})).json();_.status==="success"?(ue.success("Login successful!"),setTimeout(()=>d("/dashboard"),100)):ue.error(_.message||"Login failed")}catch{ue.error("Something went wrong")}c(!1)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx(BackgroundEffects,{}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[jsxRuntimeExports.jsx(Zap,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Coding Crashers"})]}),jsxRuntimeExports.jsxs(Card,{variant:"glass",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:"Welcome Back"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email",value:e,onChange:h=>s(h.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Password",value:i,onChange:h=>a(h.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"glow",className:"w-full",disabled:o,children:o?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):"Login"})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-4",children:["Don't have an account? ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary hover:underline",children:"Sign up"})]})]})]})]})]})},Register=()=>{const[e,s]=reactExports.useState(""),[i,a]=reactExports.useState(""),[o,c]=reactExports.useState(""),[d,g]=reactExports.useState(!1),h=useNavigate(),b=async _=>{if(_.preventDefault(),!e||!i||!o)return ue.error("Please fill all fields");g(!0);try{const rt=await(await fetch(apiUrl("/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:i,password:o}),credentials:"include"})).json();rt.status==="success"?(ue.success("Registration successful! Please login."),h("/login")):ue.error(rt.message||"Registration failed")}catch{ue.error("Something went wrong")}g(!1)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx(BackgroundEffects,{}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[jsxRuntimeExports.jsx(Zap,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Coding Crashers"})]}),jsxRuntimeExports.jsxs(Card,{variant:"glass",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:"Create Account"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Username",value:e,onChange:_=>s(_.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email",value:i,onChange:_=>a(_.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Password",value:o,onChange:_=>c(_.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"glow",className:"w-full",disabled:d,children:d?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):"Sign Up"})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-4",children:["Already have an account? ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary hover:underline",children:"Login"})]})]})]})]})]})};var runtime={exports:{}};(function(e){var s=function(i){var a=Object.prototype,o=a.hasOwnProperty,c=Object.defineProperty||function(xt,At,Lt){xt[At]=Lt.value},d,g=typeof Symbol=="function"?Symbol:{},h=g.iterator||"@@iterator",b=g.asyncIterator||"@@asyncIterator",_=g.toStringTag||"@@toStringTag";function j(xt,At,Lt){return Object.defineProperty(xt,At,{value:Lt,enumerable:!0,configurable:!0,writable:!0}),xt[At]}try{j({},"")}catch{j=function(At,Lt,St){return At[Lt]=St}}function rt(xt,At,Lt,St){var st=At&&At.prototype instanceof at?At:at,lt=Object.create(st.prototype),Et=new Ht(St||[]);return c(lt,"_invoke",{value:Ct(xt,Lt,Et)}),lt}i.wrap=rt;function _e(xt,At,Lt){try{return{type:"normal",arg:xt.call(At,Lt)}}catch(St){return{type:"throw",arg:St}}}var ct="suspendedStart",it="suspendedYield",ut="executing",nt="completed",et={};function at(){}function ht(){}function ot(){}var pt={};j(pt,h,function(){return this});var dt=Object.getPrototypeOf,ft=dt&&dt(dt(Ut([])));ft&&ft!==a&&o.call(ft,h)&&(pt=ft);var gt=ot.prototype=at.prototype=Object.create(pt);ht.prototype=ot,c(gt,"constructor",{value:ot,configurable:!0}),c(ot,"constructor",{value:ht,configurable:!0}),ht.displayName=j(ot,_,"GeneratorFunction");function kt(xt){["next","throw","return"].forEach(function(At){j(xt,At,function(Lt){return this._invoke(At,Lt)})})}i.isGeneratorFunction=function(xt){var At=typeof xt=="function"&&xt.constructor;return At?At===ht||(At.displayName||At.name)==="GeneratorFunction":!1},i.mark=function(xt){return Object.setPrototypeOf?Object.setPrototypeOf(xt,ot):(xt.__proto__=ot,j(xt,_,"GeneratorFunction")),xt.prototype=Object.create(gt),xt},i.awrap=function(xt){return{__await:xt}};function mt(xt,At){function Lt(lt,Et,Pt,Rt){var Nt=_e(xt[lt],xt,Et);if(Nt.type==="throw")Rt(Nt.arg);else{var Kt=Nt.arg,nn=Kt.value;return nn&&typeof nn=="object"&&o.call(nn,"__await")?At.resolve(nn.__await).then(function(un){Lt("next",un,Pt,Rt)},function(un){Lt("throw",un,Pt,Rt)}):At.resolve(nn).then(function(un){Kt.value=un,Pt(Kt)},function(un){return Lt("throw",un,Pt,Rt)})}}var St;function st(lt,Et){function Pt(){return new At(function(Rt,Nt){Lt(lt,Et,Rt,Nt)})}return St=St?St.then(Pt,Pt):Pt()}c(this,"_invoke",{value:st})}kt(mt.prototype),j(mt.prototype,b,function(){return this}),i.AsyncIterator=mt,i.async=function(xt,At,Lt,St,st){st===void 0&&(st=Promise);var lt=new mt(rt(xt,At,Lt,St),st);return i.isGeneratorFunction(At)?lt:lt.next().then(function(Et){return Et.done?Et.value:lt.next()})};function Ct(xt,At,Lt){var St=ct;return function(lt,Et){if(St===ut)throw new Error("Generator is already running");if(St===nt){if(lt==="throw")throw Et;return zt()}for(Lt.method=lt,Lt.arg=Et;;){var Pt=Lt.delegate;if(Pt){var Rt=Dt(Pt,Lt);if(Rt){if(Rt===et)continue;return Rt}}if(Lt.method==="next")Lt.sent=Lt._sent=Lt.arg;else if(Lt.method==="throw"){if(St===ct)throw St=nt,Lt.arg;Lt.dispatchException(Lt.arg)}else Lt.method==="return"&&Lt.abrupt("return",Lt.arg);St=ut;var Nt=_e(xt,At,Lt);if(Nt.type==="normal"){if(St=Lt.done?nt:it,Nt.arg===et)continue;return{value:Nt.arg,done:Lt.done}}else Nt.type==="throw"&&(St=nt,Lt.method="throw",Lt.arg=Nt.arg)}}}function Dt(xt,At){var Lt=At.method,St=xt.iterator[Lt];if(St===d)return At.delegate=null,Lt==="throw"&&xt.iterator.return&&(At.method="return",At.arg=d,Dt(xt,At),At.method==="throw")||Lt!=="return"&&(At.method="throw",At.arg=new TypeError("The iterator does not provide a '"+Lt+"' method")),et;var st=_e(St,xt.iterator,At.arg);if(st.type==="throw")return At.method="throw",At.arg=st.arg,At.delegate=null,et;var lt=st.arg;if(!lt)return At.method="throw",At.arg=new TypeError("iterator result is not an object"),At.delegate=null,et;if(lt.done)At[xt.resultName]=lt.value,At.next=xt.nextLoc,At.method!=="return"&&(At.method="next",At.arg=d);else return lt;return At.delegate=null,et}kt(gt),j(gt,_,"Generator"),j(gt,h,function(){return this}),j(gt,"toString",function(){return"[object Generator]"});function Zt(xt){var At={tryLoc:xt[0]};1 in xt&&(At.catchLoc=xt[1]),2 in xt&&(At.finallyLoc=xt[2],At.afterLoc=xt[3]),this.tryEntries.push(At)}function $t(xt){var At=xt.completion||{};At.type="normal",delete At.arg,xt.completion=At}function Ht(xt){this.tryEntries=[{tryLoc:"root"}],xt.forEach(Zt,this),this.reset(!0)}i.keys=function(xt){var At=Object(xt),Lt=[];for(var St in At)Lt.push(St);return Lt.reverse(),function st(){for(;Lt.length;){var lt=Lt.pop();if(lt in At)return st.value=lt,st.done=!1,st}return st.done=!0,st}};function Ut(xt){if(xt){var At=xt[h];if(At)return At.call(xt);if(typeof xt.next=="function")return xt;if(!isNaN(xt.length)){var Lt=-1,St=function st(){for(;++Lt<xt.length;)if(o.call(xt,Lt))return st.value=xt[Lt],st.done=!1,st;return st.value=d,st.done=!0,st};return St.next=St}}return{next:zt}}i.values=Ut;function zt(){return{value:d,done:!0}}return Ht.prototype={constructor:Ht,reset:function(xt){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach($t),!xt)for(var At in this)At.charAt(0)==="t"&&o.call(this,At)&&!isNaN(+At.slice(1))&&(this[At]=d)},stop:function(){this.done=!0;var xt=this.tryEntries[0],At=xt.completion;if(At.type==="throw")throw At.arg;return this.rval},dispatchException:function(xt){if(this.done)throw xt;var At=this;function Lt(Rt,Nt){return lt.type="throw",lt.arg=xt,At.next=Rt,Nt&&(At.method="next",At.arg=d),!!Nt}for(var St=this.tryEntries.length-1;St>=0;--St){var st=this.tryEntries[St],lt=st.completion;if(st.tryLoc==="root")return Lt("end");if(st.tryLoc<=this.prev){var Et=o.call(st,"catchLoc"),Pt=o.call(st,"finallyLoc");if(Et&&Pt){if(this.prev<st.catchLoc)return Lt(st.catchLoc,!0);if(this.prev<st.finallyLoc)return Lt(st.finallyLoc)}else if(Et){if(this.prev<st.catchLoc)return Lt(st.catchLoc,!0)}else if(Pt){if(this.prev<st.finallyLoc)return Lt(st.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(xt,At){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var St=this.tryEntries[Lt];if(St.tryLoc<=this.prev&&o.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var st=St;break}}st&&(xt==="break"||xt==="continue")&&st.tryLoc<=At&&At<=st.finallyLoc&&(st=null);var lt=st?st.completion:{};return lt.type=xt,lt.arg=At,st?(this.method="next",this.next=st.finallyLoc,et):this.complete(lt)},complete:function(xt,At){if(xt.type==="throw")throw xt.arg;return xt.type==="break"||xt.type==="continue"?this.next=xt.arg:xt.type==="return"?(this.rval=this.arg=xt.arg,this.method="return",this.next="end"):xt.type==="normal"&&At&&(this.next=At),et},finish:function(xt){for(var At=this.tryEntries.length-1;At>=0;--At){var Lt=this.tryEntries[At];if(Lt.finallyLoc===xt)return this.complete(Lt.completion,Lt.afterLoc),$t(Lt),et}},catch:function(xt){for(var At=this.tryEntries.length-1;At>=0;--At){var Lt=this.tryEntries[At];if(Lt.tryLoc===xt){var St=Lt.completion;if(St.type==="throw"){var st=St.arg;$t(Lt)}return st}}throw new Error("illegal catch attempt")},delegateYield:function(xt,At,Lt){return this.delegate={iterator:Ut(xt),resultName:At,nextLoc:Lt},this.method==="next"&&(this.arg=d),et}},i}(e.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})(runtime);var getId$3=(e,s)=>`${e}-${s}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:e,action:s,payload:i={}})=>{let a=e;return typeof a>"u"&&(a=getId$2("Job",jobCounter),jobCounter+=1),{id:a,action:s,payload:i}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=e=>{logging=e};log$2.log=(...e)=>logging?console.log.apply(void 0,e):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const e=getId$1("Scheduler",schedulerCounter),s={},i={};let a=[];schedulerCounter+=1;const o=()=>a.length,c=()=>Object.keys(s).length,d=()=>{if(a.length!==0){const j=Object.keys(s);for(let rt=0;rt<j.length;rt+=1)if(typeof i[j[rt]]>"u"){a[0](s[j[rt]]);break}}},g=(j,rt)=>new Promise((_e,ct)=>{const it=createJob$1({action:j,payload:rt});a.push(async ut=>{a.shift(),i[ut.id]=it;try{_e(await ut[j].apply(void 0,[...rt,it.id]))}catch(nt){ct(nt)}finally{delete i[ut.id],d()}}),log$1(`[${e}]: Add ${it.id} to JobQueue`),log$1(`[${e}]: JobQueue length=${a.length}`),d()});return{addWorker:j=>(s[j.id]=j,log$1(`[${e}]: Add ${j.id}`),log$1(`[${e}]: Number of workers=${c()}`),d(),j.id),addJob:async(j,...rt)=>{if(c()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return g(j,rt)},terminate:async()=>{Object.keys(s).forEach(async j=>{await s[j].terminate()}),a=[]},getQueueLen:o,getNumWorkers:c}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=e=>{const s={};return typeof WorkerGlobalScope<"u"?s.type="webworker":isElectron()?s.type="electron":typeof document=="object"?s.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(s.type="node"),typeof e>"u"?s:s[e]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?e=>new URL(e,window.location.href).href:e=>e;var resolvePaths$1=e=>{const s={...e};return["corePath","workerPath","langPath"].forEach(i=>{e[i]&&(s[i]=resolveURL(s[i]))}),s},circularize$1=e=>{const s=[],i=[],a=[],o=[],c=[];return e.blocks&&e.blocks.forEach(d=>{d.paragraphs.forEach(g=>{g.lines.forEach(h=>{h.words.forEach(b=>{b.symbols.forEach(_=>{c.push({..._,page:e,block:d,paragraph:g,line:h,word:b})}),o.push({...b,page:e,block:d,paragraph:g,line:h})}),a.push({...h,page:e,block:d,paragraph:g})}),i.push({...g,page:e,block:d})}),s.push({...d,page:e})}),{...e,blocks:s,paragraphs:i,lines:a,words:o,symbols:c}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const version$1="5.1.1",require$$0={version:version$1};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:e,workerBlobURL:s})=>{let i;if(Blob&&URL&&s){const a=new Blob([`importScripts("${e}");`],{type:"application/javascript"});i=new Worker(URL.createObjectURL(a))}else i=new Worker(e);return i},terminateWorker$2=e=>{e.terminate()},onMessage$2=(e,s)=>{e.onmessage=({data:i})=>{s(i)}},send$2=async(e,s)=>{e.postMessage(s)};const readFromBlobOrFile=e=>new Promise((s,i)=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.onerror=({target:{error:{code:o}}})=>{i(Error(`File could not be read! Code=${o}`))},a.readAsArrayBuffer(e)}),loadImage$2=async e=>{let s=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?s=atob(e.split(",")[1]).split("").map(i=>i.charCodeAt(0)):s=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(s=await loadImage$2(e.src)),e.tagName==="VIDEO"&&(s=await loadImage$2(e.poster)),e.tagName==="CANVAS"&&await new Promise(i=>{e.toBlob(async a=>{s=await readFromBlobOrFile(a),i()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const i=await e.convertToBlob();s=await readFromBlobOrFile(i)}else(e instanceof File||e instanceof Blob)&&(s=await readFromBlobOrFile(e));return new Uint8Array(s)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(e="eng",s=OEM$1.LSTM_ONLY,i={},a={})=>{const o=getId("Worker",workerCounter),{logger:c,errorHandler:d,...g}=resolvePaths({...defaultOptions,...i}),h={},b={},_=typeof e=="string"?e.split("+"):e;let j=s,rt=a;const _e=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(s)&&!g.legacyCore;let ct,it;const ut=new Promise((st,lt)=>{it=st,ct=lt}),nt=st=>{ct(st.message)};let et=spawnWorker(g);et.onerror=nt,workerCounter+=1;const at=(st,lt)=>{h[st]=lt},ht=(st,lt)=>{b[st]=lt},ot=({id:st,action:lt,payload:Et})=>new Promise((Pt,Rt)=>{log(`[${o}]: Start ${st}, action=${lt}`);const Nt=`${lt}-${st}`;at(Nt,Pt),ht(Nt,Rt),send(et,{workerId:o,jobId:st,action:lt,payload:Et})}),pt=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),dt=st=>ot(createJob({id:st,action:"load",payload:{options:{lstmOnly:_e,corePath:g.corePath,logging:g.logging}}})),ft=(st,lt,Et)=>ot(createJob({id:Et,action:"FS",payload:{method:"writeFile",args:[st,lt]}})),gt=(st,lt)=>ot(createJob({id:lt,action:"FS",payload:{method:"readFile",args:[st,{encoding:"utf8"}]}})),kt=(st,lt)=>ot(createJob({id:lt,action:"FS",payload:{method:"unlink",args:[st]}})),mt=(st,lt,Et)=>ot(createJob({id:Et,action:"FS",payload:{method:st,args:lt}})),Ct=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Dt=(st,lt)=>ot(createJob({id:lt,action:"loadLanguage",payload:{langs:st,options:{langPath:g.langPath,dataPath:g.dataPath,cachePath:g.cachePath,cacheMethod:g.cacheMethod,gzip:g.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(j)&&!g.legacyLang}}})),Zt=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),$t=(st,lt,Et,Pt)=>ot(createJob({id:Pt,action:"initialize",payload:{langs:st,oem:lt,config:Et}})),Ht=(st="eng",lt,Et,Pt)=>{if(_e&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(lt))throw Error("Legacy model requested but code missing.");const Rt=lt||j;j=Rt;const Nt=Et||rt;rt=Nt;const nn=(typeof st=="string"?st.split("+"):st).filter(un=>!_.includes(un));return _.push(...nn),nn.length>0?Dt(nn,Pt).then(()=>$t(st,Rt,Nt,Pt)):$t(st,Rt,Nt,Pt)},Ut=(st={},lt)=>ot(createJob({id:lt,action:"setParameters",payload:{params:st}})),zt=async(st,lt={},Et={blocks:!0,text:!0,hocr:!0,tsv:!0},Pt)=>ot(createJob({id:Pt,action:"recognize",payload:{image:await loadImage(st),options:lt,output:Et}})),xt=(st="Tesseract OCR Result",lt=!1,Et)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),ot(createJob({id:Et,action:"getPDF",payload:{title:st,textonly:lt}}))),At=async(st,lt)=>{if(_e)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ot(createJob({id:lt,action:"detect",payload:{image:await loadImage(st)}}))},Lt=async()=>(et!==null&&(terminateWorker(et),et=null),Promise.resolve());onMessage(et,({workerId:st,jobId:lt,status:Et,action:Pt,data:Rt})=>{const Nt=`${Pt}-${lt}`;if(Et==="resolve"){log(`[${st}]: Complete ${lt}`);let Kt=Rt;Pt==="recognize"?Kt=circularize(Rt):Pt==="getPDF"&&(Kt=Array.from({...Rt,length:Object.keys(Rt).length})),h[Nt]({jobId:lt,data:Kt})}else if(Et==="reject")if(b[Nt](Rt),Pt==="load"&&ct(Rt),d)d(Rt);else throw Error(Rt);else Et==="progress"&&c({...Rt,userJobId:lt})});const St={id:o,worker:et,setResolve:at,setReject:ht,load:pt,writeText:ft,readText:gt,removeFile:kt,FS:mt,loadLanguage:Ct,initialize:Zt,reinitialize:Ht,setParameters:Ut,recognize:zt,getPDF:xt,detect:At,terminate:Lt};return dt().then(()=>Dt(e)).then(()=>$t(e,s,a)).then(()=>it(St)).catch(()=>{}),ut};const createWorker$1=createWorker$2,recognize=async(e,s,i)=>{const a=await createWorker$1(s,1,i);return a.recognize(e).finally(async()=>{await a.terminate()})},detect=async(e,s)=>{const i=await createWorker$1("osd",0,s);return i.detect(e).finally(async()=>{await i.terminate()})};var Tesseract$2={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$2,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract};const Tesseract$1=getDefaultExportFromCjs(src);var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var Kn;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=xt,s.bytesToString=un,s.createValidAbsoluteUrl=Lt,s.getModificationDate=Cn,s.getUuid=On,s.getVerbosityLevel=$t,s.info=Ht,s.isArrayBuffer=en,s.isArrayEqual=kn,s.isNodeJS=void 0,s.normalizeUnicode=Dn,s.objectFromMap=xn,s.objectSize=wn,s.setVerbosityLevel=Zt,s.shadow=St,s.string32=yn,s.stringToBytes=fn,s.stringToPDFString=pn,s.stringToUTF8String=vn,s.unreachable=zt,s.utf8StringToString=bn,s.warn=Ut;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=o;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const g=.35;s.LINE_DESCENT_FACTOR=g;const h=g/d;s.BASELINE_FACTOR=h;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=_;const j="pdfjs_internal_editor_";s.AnnotationEditorPrefix=j;const rt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=rt;const _e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=_e;const ct={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=ct;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=it;const ut={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=ut;const nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=nt;const et={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=et;const at={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=at;const ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=ht;const ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=ot;const pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=pt;const dt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=dt;const ft={O:"PageOpen",C:"PageClose"};s.PageActionEventType=ft;const gt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=gt;const kt={NONE:0,BINARY:1};s.CMapCompressionType=kt;const mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=mt;const Ct={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Ct;let Dt=gt.WARNINGS;function Zt(En){Number.isInteger(En)&&(Dt=En)}function $t(){return Dt}function Ht(En){Dt>=gt.INFOS&&console.log(`Info: ${En}`)}function Ut(En){Dt>=gt.WARNINGS&&console.log(`Warning: ${En}`)}function zt(En){throw new Error(En)}function xt(En,an){En||zt(an)}function At(En){switch(En==null?void 0:En.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Lt(En,an=null,ln=null){if(!En)return null;try{if(ln&&typeof En=="string"){if(ln.addDefaultProtocol&&En.startsWith("www.")){const Gn=En.match(/\./g);(Gn==null?void 0:Gn.length)>=2&&(En=`http://${En}`)}if(ln.tryConvertEncoding)try{En=vn(En)}catch{}}const Ln=an?new URL(En,an):new URL(En);if(At(Ln))return Ln}catch{}return null}function St(En,an,ln,Ln=!1){return Object.defineProperty(En,an,{value:ln,enumerable:!Ln,configurable:!0,writable:!1}),ln}const st=function(){function an(ln,Ln){this.constructor===an&&zt("Cannot initialize BaseException."),this.message=ln,this.name=Ln}return an.prototype=new Error,an.constructor=an,an}();s.BaseException=st;class lt extends st{constructor(an,ln){super(an,"PasswordException"),this.code=ln}}s.PasswordException=lt;class Et extends st{constructor(an,ln){super(an,"UnknownErrorException"),this.details=ln}}s.UnknownErrorException=Et;class Pt extends st{constructor(an){super(an,"InvalidPDFException")}}s.InvalidPDFException=Pt;class Rt extends st{constructor(an){super(an,"MissingPDFException")}}s.MissingPDFException=Rt;class Nt extends st{constructor(an,ln){super(an,"UnexpectedResponseException"),this.status=ln}}s.UnexpectedResponseException=Nt;class Kt extends st{constructor(an){super(an,"FormatError")}}s.FormatError=Kt;class nn extends st{constructor(an){super(an,"AbortException")}}s.AbortException=nn;function un(En){(typeof En!="object"||(En==null?void 0:En.length)===void 0)&&zt("Invalid argument for bytesToString");const an=En.length,ln=8192;if(an<ln)return String.fromCharCode.apply(null,En);const Ln=[];for(let Gn=0;Gn<an;Gn+=ln){const Wn=Math.min(Gn+ln,an),Bt=En.subarray(Gn,Wn);Ln.push(String.fromCharCode.apply(null,Bt))}return Ln.join("")}function fn(En){typeof En!="string"&&zt("Invalid argument for stringToBytes");const an=En.length,ln=new Uint8Array(an);for(let Ln=0;Ln<an;++Ln)ln[Ln]=En.charCodeAt(Ln)&255;return ln}function yn(En){return String.fromCharCode(En>>24&255,En>>16&255,En>>8&255,En&255)}function wn(En){return Object.keys(En).length}function xn(En){const an=Object.create(null);for(const[ln,Ln]of En)an[ln]=Ln;return an}function rn(){const En=new Uint8Array(4);return En[0]=1,new Uint32Array(En.buffer,0,1)[0]===1}function on(){try{return new Function(""),!0}catch{return!1}}class Tt{static get isLittleEndian(){return St(this,"isLittleEndian",rn())}static get isEvalSupported(){return St(this,"isEvalSupported",on())}static get isOffscreenCanvasSupported(){return St(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?St(this,"platform",{isWin:!1,isMac:!1}):St(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var an,ln;return St(this,"isCSSRoundSupported",(ln=(an=globalThis.CSS)==null?void 0:an.supports)==null?void 0:ln.call(an,"width: round(1.5px, 1px)"))}}s.FeatureTest=Tt;const Vt=[...Array(256).keys()].map(En=>En.toString(16).padStart(2,"0"));class Jt{static makeHexColor(an,ln,Ln){return`#${Vt[an]}${Vt[ln]}${Vt[Ln]}`}static scaleMinMax(an,ln){let Ln;an[0]?(an[0]<0&&(Ln=ln[0],ln[0]=ln[1],ln[1]=Ln),ln[0]*=an[0],ln[1]*=an[0],an[3]<0&&(Ln=ln[2],ln[2]=ln[3],ln[3]=Ln),ln[2]*=an[3],ln[3]*=an[3]):(Ln=ln[0],ln[0]=ln[2],ln[2]=Ln,Ln=ln[1],ln[1]=ln[3],ln[3]=Ln,an[1]<0&&(Ln=ln[2],ln[2]=ln[3],ln[3]=Ln),ln[2]*=an[1],ln[3]*=an[1],an[2]<0&&(Ln=ln[0],ln[0]=ln[1],ln[1]=Ln),ln[0]*=an[2],ln[1]*=an[2]),ln[0]+=an[4],ln[1]+=an[4],ln[2]+=an[5],ln[3]+=an[5]}static transform(an,ln){return[an[0]*ln[0]+an[2]*ln[1],an[1]*ln[0]+an[3]*ln[1],an[0]*ln[2]+an[2]*ln[3],an[1]*ln[2]+an[3]*ln[3],an[0]*ln[4]+an[2]*ln[5]+an[4],an[1]*ln[4]+an[3]*ln[5]+an[5]]}static applyTransform(an,ln){const Ln=an[0]*ln[0]+an[1]*ln[2]+ln[4],Gn=an[0]*ln[1]+an[1]*ln[3]+ln[5];return[Ln,Gn]}static applyInverseTransform(an,ln){const Ln=ln[0]*ln[3]-ln[1]*ln[2],Gn=(an[0]*ln[3]-an[1]*ln[2]+ln[2]*ln[5]-ln[4]*ln[3])/Ln,Wn=(-an[0]*ln[1]+an[1]*ln[0]+ln[4]*ln[1]-ln[5]*ln[0])/Ln;return[Gn,Wn]}static getAxialAlignedBoundingBox(an,ln){const Ln=this.applyTransform(an,ln),Gn=this.applyTransform(an.slice(2,4),ln),Wn=this.applyTransform([an[0],an[3]],ln),Bt=this.applyTransform([an[2],an[1]],ln);return[Math.min(Ln[0],Gn[0],Wn[0],Bt[0]),Math.min(Ln[1],Gn[1],Wn[1],Bt[1]),Math.max(Ln[0],Gn[0],Wn[0],Bt[0]),Math.max(Ln[1],Gn[1],Wn[1],Bt[1])]}static inverseTransform(an){const ln=an[0]*an[3]-an[1]*an[2];return[an[3]/ln,-an[1]/ln,-an[2]/ln,an[0]/ln,(an[2]*an[5]-an[4]*an[3])/ln,(an[4]*an[1]-an[5]*an[0])/ln]}static singularValueDecompose2dScale(an){const ln=[an[0],an[2],an[1],an[3]],Ln=an[0]*ln[0]+an[1]*ln[2],Gn=an[0]*ln[1]+an[1]*ln[3],Wn=an[2]*ln[0]+an[3]*ln[2],Bt=an[2]*ln[1]+an[3]*ln[3],mn=(Ln+Bt)/2,An=Math.sqrt((Ln+Bt)**2-4*(Ln*Bt-Wn*Gn))/2,Fn=mn+An||1,_n=mn-An||1;return[Math.sqrt(Fn),Math.sqrt(_n)]}static normalizeRect(an){const ln=an.slice(0);return an[0]>an[2]&&(ln[0]=an[2],ln[2]=an[0]),an[1]>an[3]&&(ln[1]=an[3],ln[3]=an[1]),ln}static intersect(an,ln){const Ln=Math.max(Math.min(an[0],an[2]),Math.min(ln[0],ln[2])),Gn=Math.min(Math.max(an[0],an[2]),Math.max(ln[0],ln[2]));if(Ln>Gn)return null;const Wn=Math.max(Math.min(an[1],an[3]),Math.min(ln[1],ln[3])),Bt=Math.min(Math.max(an[1],an[3]),Math.max(ln[1],ln[3]));return Wn>Bt?null:[Ln,Wn,Gn,Bt]}static bezierBoundingBox(an,ln,Ln,Gn,Wn,Bt,mn,An){const Fn=[],_n=[[],[]];let Tn,It,Mt,Gt,dn,hn,gn,Sn;for(let Pn=0;Pn<2;++Pn){if(Pn===0?(It=6*an-12*Ln+6*Wn,Tn=-3*an+9*Ln-9*Wn+3*mn,Mt=3*Ln-3*an):(It=6*ln-12*Gn+6*Bt,Tn=-3*ln+9*Gn-9*Bt+3*An,Mt=3*Gn-3*ln),Math.abs(Tn)<1e-12){if(Math.abs(It)<1e-12)continue;Gt=-Mt/It,0<Gt&&Gt<1&&Fn.push(Gt);continue}gn=It*It-4*Mt*Tn,Sn=Math.sqrt(gn),!(gn<0)&&(dn=(-It+Sn)/(2*Tn),0<dn&&dn<1&&Fn.push(dn),hn=(-It-Sn)/(2*Tn),0<hn&&hn<1&&Fn.push(hn))}let Nn=Fn.length,In;const tn=Nn;for(;Nn--;)Gt=Fn[Nn],In=1-Gt,_n[0][Nn]=In*In*In*an+3*In*In*Gt*Ln+3*In*Gt*Gt*Wn+Gt*Gt*Gt*mn,_n[1][Nn]=In*In*In*ln+3*In*In*Gt*Gn+3*In*Gt*Gt*Bt+Gt*Gt*Gt*An;return _n[0][tn]=an,_n[1][tn]=ln,_n[0][tn+1]=mn,_n[1][tn+1]=An,_n[0].length=_n[1].length=tn+2,[Math.min(..._n[0]),Math.min(..._n[1]),Math.max(..._n[0]),Math.max(..._n[1])]}}s.Util=Jt;const sn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pn(En){if(En[0]>=""){let ln;if(En[0]===""&&En[1]===""?ln="utf-16be":En[0]===""&&En[1]===""?ln="utf-16le":En[0]===""&&En[1]===""&&En[2]===""&&(ln="utf-8"),ln)try{const Ln=new TextDecoder(ln,{fatal:!0}),Gn=fn(En);return Ln.decode(Gn)}catch(Ln){Ut(`stringToPDFString: "${Ln}".`)}}const an=[];for(let ln=0,Ln=En.length;ln<Ln;ln++){const Gn=sn[En.charCodeAt(ln)];an.push(Gn?String.fromCharCode(Gn):En.charAt(ln))}return an.join("")}function vn(En){return decodeURIComponent(escape(En))}function bn(En){return unescape(encodeURIComponent(En))}function en(En){return typeof En=="object"&&(En==null?void 0:En.byteLength)!==void 0}function kn(En,an){if(En.length!==an.length)return!1;for(let ln=0,Ln=En.length;ln<Ln;ln++)if(En[ln]!==an[ln])return!1;return!0}function Cn(En=new Date){return[En.getUTCFullYear().toString(),(En.getUTCMonth()+1).toString().padStart(2,"0"),En.getUTCDate().toString().padStart(2,"0"),En.getUTCHours().toString().padStart(2,"0"),En.getUTCMinutes().toString().padStart(2,"0"),En.getUTCSeconds().toString().padStart(2,"0")].join("")}class Un{constructor(){Qt(this,Kn,!1);this.promise=new Promise((an,ln)=>{this.resolve=Ln=>{qt(this,Kn,!0),an(Ln)},this.reject=Ln=>{qt(this,Kn,!0),ln(Ln)}})}get settled(){return $(this,Kn)}}Kn=new WeakMap,s.PromiseCapability=Un;let Vn=null,$n=null;function Dn(En){return Vn||(Vn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$n=new Map([["","t"]])),En.replaceAll(Vn,(an,ln,Ln)=>ln?ln.normalize("NFKC"):$n.get(Ln))}function On(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const En=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(En);else for(let an=0;an<32;an++)En[an]=Math.floor(Math.random()*255);return un(En)}const Hn="pdfjs_internal_id_";s.AnnotationPrefix=Hn},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,i,a,o,Pr,Jr,g,h,b,_,j,rt,_e,ct,it,es,nt,et,ps,ht,ot;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(dt){if(typeof dt=="string"||dt instanceof URL?dt={url:dt}:(0,_util.isArrayBuffer)(dt)&&(dt={data:dt}),typeof dt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!dt.url&&!dt.data&&!dt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ft=new PDFDocumentLoadingTask,{docId:gt}=ft,kt=dt.url?getUrlProp(dt.url):null,mt=dt.data?getDataProp(dt.data):null,Ct=dt.httpHeaders||null,Dt=dt.withCredentials===!0,Zt=dt.password??null,$t=dt.range instanceof PDFDataRangeTransport?dt.range:null,Ht=Number.isInteger(dt.rangeChunkSize)&&dt.rangeChunkSize>0?dt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ut=dt.worker instanceof PDFWorker?dt.worker:null;const zt=dt.verbosity,xt=typeof dt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(dt.docBaseUrl)?dt.docBaseUrl:null,At=typeof dt.cMapUrl=="string"?dt.cMapUrl:null,Lt=dt.cMapPacked!==!1,St=dt.CMapReaderFactory||DefaultCMapReaderFactory,st=typeof dt.standardFontDataUrl=="string"?dt.standardFontDataUrl:null,lt=dt.StandardFontDataFactory||DefaultStandardFontDataFactory,Et=dt.stopAtErrors!==!0,Pt=Number.isInteger(dt.maxImageSize)&&dt.maxImageSize>-1?dt.maxImageSize:-1,Rt=dt.isEvalSupported!==!1,Nt=typeof dt.isOffscreenCanvasSupported=="boolean"?dt.isOffscreenCanvasSupported:!_util.isNodeJS,Kt=Number.isInteger(dt.canvasMaxAreaInBytes)?dt.canvasMaxAreaInBytes:-1,nn=typeof dt.disableFontFace=="boolean"?dt.disableFontFace:_util.isNodeJS,un=dt.fontExtraProperties===!0,fn=dt.enableXfa===!0,yn=dt.ownerDocument||globalThis.document,wn=dt.disableRange===!0,xn=dt.disableStream===!0,rn=dt.disableAutoFetch===!0,on=dt.pdfBug===!0,Tt=$t?$t.length:dt.length??NaN,Vt=typeof dt.useSystemFonts=="boolean"?dt.useSystemFonts:!_util.isNodeJS&&!nn,Jt=typeof dt.useWorkerFetch=="boolean"?dt.useWorkerFetch:St===_display_utils.DOMCMapReaderFactory&&lt===_display_utils.DOMStandardFontDataFactory&&At&&st&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(st,document.baseURI),sn=dt.canvasFactory||new DefaultCanvasFactory({ownerDocument:yn}),pn=dt.filterFactory||new DefaultFilterFactory({docId:gt,ownerDocument:yn}),vn=null;(0,_util.setVerbosityLevel)(zt);const bn={canvasFactory:sn,filterFactory:pn};if(Jt||(bn.cMapReaderFactory=new St({baseUrl:At,isCompressed:Lt}),bn.standardFontDataFactory=new lt({baseUrl:st})),!Ut){const Cn={verbosity:zt,port:_worker_options.GlobalWorkerOptions.workerPort};Ut=Cn.port?PDFWorker.fromPort(Cn):new PDFWorker(Cn),ft._worker=Ut}const en={docId:gt,apiVersion:"3.11.174",data:mt,password:Zt,disableAutoFetch:rn,rangeChunkSize:Ht,length:Tt,docBaseUrl:xt,enableXfa:fn,evaluatorOptions:{maxImageSize:Pt,disableFontFace:nn,ignoreErrors:Et,isEvalSupported:Rt,isOffscreenCanvasSupported:Nt,canvasMaxAreaInBytes:Kt,fontExtraProperties:un,useSystemFonts:Vt,cMapUrl:Jt?At:null,standardFontDataUrl:Jt?st:null}},kn={ignoreErrors:Et,isEvalSupported:Rt,disableFontFace:nn,fontExtraProperties:un,enableXfa:fn,ownerDocument:yn,disableAutoFetch:rn,pdfBug:on,styleElement:vn};return Ut.promise.then(function(){if(ft.destroyed)throw new Error("Loading aborted");const Cn=_fetchDocument(Ut,en),Un=new Promise(function(Vn){let $n;$t?$n=new _transport_stream.PDFDataTransportStream({length:Tt,initialData:$t.initialData,progressiveDone:$t.progressiveDone,contentDispositionFilename:$t.contentDispositionFilename,disableRange:wn,disableStream:xn},$t):mt||($n=(On=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(On):(0,_display_utils.isValidFetchUrl)(On.url)?new _displayFetch_stream.PDFFetchStream(On):new _displayNetwork.PDFNetworkStream(On))({url:kt,length:Tt,httpHeaders:Ct,withCredentials:Dt,rangeChunkSize:Ht,disableRange:wn,disableStream:xn})),Vn($n)});return Promise.all([Cn,Un]).then(function([Vn,$n]){if(ft.destroyed)throw new Error("Loading aborted");const Dn=new _message_handler.MessageHandler(gt,Vn,Ut.port),On=new WorkerTransport(Dn,ft,$n,kn,bn);ft._transport=On,Dn.send("Ready",null)})}).catch(ft._capability.reject),ft}async function _fetchDocument(dt,ft){if(dt.destroyed)throw new Error("Worker was destroyed");const gt=await dt.messageHandler.sendWithPromise("GetDocRequest",ft,ft.data?[ft.data.buffer]:null);if(dt.destroyed)throw new Error("Worker was destroyed");return gt}function getUrlProp(dt){if(dt instanceof URL)return dt.href;try{return new URL(dt,window.location).href}catch{if(_util.isNodeJS&&typeof dt=="string")return dt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(dt){if(_util.isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(dt instanceof Uint8Array&&dt.byteLength===dt.buffer.byteLength)return dt;if(typeof dt=="string")return(0,_util.stringToBytes)(dt);if(typeof dt=="object"&&!isNaN(dt==null?void 0:dt.length)||(0,_util.isArrayBuffer)(dt))return new Uint8Array(dt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${pr(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ft,gt,kt;this.destroyed=!0;try{(ft=this._worker)!=null&&ft.port&&(this._worker._pendingDestroy=!0),await((gt=this._transport)==null?void 0:gt.destroy())}catch(mt){throw(kt=this._worker)!=null&&kt.port&&delete this._worker._pendingDestroy,mt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Qt(s,e,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ft,gt,kt=!1,mt=null){this.length=ft,this.initialData=gt,this.progressiveDone=kt,this.contentDispositionFilename=mt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ft){this._rangeListeners.push(ft)}addProgressListener(ft){this._progressListeners.push(ft)}addProgressiveReadListener(ft){this._progressiveReadListeners.push(ft)}addProgressiveDoneListener(ft){this._progressiveDoneListeners.push(ft)}onDataRange(ft,gt){for(const kt of this._rangeListeners)kt(ft,gt)}onDataProgress(ft,gt){this._readyCapability.promise.then(()=>{for(const kt of this._progressListeners)kt(ft,gt)})}onDataProgressiveRead(ft){this._readyCapability.promise.then(()=>{for(const gt of this._progressiveReadListeners)gt(ft)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveDoneListeners)ft()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ft,gt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ft,gt){this._pdfInfo=ft,this._transport=gt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(kt=>{if(!kt)return kt;const mt=[];for(const Ct in kt)mt.push(...kt[Ct]);return mt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ft){return this._transport.getPage(ft)}getPageIndex(ft){return this._transport.getPageIndex(ft)}getDestinations(){return this._transport.getDestinations()}getDestination(ft){return this._transport.getDestination(ft)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ft=!1){return this._transport.startCleanup(ft||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ft,gt,kt,mt=!1){Qt(this,o);Qt(this,i,null);Qt(this,a,!1);this._pageIndex=ft,this._pageInfo=gt,this._transport=kt,this._stats=mt?new _display_utils.StatTimer:null,this._pdfBug=mt,this.commonObjs=kt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ft,rotation:gt=this.rotate,offsetX:kt=0,offsetY:mt=0,dontFlip:Ct=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ft,rotation:gt,offsetX:kt,offsetY:mt,dontFlip:Ct})}getAnnotations({intent:ft="display"}={}){const gt=this._transport.getRenderingIntent(ft);return this._transport.getAnnotations(this._pageIndex,gt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ft;return((ft=this._transport._htmlForXfa)==null?void 0:ft.children[this._pageIndex])||null}render({canvasContext:ft,viewport:gt,intent:kt="display",annotationMode:mt=_util.AnnotationMode.ENABLE,transform:Ct=null,background:Dt=null,optionalContentConfigPromise:Zt=null,annotationCanvasMap:$t=null,pageColors:Ht=null,printAnnotationStorage:Ut=null}){var lt,Et;(lt=this._stats)==null||lt.time("Overall");const zt=this._transport.getRenderingIntent(kt,mt,Ut);qt(this,a,!1),Xt(this,o,Jr).call(this),Zt||(Zt=this._transport.getOptionalContentConfig());let xt=this._intentStates.get(zt.cacheKey);xt||(xt=Object.create(null),this._intentStates.set(zt.cacheKey,xt)),xt.streamReaderCancelTimeout&&(clearTimeout(xt.streamReaderCancelTimeout),xt.streamReaderCancelTimeout=null);const At=!!(zt.renderingIntent&_util.RenderingIntentFlag.PRINT);xt.displayReadyCapability||(xt.displayReadyCapability=new _util.PromiseCapability,xt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Et=this._stats)==null||Et.time("Page Request"),this._pumpOperatorList(zt));const Lt=Pt=>{var Rt,Nt;xt.renderTasks.delete(St),(this._maybeCleanupAfterRender||At)&&qt(this,a,!0),Xt(this,o,Pr).call(this,!At),Pt?(St.capability.reject(Pt),this._abortOperatorList({intentState:xt,reason:Pt instanceof Error?Pt:new Error(Pt)})):St.capability.resolve(),(Rt=this._stats)==null||Rt.timeEnd("Rendering"),(Nt=this._stats)==null||Nt.timeEnd("Overall")},St=new InternalRenderTask({callback:Lt,params:{canvasContext:ft,viewport:gt,transform:Ct,background:Dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$t,operatorList:xt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!At,pdfBug:this._pdfBug,pageColors:Ht});(xt.renderTasks||(xt.renderTasks=new Set)).add(St);const st=St.task;return Promise.all([xt.displayReadyCapability.promise,Zt]).then(([Pt,Rt])=>{var Nt;if(this.destroyed){Lt();return}(Nt=this._stats)==null||Nt.time("Rendering"),St.initializeGraphics({transparency:Pt,optionalContentConfig:Rt}),St.operatorListChanged()}).catch(Lt),st}getOperatorList({intent:ft="display",annotationMode:gt=_util.AnnotationMode.ENABLE,printAnnotationStorage:kt=null}={}){var $t;function mt(){Dt.operatorList.lastChunk&&(Dt.opListReadCapability.resolve(Dt.operatorList),Dt.renderTasks.delete(Zt))}const Ct=this._transport.getRenderingIntent(ft,gt,kt,!0);let Dt=this._intentStates.get(Ct.cacheKey);Dt||(Dt=Object.create(null),this._intentStates.set(Ct.cacheKey,Dt));let Zt;return Dt.opListReadCapability||(Zt=Object.create(null),Zt.operatorListChanged=mt,Dt.opListReadCapability=new _util.PromiseCapability,(Dt.renderTasks||(Dt.renderTasks=new Set)).add(Zt),Dt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($t=this._stats)==null||$t.time("Page Request"),this._pumpOperatorList(Ct)),Dt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ft=!1,disableNormalization:gt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ft===!0,disableNormalization:gt===!0},{highWaterMark:100,size(mt){return mt.items.length}})}getTextContent(ft={}){if(this._transport._htmlForXfa)return this.getXfa().then(kt=>_xfa_text.XfaText.textContent(kt));const gt=this.streamTextContent(ft);return new Promise(function(kt,mt){function Ct(){Dt.read().then(function({value:$t,done:Ht}){if(Ht){kt(Zt);return}Object.assign(Zt.styles,$t.styles),Zt.items.push(...$t.items),Ct()},mt)}const Dt=gt.getReader(),Zt={items:[],styles:Object.create(null)};Ct()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ft=[];for(const gt of this._intentStates.values())if(this._abortOperatorList({intentState:gt,reason:new Error("Page was destroyed."),force:!0}),!gt.opListReadCapability)for(const kt of gt.renderTasks)ft.push(kt.completed),kt.cancel();return this.objs.clear(),qt(this,a,!1),Xt(this,o,Jr).call(this),Promise.all(ft)}cleanup(ft=!1){qt(this,a,!0);const gt=Xt(this,o,Pr).call(this,!1);return ft&&gt&&this._stats&&(this._stats=new _display_utils.StatTimer),gt}_startRenderPage(ft,gt){var mt,Ct;const kt=this._intentStates.get(gt);kt&&((mt=this._stats)==null||mt.timeEnd("Page Request"),(Ct=kt.displayReadyCapability)==null||Ct.resolve(ft))}_renderPageChunk(ft,gt){for(let kt=0,mt=ft.length;kt<mt;kt++)gt.operatorList.fnArray.push(ft.fnArray[kt]),gt.operatorList.argsArray.push(ft.argsArray[kt]);gt.operatorList.lastChunk=ft.lastChunk,gt.operatorList.separateAnnots=ft.separateAnnots;for(const kt of gt.renderTasks)kt.operatorListChanged();ft.lastChunk&&Xt(this,o,Pr).call(this,!0)}_pumpOperatorList({renderingIntent:ft,cacheKey:gt,annotationStorageSerializable:kt}){const{map:mt,transfers:Ct}=kt,Zt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ft,cacheKey:gt,annotationStorage:mt},Ct).getReader(),$t=this._intentStates.get(gt);$t.streamReader=Zt;const Ht=()=>{Zt.read().then(({value:Ut,done:zt})=>{if(zt){$t.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ut,$t),Ht())},Ut=>{if($t.streamReader=null,!this._transport.destroyed){if($t.operatorList){$t.operatorList.lastChunk=!0;for(const zt of $t.renderTasks)zt.operatorListChanged();Xt(this,o,Pr).call(this,!0)}if($t.displayReadyCapability)$t.displayReadyCapability.reject(Ut);else if($t.opListReadCapability)$t.opListReadCapability.reject(Ut);else throw Ut}})};Ht()}_abortOperatorList({intentState:ft,reason:gt,force:kt=!1}){if(ft.streamReader){if(ft.streamReaderCancelTimeout&&(clearTimeout(ft.streamReaderCancelTimeout),ft.streamReaderCancelTimeout=null),!kt){if(ft.renderTasks.size>0)return;if(gt instanceof _display_utils.RenderingCancelledException){let mt=RENDERING_CANCELLED_TIMEOUT;gt.extraDelay>0&&gt.extraDelay<1e3&&(mt+=gt.extraDelay),ft.streamReaderCancelTimeout=setTimeout(()=>{ft.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ft,reason:gt,force:!0})},mt);return}}if(ft.streamReader.cancel(new _util.AbortException(gt.message)).catch(()=>{}),ft.streamReader=null,!this._transport.destroyed){for(const[mt,Ct]of this._intentStates)if(Ct===ft){this._intentStates.delete(mt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,a=new WeakMap,o=new WeakSet,Pr=function(ft=!1){if(Xt(this,o,Jr).call(this),!$(this,a)||this.destroyed)return!1;if(ft)return qt(this,i,setTimeout(()=>{qt(this,i,null),Xt(this,o,Pr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:gt,operatorList:kt}of this._intentStates.values())if(gt.size>0||!kt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),qt(this,a,!1),!0},Jr=function(){$(this,i)&&(clearTimeout($(this,i)),qt(this,i,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Qt(this,g,new Set);Qt(this,h,Promise.resolve())}postMessage(ft,gt){const kt={data:structuredClone(ft,gt?{transfer:gt}:null)};$(this,h).then(()=>{for(const mt of $(this,g))mt.call(this,kt)})}addEventListener(ft,gt){$(this,g).add(gt)}removeEventListener(ft,gt){$(this,g).delete(gt)}terminate(){$(this,g).clear()}}g=new WeakMap,h=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const dt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;dt&&(PDFWorkerUtil.fallbackWorkerSrc=dt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(dt,ft){let gt;try{if(gt=new URL(dt),!gt.origin||gt.origin==="null")return!1}catch{return!1}const kt=new URL(ft,gt);return gt.origin===kt.origin},PDFWorkerUtil.createCDNWrapper=function(dt){const ft=`importScripts("${dt}");`;return URL.createObjectURL(new Blob([ft]))}}const _PDFWorker=class _PDFWorker{constructor({name:dt=null,port:ft=null,verbosity:gt=(0,_util.getVerbosityLevel)()}={}){var kt;if(this.name=dt,this.destroyed=!1,this.verbosity=gt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ft){if((kt=$(_PDFWorker,_))!=null&&kt.has(ft))throw new Error("Cannot use more than one PDFWorker per port.");($(_PDFWorker,_)||qt(_PDFWorker,_,new WeakMap)).set(ft,this),this._initializeFromPort(ft);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(dt){this._port=dt,this._messageHandler=new _message_handler.MessageHandler("main","worker",dt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:dt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,dt)||(dt=PDFWorkerUtil.createCDNWrapper(new URL(dt,window.location).href));const ft=new Worker(dt),gt=new _message_handler.MessageHandler("main","worker",ft),kt=()=>{ft.removeEventListener("error",mt),gt.destroy(),ft.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},mt=()=>{this._webWorker||kt()};ft.addEventListener("error",mt),gt.on("test",Dt=>{if(ft.removeEventListener("error",mt),this.destroyed){kt();return}Dt?(this._messageHandler=gt,this._port=ft,this._webWorker=ft,this._readyCapability.resolve(),gt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),gt.destroy(),ft.terminate())}),gt.on("ready",Dt=>{if(ft.removeEventListener("error",mt),this.destroyed){kt();return}try{Ct()}catch{this._setupFakeWorker()}});const Ct=()=>{const Dt=new Uint8Array;gt.send("test",Dt,[Dt.buffer])};Ct();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(dt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ft=new LoopbackPort;this._port=ft;const gt=`fake${PDFWorkerUtil.fakeWorkerId++}`,kt=new _message_handler.MessageHandler(gt+"_worker",gt,ft);dt.setup(kt,ft);const mt=new _message_handler.MessageHandler(gt,gt+"_worker",ft);this._messageHandler=mt,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})}).catch(dt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${dt.message}".`))})}destroy(){var dt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(dt=$(_PDFWorker,_))==null||dt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(dt){var gt;if(!(dt!=null&&dt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ft=(gt=$(this,_))==null?void 0:gt.get(dt.port);if(ft){if(ft._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ft}return new _PDFWorker(dt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var dt;try{return((dt=globalThis.pdfjsWorker)==null?void 0:dt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_=new WeakMap,Qt(_PDFWorker,_);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(ft,gt,kt,mt,Ct){Qt(this,it);Qt(this,j,new Map);Qt(this,rt,new Map);Qt(this,_e,new Map);Qt(this,ct,null);this.messageHandler=ft,this.loadingTask=gt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:mt.ownerDocument,styleElement:mt.styleElement}),this._params=mt,this.canvasFactory=Ct.canvasFactory,this.filterFactory=Ct.filterFactory,this.cMapReaderFactory=Ct.cMapReaderFactory,this.standardFontDataFactory=Ct.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=kt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ft,gt=_util.AnnotationMode.ENABLE,kt=null,mt=!1){let Ct=_util.RenderingIntentFlag.DISPLAY,Dt=_annotation_storage.SerializableEmpty;switch(ft){case"any":Ct=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ct=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ft}`)}switch(gt){case _util.AnnotationMode.DISABLE:Ct+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ct+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ct+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Dt=(Ct&_util.RenderingIntentFlag.PRINT&&kt instanceof _annotation_storage.PrintAnnotationStorage?kt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${gt}`)}return mt&&(Ct+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ct,cacheKey:`${Ct}_${Dt.hash}`,annotationStorageSerializable:Dt}}destroy(){var kt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(kt=$(this,ct))==null||kt.reject(new Error("Worker was destroyed during onPassword callback"));const ft=[];for(const mt of $(this,rt).values())ft.push(mt._destroy());$(this,rt).clear(),$(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const gt=this.messageHandler.sendWithPromise("Terminate",null);return ft.push(gt),Promise.all(ft).then(()=>{var mt;this.commonObjs.clear(),this.fontLoader.clear(),$(this,j).clear(),this.filterFactory.destroy(),(mt=this._networkStream)==null||mt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ft,loadingTask:gt}=this;ft.on("GetReader",(kt,mt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ct=>{this._lastProgress={loaded:Ct.loaded,total:Ct.total}},mt.onPull=()=>{this._fullReader.read().then(function({value:Ct,done:Dt}){if(Dt){mt.close();return}(0,_util.assert)(Ct instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{mt.error(Ct)})},mt.onCancel=Ct=>{this._fullReader.cancel(Ct),mt.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),ft.on("ReaderHeadersReady",kt=>{const mt=new _util.PromiseCapability,Ct=this._fullReader;return Ct.headersReady.then(()=>{var Dt;(!Ct.isStreamingSupported||!Ct.isRangeSupported)&&(this._lastProgress&&((Dt=gt.onProgress)==null||Dt.call(gt,this._lastProgress)),Ct.onProgress=Zt=>{var $t;($t=gt.onProgress)==null||$t.call(gt,{loaded:Zt.loaded,total:Zt.total})}),mt.resolve({isStreamingSupported:Ct.isStreamingSupported,isRangeSupported:Ct.isRangeSupported,contentLength:Ct.contentLength})},mt.reject),mt.promise}),ft.on("GetRangeReader",(kt,mt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ct=this._networkStream.getRangeReader(kt.begin,kt.end);if(!Ct){mt.close();return}mt.onPull=()=>{Ct.read().then(function({value:Dt,done:Zt}){if(Zt){mt.close();return}(0,_util.assert)(Dt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(Dt),1,[Dt])}).catch(Dt=>{mt.error(Dt)})},mt.onCancel=Dt=>{Ct.cancel(Dt),mt.ready.catch(Zt=>{if(!this.destroyed)throw Zt})}}),ft.on("GetDoc",({pdfInfo:kt})=>{this._numPages=kt.numPages,this._htmlForXfa=kt.htmlForXfa,delete kt.htmlForXfa,gt._capability.resolve(new PDFDocumentProxy(kt,this))}),ft.on("DocException",function(kt){let mt;switch(kt.name){case"PasswordException":mt=new _util.PasswordException(kt.message,kt.code);break;case"InvalidPDFException":mt=new _util.InvalidPDFException(kt.message);break;case"MissingPDFException":mt=new _util.MissingPDFException(kt.message);break;case"UnexpectedResponseException":mt=new _util.UnexpectedResponseException(kt.message,kt.status);break;case"UnknownErrorException":mt=new _util.UnknownErrorException(kt.message,kt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}gt._capability.reject(mt)}),ft.on("PasswordRequest",kt=>{if(qt(this,ct,new _util.PromiseCapability),gt.onPassword){const mt=Ct=>{Ct instanceof Error?$(this,ct).reject(Ct):$(this,ct).resolve({password:Ct})};try{gt.onPassword(mt,kt.code)}catch(Ct){$(this,ct).reject(Ct)}}else $(this,ct).reject(new _util.PasswordException(kt.message,kt.code));return $(this,ct).promise}),ft.on("DataLoaded",kt=>{var mt;(mt=gt.onProgress)==null||mt.call(gt,{loaded:kt.length,total:kt.length}),this.downloadInfoCapability.resolve(kt)}),ft.on("StartRenderPage",kt=>{if(this.destroyed)return;$(this,rt).get(kt.pageIndex)._startRenderPage(kt.transparency,kt.cacheKey)}),ft.on("commonobj",([kt,mt,Ct])=>{var Dt;if(!this.destroyed&&!this.commonObjs.has(kt))switch(mt){case"Font":const Zt=this._params;if("error"in Ct){const Ut=Ct.error;(0,_util.warn)(`Error during font loading: ${Ut}`),this.commonObjs.resolve(kt,Ut);break}const $t=Zt.pdfBug&&((Dt=globalThis.FontInspector)!=null&&Dt.enabled)?(Ut,zt)=>globalThis.FontInspector.fontAdded(Ut,zt):null,Ht=new _font_loader.FontFaceObject(Ct,{isEvalSupported:Zt.isEvalSupported,disableFontFace:Zt.disableFontFace,ignoreErrors:Zt.ignoreErrors,inspectFont:$t});this.fontLoader.bind(Ht).catch(Ut=>ft.sendWithPromise("FontFallback",{id:kt})).finally(()=>{!Zt.fontExtraProperties&&Ht.data&&(Ht.data=null),this.commonObjs.resolve(kt,Ht)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(kt,Ct);break;default:throw new Error(`Got unknown common object type ${mt}`)}}),ft.on("obj",([kt,mt,Ct,Dt])=>{var $t;if(this.destroyed)return;const Zt=$(this,rt).get(mt);if(!Zt.objs.has(kt))switch(Ct){case"Image":if(Zt.objs.resolve(kt,Dt),Dt){let Ht;if(Dt.bitmap){const{width:Ut,height:zt}=Dt;Ht=Ut*zt*4}else Ht=(($t=Dt.data)==null?void 0:$t.length)||0;Ht>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Zt._maybeCleanupAfterRender=!0)}break;case"Pattern":Zt.objs.resolve(kt,Dt);break;default:throw new Error(`Got unknown object type ${Ct}`)}}),ft.on("DocProgress",kt=>{var mt;this.destroyed||(mt=gt.onProgress)==null||mt.call(gt,{loaded:kt.loaded,total:kt.total})}),ft.on("FetchBuiltInCMap",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(kt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ft.on("FetchStandardFontData",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(kt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var kt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ft,transfers:gt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ft,filename:((kt=this._fullReader)==null?void 0:kt.filename)??null},gt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ft){if(!Number.isInteger(ft)||ft<=0||ft>this._numPages)return Promise.reject(new Error("Invalid page request."));const gt=ft-1,kt=$(this,_e).get(gt);if(kt)return kt;const mt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:gt}).then(Ct=>{if(this.destroyed)throw new Error("Transport destroyed");const Dt=new PDFPageProxy(gt,Ct,this,this._params.pdfBug);return $(this,rt).set(gt,Dt),Dt});return $(this,_e).set(gt,mt),mt}getPageIndex(ft){return typeof ft!="object"||ft===null||!Number.isInteger(ft.num)||ft.num<0||!Number.isInteger(ft.gen)||ft.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ft.num,gen:ft.gen})}getAnnotations(ft,gt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ft,intent:gt})}getFieldObjects(){return Xt(this,it,es).call(this,"GetFieldObjects")}hasJSActions(){return Xt(this,it,es).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ft){return typeof ft!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ft})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Xt(this,it,es).call(this,"GetDocJSActions")}getPageJSActions(ft){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ft})}getStructTree(ft){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ft})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ft=>new _optional_content_config.OptionalContentConfig(ft))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ft="GetMetadata",gt=$(this,j).get(ft);if(gt)return gt;const kt=this.messageHandler.sendWithPromise(ft,null).then(mt=>{var Ct,Dt;return{info:mt[0],metadata:mt[1]?new _metadata.Metadata(mt[1]):null,contentDispositionFilename:((Ct=this._fullReader)==null?void 0:Ct.filename)??null,contentLength:((Dt=this._fullReader)==null?void 0:Dt.contentLength)??null}});return $(this,j).set(ft,kt),kt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ft=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const gt of $(this,rt).values())if(!gt.cleanup())throw new Error(`startCleanup: Page ${gt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ft||this.fontLoader.clear(),$(this,j).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ft,enableXfa:gt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ft,enableXfa:gt})}}j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakSet,es=function(ft,gt=null){const kt=$(this,j).get(ft);if(kt)return kt;const mt=this.messageHandler.sendWithPromise(ft,gt);return $(this,j).set(ft,mt),mt};class PDFObjects{constructor(){Qt(this,et);Qt(this,nt,Object.create(null))}get(ft,gt=null){if(gt){const mt=Xt(this,et,ps).call(this,ft);return mt.capability.promise.then(()=>gt(mt.data)),null}const kt=$(this,nt)[ft];if(!(kt!=null&&kt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ft}.`);return kt.data}has(ft){const gt=$(this,nt)[ft];return(gt==null?void 0:gt.capability.settled)||!1}resolve(ft,gt=null){const kt=Xt(this,et,ps).call(this,ft);kt.data=gt,kt.capability.resolve()}clear(){var ft;for(const gt in $(this,nt)){const{data:kt}=$(this,nt)[gt];(ft=kt==null?void 0:kt.bitmap)==null||ft.close()}qt(this,nt,Object.create(null))}}nt=new WeakMap,et=new WeakSet,ps=function(ft){var gt;return(gt=$(this,nt))[ft]||(gt[ft]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ft){Qt(this,ht,null);qt(this,ht,ft),this.onContinue=null}get promise(){return $(this,ht).capability.promise}cancel(ft=0){$(this,ht).cancel(null,ft)}get separateAnnots(){const{separateAnnots:ft}=$(this,ht).operatorList;if(!ft)return!1;const{annotationCanvasMap:gt}=$(this,ht);return ft.form||ft.canvas&&(gt==null?void 0:gt.size)>0}}ht=new WeakMap,exports$1.RenderTask=RenderTask;const pt=class pt{constructor({callback:ft,params:gt,objs:kt,commonObjs:mt,annotationCanvasMap:Ct,operatorList:Dt,pageIndex:Zt,canvasFactory:$t,filterFactory:Ht,useRequestAnimationFrame:Ut=!1,pdfBug:zt=!1,pageColors:xt=null}){this.callback=ft,this.params=gt,this.objs=kt,this.commonObjs=mt,this.annotationCanvasMap=Ct,this.operatorListIdx=null,this.operatorList=Dt,this._pageIndex=Zt,this.canvasFactory=$t,this.filterFactory=Ht,this._pdfBug=zt,this.pageColors=xt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ut===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=gt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ft=!1,optionalContentConfig:gt}){var Zt,$t;if(this.cancelled)return;if(this._canvas){if($(pt,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");$(pt,ot).add(this._canvas)}this._pdfBug&&((Zt=globalThis.StepperManager)!=null&&Zt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:kt,viewport:mt,transform:Ct,background:Dt}=this.params;this.gfx=new _canvas.CanvasGraphics(kt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:gt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ct,viewport:mt,transparency:ft,background:Dt}),this.operatorListIdx=0,this.graphicsReady=!0,($t=this.graphicsReadyCallback)==null||$t.call(this)}cancel(ft=null,gt=0){var kt;this.running=!1,this.cancelled=!0,(kt=this.gfx)==null||kt.endDrawing(),$(pt,ot).delete(this._canvas),this.callback(ft||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,gt))}operatorListChanged(){var ft;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ft=this.stepper)==null||ft.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),$(pt,ot).delete(this._canvas),this.callback())))}};ot=new WeakMap,Qt(pt,ot,new WeakSet);let InternalRenderTask=pt;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(e,s,i)=>{var b,_,j,_a,_e;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=i(1),o=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class g{constructor(){Qt(this,j);Qt(this,b,!1);Qt(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,ut){const nt=$(this,_).get(it);return nt===void 0?ut:Object.assign(ut,nt)}getRawValue(it){return $(this,_).get(it)}remove(it){if($(this,_).delete(it),$(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ut of $(this,_).values())if(ut instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,ut){const nt=$(this,_).get(it);let et=!1;if(nt!==void 0)for(const[at,ht]of Object.entries(ut))nt[at]!==ht&&(et=!0,nt[at]=ht);else et=!0,$(this,_).set(it,ut);et&&Xt(this,j,_a).call(this),ut instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ut.constructor._type)}has(it){return $(this,_).has(it)}getAll(){return $(this,_).size>0?(0,a.objectFromMap)($(this,_)):null}setAll(it){for(const[ut,nt]of Object.entries(it))this.setValue(ut,nt)}get size(){return $(this,_).size}resetModified(){$(this,b)&&(qt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if($(this,_).size===0)return d;const it=new Map,ut=new c.MurmurHash3_64,nt=[],et=Object.create(null);let at=!1;for(const[ht,ot]of $(this,_)){const pt=ot instanceof o.AnnotationEditor?ot.serialize(!1,et):ot;pt&&(it.set(ht,pt),ut.update(`${ht}:${JSON.stringify(pt)}`),at||(at=!!pt.bitmap))}if(at)for(const ht of it.values())ht.bitmap&&nt.push(ht.bitmap);return it.size>0?{map:it,hash:ut.hexdigest(),transfers:nt}:d}}b=new WeakMap,_=new WeakMap,j=new WeakSet,_a=function(){$(this,b)||(qt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=g;class h extends g{constructor(ut){super();Qt(this,_e);const{map:nt,hash:et,transfers:at}=ut.serializable,ht=structuredClone(nt,at?{transfer:at}:null);qt(this,_e,{map:ht,hash:et,transfers:at})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return $(this,_e)}}_e=new WeakMap,s.PrintAnnotationStorage=h},(e,s,i)=>{var h,b,_,j,rt,_e,ct,it,ut,nt,et,at,ht,ot,pt,ms,gs,gt,ys,vs,$a,eo,to,xs,no;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=i(5),o=i(1),c=i(6);const Ut=class Ut{constructor(xt){Qt(this,pt);Qt(this,h,"");Qt(this,b,!1);Qt(this,_,null);Qt(this,j,null);Qt(this,rt,null);Qt(this,_e,!1);Qt(this,ct,null);Qt(this,it,this.focusin.bind(this));Qt(this,ut,this.focusout.bind(this));Qt(this,nt,!1);Qt(this,et,!1);Qt(this,at,!1);Qn(this,"_initialOptions",Object.create(null));Qn(this,"_uiManager",null);Qn(this,"_focusEventsAllowed",!0);Qn(this,"_l10nPromise",null);Qt(this,ht,!1);Qt(this,ot,Ut._zIndex++);this.constructor===Ut&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xt.parent,this.id=xt.id,this.width=this.height=null,this.pageIndex=xt.parent.pageIndex,this.name=xt.name,this.div=null,this._uiManager=xt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xt.isCentered,this._structTreeParentId=null;const{rotation:At,rawDims:{pageWidth:Lt,pageHeight:St,pageX:st,pageY:lt}}=this.parent.viewport;this.rotation=At,this.pageRotation=(360+At-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Lt,St],this.pageTranslation=[st,lt];const[Et,Pt]=this.parentDimensions;this.x=xt.x/Et,this.y=xt.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xt){const At=new g({id:xt.parent.getNextId(),parent:xt.parent,uiManager:xt._uiManager});At.annotationElementId=xt.annotationElementId,At.deleted=!0,At._uiManager.addToAnnotationStorage(At)}static initialize(xt,At=null){if(Ut._l10nPromise||(Ut._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(St=>[St,xt.get(St)]))),At!=null&&At.strings)for(const St of At.strings)Ut._l10nPromise.set(St,xt.get(St));if(Ut._borderLineWidth!==-1)return;const Lt=getComputedStyle(document.documentElement);Ut._borderLineWidth=parseFloat(Lt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xt,At){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xt){return!1}static paste(xt,At){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return $(this,ht)}set _isDraggable(xt){var At;qt(this,ht,xt),(At=this.div)==null||At.classList.toggle("draggable",xt)}center(){const[xt,At]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*At/(xt*2),this.y+=this.width*xt/(At*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*At/(xt*2),this.y-=this.width*xt/(At*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xt){this._uiManager.addCommands(xt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=$(this,ot)}setParent(xt){xt!==null&&(this.pageIndex=xt.pageIndex,this.pageDimensions=xt.pageDimensions),this.parent=xt}focusin(xt){this._focusEventsAllowed&&($(this,nt)?qt(this,nt,!1):this.parent.setSelected(this))}focusout(xt){var Lt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const At=xt.relatedTarget;At!=null&&At.closest(`#${this.id}`)||(xt.preventDefault(),(Lt=this.parent)!=null&&Lt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xt,At,Lt,St){const[st,lt]=this.parentDimensions;[Lt,St]=this.screenToPageTranslation(Lt,St),this.x=(xt+Lt)/st,this.y=(At+St)/lt,this.fixAndSetPosition()}translate(xt,At){Xt(this,pt,ms).call(this,this.parentDimensions,xt,At)}translateInPage(xt,At){Xt(this,pt,ms).call(this,this.pageDimensions,xt,At),this.div.scrollIntoView({block:"nearest"})}drag(xt,At){const[Lt,St]=this.parentDimensions;if(this.x+=xt/Lt,this.y+=At/St,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Rt,y:Nt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Rt,Nt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:st,y:lt}=this;const[Et,Pt]=Xt(this,pt,gs).call(this);st+=Et,lt+=Pt,this.div.style.left=`${(100*st).toFixed(2)}%`,this.div.style.top=`${(100*lt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[xt,At]=this.pageDimensions;let{x:Lt,y:St,width:st,height:lt}=this;switch(st*=xt,lt*=At,Lt*=xt,St*=At,this.rotation){case 0:Lt=Math.max(0,Math.min(xt-st,Lt)),St=Math.max(0,Math.min(At-lt,St));break;case 90:Lt=Math.max(0,Math.min(xt-lt,Lt)),St=Math.min(At,Math.max(st,St));break;case 180:Lt=Math.min(xt,Math.max(st,Lt)),St=Math.min(At,Math.max(lt,St));break;case 270:Lt=Math.min(xt,Math.max(lt,Lt)),St=Math.max(0,Math.min(At-st,St));break}this.x=Lt/=xt,this.y=St/=At;const[Et,Pt]=Xt(this,pt,gs).call(this);Lt+=Et,St+=Pt;const{style:Rt}=this.div;Rt.left=`${(100*Lt).toFixed(2)}%`,Rt.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(xt,At){var Lt;return Xt(Lt=Ut,gt,ys).call(Lt,xt,At,this.parentRotation)}pageTranslationToScreen(xt,At){var Lt;return Xt(Lt=Ut,gt,ys).call(Lt,xt,At,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xt,pageDimensions:[At,Lt]}=this,St=At*xt,st=Lt*xt;return o.FeatureTest.isCSSRoundSupported?[Math.round(St),Math.round(st)]:[St,st]}setDims(xt,At){var st;const[Lt,St]=this.parentDimensions;this.div.style.width=`${(100*xt/Lt).toFixed(2)}%`,$(this,_e)||(this.div.style.height=`${(100*At/St).toFixed(2)}%`),(st=$(this,_))==null||st.classList.toggle("small",xt<Ut.SMALL_EDITOR_SIZE||At<Ut.SMALL_EDITOR_SIZE)}fixDims(){const{style:xt}=this.div,{height:At,width:Lt}=xt,St=Lt.endsWith("%"),st=!$(this,_e)&&At.endsWith("%");if(St&&st)return;const[lt,Et]=this.parentDimensions;St||(xt.width=`${(100*parseFloat(Lt)/lt).toFixed(2)}%`),!$(this,_e)&&!st&&(xt.height=`${(100*parseFloat(At)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if($(this,_))return;const xt=qt(this,_,document.createElement("button"));xt.className="altText";const At=await Ut._l10nPromise.get("editor_alt_text_button_label");xt.textContent=At,xt.setAttribute("aria-label",At),xt.tabIndex="0",xt.addEventListener("contextmenu",c.noContextMenu),xt.addEventListener("pointerdown",Lt=>Lt.stopPropagation()),xt.addEventListener("click",Lt=>{Lt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xt.addEventListener("keydown",Lt=>{Lt.target===xt&&Lt.key==="Enter"&&(Lt.preventDefault(),this._uiManager.editAltText(this))}),Xt(this,pt,xs).call(this),this.div.append(xt),Ut.SMALL_EDITOR_SIZE||(Ut.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:$(this,h),decorative:$(this,b)}}set altTextData({altText:xt,decorative:At}){$(this,h)===xt&&$(this,b)===At||(qt(this,h,xt),qt(this,b,At),Xt(this,pt,xs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",$(this,it)),this.div.addEventListener("focusout",$(this,ut));const[xt,At]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*At/xt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xt/At).toFixed(2)}%`);const[Lt,St]=this.getInitialTranslation();return this.translate(Lt,St),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xt){const{isMac:At}=o.FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&At){xt.preventDefault();return}qt(this,nt,!0),Xt(this,pt,no).call(this,xt)}moveInDOM(){var xt;(xt=this.parent)==null||xt.moveEditorInDOM(this)}_setParentAndPosition(xt,At,Lt){xt.changeParent(this),this.x=At,this.y=Lt,this.fixAndSetPosition()}getRect(xt,At){const Lt=this.parentScale,[St,st]=this.pageDimensions,[lt,Et]=this.pageTranslation,Pt=xt/Lt,Rt=At/Lt,Nt=this.x*St,Kt=this.y*st,nn=this.width*St,un=this.height*st;switch(this.rotation){case 0:return[Nt+Pt+lt,st-Kt-Rt-un+Et,Nt+Pt+nn+lt,st-Kt-Rt+Et];case 90:return[Nt+Rt+lt,st-Kt+Pt+Et,Nt+Rt+un+lt,st-Kt+Pt+nn+Et];case 180:return[Nt-Pt-nn+lt,st-Kt+Rt+Et,Nt-Pt+lt,st-Kt+Rt+un+Et];case 270:return[Nt-Rt-un+lt,st-Kt-Pt-nn+Et,Nt-Rt+lt,st-Kt-Pt+Et];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xt,At){const[Lt,St,st,lt]=xt,Et=st-Lt,Pt=lt-St;switch(this.rotation){case 0:return[Lt,At-lt,Et,Pt];case 90:return[Lt,At-St,Pt,Et];case 180:return[st,At-St,Et,Pt];case 270:return[st,At-lt,Pt,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qt(this,at,!0)}disableEditMode(){qt(this,at,!1)}isInEditMode(){return $(this,at)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var xt,At;(xt=this.div)==null||xt.addEventListener("focusin",$(this,it)),(At=this.div)==null||At.addEventListener("focusout",$(this,ut))}serialize(xt=!1,At=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(xt,At,Lt){const St=new this.prototype.constructor({parent:At,id:At.getNextId(),uiManager:Lt});St.rotation=xt.rotation;const[st,lt]=St.pageDimensions,[Et,Pt,Rt,Nt]=St.getRectInCurrentCoords(xt.rect,lt);return St.x=Et/st,St.y=Pt/lt,St.width=Rt/st,St.height=Nt/lt,St}remove(){var xt;this.div.removeEventListener("focusin",$(this,it)),this.div.removeEventListener("focusout",$(this,ut)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(xt=$(this,_))==null||xt.remove(),qt(this,_,null),qt(this,j,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Xt(this,pt,$a).call(this),$(this,ct).classList.remove("hidden"))}select(){var xt;this.makeResizable(),(xt=this.div)==null||xt.classList.add("selectedEditor")}unselect(){var xt,At,Lt;(xt=$(this,ct))==null||xt.classList.add("hidden"),(At=this.div)==null||At.classList.remove("selectedEditor"),(Lt=this.div)!=null&&Lt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xt,At){}disableEditing(){$(this,_)&&($(this,_).hidden=!0)}enableEditing(){$(this,_)&&($(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return $(this,et)}set isEditing(xt){qt(this,et,xt),this.parent&&(xt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xt,At){qt(this,_e,!0);const Lt=xt/At,{style:St}=this.div;St.aspectRatio=Lt,St.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakMap,et=new WeakMap,at=new WeakMap,ht=new WeakMap,ot=new WeakMap,pt=new WeakSet,ms=function([xt,At],Lt,St){[Lt,St]=this.screenToPageTranslation(Lt,St),this.x+=Lt/xt,this.y+=St/At,this.fixAndSetPosition()},gs=function(){const[xt,At]=this.parentDimensions,{_borderLineWidth:Lt}=Ut,St=Lt/xt,st=Lt/At;switch(this.rotation){case 90:return[-St,st];case 180:return[St,st];case 270:return[St,-st];default:return[-St,-st]}},gt=new WeakSet,ys=function(xt,At,Lt){switch(Lt){case 90:return[At,-xt];case 180:return[-xt,-At];case 270:return[-At,xt];default:return[xt,At]}},vs=function(xt){switch(xt){case 90:{const[At,Lt]=this.pageDimensions;return[0,-At/Lt,Lt/At,0]}case 180:return[-1,0,0,-1];case 270:{const[At,Lt]=this.pageDimensions;return[0,At/Lt,-Lt/At,0]}default:return[1,0,0,1]}},$a=function(){if($(this,ct))return;qt(this,ct,document.createElement("div")),$(this,ct).classList.add("resizers");const xt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const At of xt){const Lt=document.createElement("div");$(this,ct).append(Lt),Lt.classList.add("resizer",At),Lt.addEventListener("pointerdown",Xt(this,pt,eo).bind(this,At)),Lt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend($(this,ct))},eo=function(xt,At){At.preventDefault();const{isMac:Lt}=o.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&Lt)return;const St=Xt(this,pt,to).bind(this,xt),st=this._isDraggable;this._isDraggable=!1;const lt={passive:!0,capture:!0};window.addEventListener("pointermove",St,lt);const Et=this.x,Pt=this.y,Rt=this.width,Nt=this.height,Kt=this.parent.div.style.cursor,nn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(At.target).cursor;const un=()=>{this._isDraggable=st,window.removeEventListener("pointerup",un),window.removeEventListener("blur",un),window.removeEventListener("pointermove",St,lt),this.parent.div.style.cursor=Kt,this.div.style.cursor=nn;const fn=this.x,yn=this.y,wn=this.width,xn=this.height;fn===Et&&yn===Pt&&wn===Rt&&xn===Nt||this.addCommands({cmd:()=>{this.width=wn,this.height=xn,this.x=fn,this.y=yn;const[rn,on]=this.parentDimensions;this.setDims(rn*wn,on*xn),this.fixAndSetPosition()},undo:()=>{this.width=Rt,this.height=Nt,this.x=Et,this.y=Pt;const[rn,on]=this.parentDimensions;this.setDims(rn*Rt,on*Nt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",un),window.addEventListener("blur",un)},to=function(xt,At){const[Lt,St]=this.parentDimensions,st=this.x,lt=this.y,Et=this.width,Pt=this.height,Rt=Ut.MIN_SIZE/Lt,Nt=Ut.MIN_SIZE/St,Kt=Dn=>Math.round(Dn*1e4)/1e4,nn=Xt(this,pt,vs).call(this,this.rotation),un=(Dn,On)=>[nn[0]*Dn+nn[2]*On,nn[1]*Dn+nn[3]*On],fn=Xt(this,pt,vs).call(this,360-this.rotation),yn=(Dn,On)=>[fn[0]*Dn+fn[2]*On,fn[1]*Dn+fn[3]*On];let wn,xn,rn=!1,on=!1;switch(xt){case"topLeft":rn=!0,wn=(Dn,On)=>[0,0],xn=(Dn,On)=>[Dn,On];break;case"topMiddle":wn=(Dn,On)=>[Dn/2,0],xn=(Dn,On)=>[Dn/2,On];break;case"topRight":rn=!0,wn=(Dn,On)=>[Dn,0],xn=(Dn,On)=>[0,On];break;case"middleRight":on=!0,wn=(Dn,On)=>[Dn,On/2],xn=(Dn,On)=>[0,On/2];break;case"bottomRight":rn=!0,wn=(Dn,On)=>[Dn,On],xn=(Dn,On)=>[0,0];break;case"bottomMiddle":wn=(Dn,On)=>[Dn/2,On],xn=(Dn,On)=>[Dn/2,0];break;case"bottomLeft":rn=!0,wn=(Dn,On)=>[0,On],xn=(Dn,On)=>[Dn,0];break;case"middleLeft":on=!0,wn=(Dn,On)=>[0,On/2],xn=(Dn,On)=>[Dn,On/2];break}const Tt=wn(Et,Pt),Vt=xn(Et,Pt);let Jt=un(...Vt);const sn=Kt(st+Jt[0]),pn=Kt(lt+Jt[1]);let vn=1,bn=1,[en,kn]=this.screenToPageTranslation(At.movementX,At.movementY);if([en,kn]=yn(en/Lt,kn/St),rn){const Dn=Math.hypot(Et,Pt);vn=bn=Math.max(Math.min(Math.hypot(Vt[0]-Tt[0]-en,Vt[1]-Tt[1]-kn)/Dn,1/Et,1/Pt),Rt/Et,Nt/Pt)}else on?vn=Math.max(Rt,Math.min(1,Math.abs(Vt[0]-Tt[0]-en)))/Et:bn=Math.max(Nt,Math.min(1,Math.abs(Vt[1]-Tt[1]-kn)))/Pt;const Cn=Kt(Et*vn),Un=Kt(Pt*bn);Jt=un(...xn(Cn,Un));const Vn=sn-Jt[0],$n=pn-Jt[1];this.width=Cn,this.height=Un,this.x=Vn,this.y=$n,this.setDims(Lt*Cn,St*Un),this.fixAndSetPosition()},xs=async function(){var Lt;const xt=$(this,_);if(!xt)return;if(!$(this,h)&&!$(this,b)){xt.classList.remove("done"),(Lt=$(this,j))==null||Lt.remove();return}Ut._l10nPromise.get("editor_alt_text_edit_button_label").then(St=>{xt.setAttribute("aria-label",St)});let At=$(this,j);if(!At){qt(this,j,At=document.createElement("span")),At.className="tooltip",At.setAttribute("role","tooltip");const St=At.id=`alt-text-tooltip-${this.id}`;xt.setAttribute("aria-describedby",St);const st=100;xt.addEventListener("mouseenter",()=>{qt(this,rt,setTimeout(()=>{qt(this,rt,null),$(this,j).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},st))}),xt.addEventListener("mouseleave",()=>{var lt;clearTimeout($(this,rt)),qt(this,rt,null),(lt=$(this,j))==null||lt.classList.remove("show")})}xt.classList.add("done"),At.innerText=$(this,b)?await Ut._l10nPromise.get("editor_alt_text_decorative_tooltip"):$(this,h),At.parentNode||xt.append(At)},no=function(xt){if(!this._isDraggable)return;const At=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Lt,St;At&&(Lt={passive:!0,capture:!0},St=lt=>{const[Et,Pt]=this.screenToPageTranslation(lt.movementX,lt.movementY);this._uiManager.dragSelectedEditors(Et,Pt)},window.addEventListener("pointermove",St,Lt));const st=()=>{if(window.removeEventListener("pointerup",st),window.removeEventListener("blur",st),At&&window.removeEventListener("pointermove",St,Lt),qt(this,nt,!1),!this._uiManager.endDragSession()){const{isMac:lt}=o.FeatureTest.platform;xt.ctrlKey&&!lt||xt.shiftKey||xt.metaKey&&lt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",st),window.addEventListener("blur",st)},Qt(Ut,gt),Qn(Ut,"_borderLineWidth",-1),Qn(Ut,"_colorManager",new a.ColorManager),Qn(Ut,"_zIndex",1),Qn(Ut,"SMALL_EDITOR_SIZE",0);let d=Ut;s.AnnotationEditor=d;class g extends d{constructor(xt){super(xt),this.annotationElementId=xt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var _e,ct,it,ut,nt,bs,ht,ot,pt,dt,ft,ro,mt,Ct,Dt,Zt,$t,Ht,Ut,zt,xt,At,Lt,St,st,lt,Et,Pt,Rt,Nt,Kt,nn,un,fn,yn,wn,xn,rn,on,Tt,Vt,Jt,sn,pn,vn,bn,en,so,Es,ws,ts,Ss,As,rr,$r,io,ao,_s,Wr,Cs;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var a=i(1),o=i(6);function c(Wn,Bt,mn){for(const An of mn)Bt.addEventListener(An,Wn[An].bind(Wn))}function d(Wn){return Math.round(Math.min(255,Math.max(1,255*Wn))).toString(16).padStart(2,"0")}class g{constructor(){Qt(this,_e,0)}getId(){return`${a.AnnotationEditorPrefix}${pr(this,_e)._++}`}}_e=new WeakMap;const at=class at{constructor(){Qt(this,nt);Qt(this,ct,(0,a.getUuid)());Qt(this,it,0);Qt(this,ut,null)}static get _isSVGFittingCanvas(){const Bt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',An=new OffscreenCanvas(1,3).getContext("2d"),Fn=new Image;Fn.src=Bt;const _n=Fn.decode().then(()=>(An.drawImage(Fn,0,0,1,1,0,0,1,3),new Uint32Array(An.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",_n)}async getFromFile(Bt){const{lastModified:mn,name:An,size:Fn,type:_n}=Bt;return Xt(this,nt,bs).call(this,`${mn}_${An}_${Fn}_${_n}`,Bt)}async getFromUrl(Bt){return Xt(this,nt,bs).call(this,Bt,Bt)}async getFromId(Bt){$(this,ut)||qt(this,ut,new Map);const mn=$(this,ut).get(Bt);return mn?mn.bitmap?(mn.refCounter+=1,mn):mn.file?this.getFromFile(mn.file):this.getFromUrl(mn.url):null}getSvgUrl(Bt){const mn=$(this,ut).get(Bt);return mn!=null&&mn.isSvg?mn.svgUrl:null}deleteId(Bt){$(this,ut)||qt(this,ut,new Map);const mn=$(this,ut).get(Bt);mn&&(mn.refCounter-=1,mn.refCounter===0&&(mn.bitmap=null))}isValidId(Bt){return Bt.startsWith(`image_${$(this,ct)}_`)}};ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakSet,bs=async function(Bt,mn){$(this,ut)||qt(this,ut,new Map);let An=$(this,ut).get(Bt);if(An===null)return null;if(An!=null&&An.bitmap)return An.refCounter+=1,An;try{An||(An={bitmap:null,id:`image_${$(this,ct)}_${pr(this,it)._++}`,refCounter:0,isSvg:!1});let Fn;if(typeof mn=="string"){An.url=mn;const _n=await fetch(mn);if(!_n.ok)throw new Error(_n.statusText);Fn=await _n.blob()}else Fn=An.file=mn;if(Fn.type==="image/svg+xml"){const _n=at._isSVGFittingCanvas,Tn=new FileReader,It=new Image,Mt=new Promise((Gt,dn)=>{It.onload=()=>{An.bitmap=It,An.isSvg=!0,Gt()},Tn.onload=async()=>{const hn=An.svgUrl=Tn.result;It.src=await _n?`${hn}#svgView(preserveAspectRatio(none))`:hn},It.onerror=Tn.onerror=dn});Tn.readAsDataURL(Fn),await Mt}else An.bitmap=await createImageBitmap(Fn);An.refCounter=1}catch(Fn){console.error(Fn),An=null}return $(this,ut).set(Bt,An),An&&$(this,ut).set(An.id,An),An};let h=at;class b{constructor(Bt=128){Qt(this,ht,[]);Qt(this,ot,!1);Qt(this,pt);Qt(this,dt,-1);qt(this,pt,Bt)}add({cmd:Bt,undo:mn,mustExec:An,type:Fn=NaN,overwriteIfSameType:_n=!1,keepUndo:Tn=!1}){if(An&&Bt(),$(this,ot))return;const It={cmd:Bt,undo:mn,type:Fn};if($(this,dt)===-1){$(this,ht).length>0&&($(this,ht).length=0),qt(this,dt,0),$(this,ht).push(It);return}if(_n&&$(this,ht)[$(this,dt)].type===Fn){Tn&&(It.undo=$(this,ht)[$(this,dt)].undo),$(this,ht)[$(this,dt)]=It;return}const Mt=$(this,dt)+1;Mt===$(this,pt)?$(this,ht).splice(0,1):(qt(this,dt,Mt),Mt<$(this,ht).length&&$(this,ht).splice(Mt)),$(this,ht).push(It)}undo(){$(this,dt)!==-1&&(qt(this,ot,!0),$(this,ht)[$(this,dt)].undo(),qt(this,ot,!1),qt(this,dt,$(this,dt)-1))}redo(){$(this,dt)<$(this,ht).length-1&&(qt(this,dt,$(this,dt)+1),qt(this,ot,!0),$(this,ht)[$(this,dt)].cmd(),qt(this,ot,!1))}hasSomethingToUndo(){return $(this,dt)!==-1}hasSomethingToRedo(){return $(this,dt)<$(this,ht).length-1}destroy(){qt(this,ht,null)}}ht=new WeakMap,ot=new WeakMap,pt=new WeakMap,dt=new WeakMap,s.CommandManager=b;class _{constructor(Bt){Qt(this,ft);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:mn}=a.FeatureTest.platform;for(const[An,Fn,_n={}]of Bt)for(const Tn of An){const It=Tn.startsWith("mac+");mn&&It?(this.callbacks.set(Tn.slice(4),{callback:Fn,options:_n}),this.allKeys.add(Tn.split("+").at(-1))):!mn&&!It&&(this.callbacks.set(Tn,{callback:Fn,options:_n}),this.allKeys.add(Tn.split("+").at(-1)))}}exec(Bt,mn){if(!this.allKeys.has(mn.key))return;const An=this.callbacks.get(Xt(this,ft,ro).call(this,mn));if(!An)return;const{callback:Fn,options:{bubbles:_n=!1,args:Tn=[],checker:It=null}}=An;It&&!It(Bt,mn)||(Fn.bind(Bt,...Tn)(),_n||(mn.stopPropagation(),mn.preventDefault()))}}ft=new WeakSet,ro=function(Bt){Bt.altKey&&this.buffer.push("alt"),Bt.ctrlKey&&this.buffer.push("ctrl"),Bt.metaKey&&this.buffer.push("meta"),Bt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bt.key);const mn=this.buffer.join("+");return this.buffer.length=0,mn},s.KeyboardManager=_;const kt=class kt{get _colors(){const Bt=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Bt),(0,a.shadow)(this,"_colors",Bt)}convert(Bt){const mn=(0,o.getRGB)(Bt);if(!window.matchMedia("(forced-colors: active)").matches)return mn;for(const[An,Fn]of this._colors)if(Fn.every((_n,Tn)=>_n===mn[Tn]))return kt._colorsMapping.get(An);return mn}getHexCode(Bt){const mn=this._colors.get(Bt);return mn?a.Util.makeHexColor(...mn):Bt}};Qn(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let j=kt;s.ColorManager=j;const Gn=class Gn{constructor(Bt,mn,An,Fn,_n,Tn){Qt(this,en);Qt(this,mt,null);Qt(this,Ct,new Map);Qt(this,Dt,new Map);Qt(this,Zt,null);Qt(this,$t,null);Qt(this,Ht,new b);Qt(this,Ut,0);Qt(this,zt,new Set);Qt(this,xt,null);Qt(this,At,null);Qt(this,Lt,new Set);Qt(this,St,null);Qt(this,st,new g);Qt(this,lt,!1);Qt(this,Et,!1);Qt(this,Pt,null);Qt(this,Rt,a.AnnotationEditorType.NONE);Qt(this,Nt,new Set);Qt(this,Kt,null);Qt(this,nn,this.blur.bind(this));Qt(this,un,this.focus.bind(this));Qt(this,fn,this.copy.bind(this));Qt(this,yn,this.cut.bind(this));Qt(this,wn,this.paste.bind(this));Qt(this,xn,this.keydown.bind(this));Qt(this,rn,this.onEditingAction.bind(this));Qt(this,on,this.onPageChanging.bind(this));Qt(this,Tt,this.onScaleChanging.bind(this));Qt(this,Vt,this.onRotationChanging.bind(this));Qt(this,Jt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Qt(this,sn,[0,0]);Qt(this,pn,null);Qt(this,vn,null);Qt(this,bn,null);qt(this,vn,Bt),qt(this,bn,mn),qt(this,Zt,An),this._eventBus=Fn,this._eventBus._on("editingaction",$(this,rn)),this._eventBus._on("pagechanging",$(this,on)),this._eventBus._on("scalechanging",$(this,Tt)),this._eventBus._on("rotationchanging",$(this,Vt)),qt(this,$t,_n.annotationStorage),qt(this,St,_n.filterFactory),qt(this,Kt,Tn),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bt=Gn.prototype,mn=_n=>{const{activeElement:Tn}=document;return Tn&&$(_n,vn).contains(Tn)&&_n.hasSomethingToControl()},An=this.TRANSLATE_SMALL,Fn=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Bt.selectAll],[["ctrl+z","mac+meta+z"],Bt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bt.delete],[["Escape","mac+Escape"],Bt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bt.translateSelectedEditors,{args:[-An,0],checker:mn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt.translateSelectedEditors,{args:[-Fn,0],checker:mn}],[["ArrowRight","mac+ArrowRight"],Bt.translateSelectedEditors,{args:[An,0],checker:mn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt.translateSelectedEditors,{args:[Fn,0],checker:mn}],[["ArrowUp","mac+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-An],checker:mn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-Fn],checker:mn}],[["ArrowDown","mac+ArrowDown"],Bt.translateSelectedEditors,{args:[0,An],checker:mn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt.translateSelectedEditors,{args:[0,Fn],checker:mn}]]))}destroy(){Xt(this,en,ts).call(this),Xt(this,en,Es).call(this),this._eventBus._off("editingaction",$(this,rn)),this._eventBus._off("pagechanging",$(this,on)),this._eventBus._off("scalechanging",$(this,Tt)),this._eventBus._off("rotationchanging",$(this,Vt));for(const Bt of $(this,Dt).values())Bt.destroy();$(this,Dt).clear(),$(this,Ct).clear(),$(this,Lt).clear(),qt(this,mt,null),$(this,Nt).clear(),$(this,Ht).destroy(),$(this,Zt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",$(this,Kt)?$(this,St).addHCMFilter($(this,Kt).foreground,$(this,Kt).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle($(this,vn)).direction)}editAltText(Bt){var mn;(mn=$(this,Zt))==null||mn.editAltText(this,Bt)}onPageChanging({pageNumber:Bt}){qt(this,Ut,Bt-1)}focusMainContainer(){$(this,vn).focus()}findParent(Bt,mn){for(const An of $(this,Dt).values()){const{x:Fn,y:_n,width:Tn,height:It}=An.div.getBoundingClientRect();if(Bt>=Fn&&Bt<=Fn+Tn&&mn>=_n&&mn<=_n+It)return An}return null}disableUserSelect(Bt=!1){$(this,bn).classList.toggle("noUserSelect",Bt)}addShouldRescale(Bt){$(this,Lt).add(Bt)}removeShouldRescale(Bt){$(this,Lt).delete(Bt)}onScaleChanging({scale:Bt}){this.commitOrRemove(),this.viewParameters.realScale=Bt*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const mn of $(this,Lt))mn.onScaleChanging()}onRotationChanging({pagesRotation:Bt}){this.commitOrRemove(),this.viewParameters.rotation=Bt}addToAnnotationStorage(Bt){!Bt.isEmpty()&&$(this,$t)&&!$(this,$t).has(Bt.id)&&$(this,$t).setValue(Bt.id,Bt)}blur(){if(!this.hasSelection)return;const{activeElement:Bt}=document;for(const mn of $(this,Nt))if(mn.div.contains(Bt)){qt(this,Pt,[mn,Bt]),mn._focusEventsAllowed=!1;break}}focus(){if(!$(this,Pt))return;const[Bt,mn]=$(this,Pt);qt(this,Pt,null),mn.addEventListener("focusin",()=>{Bt._focusEventsAllowed=!0},{once:!0}),mn.focus()}addEditListeners(){Xt(this,en,ws).call(this),Xt(this,en,Ss).call(this)}removeEditListeners(){Xt(this,en,ts).call(this),Xt(this,en,As).call(this)}copy(Bt){var An;if(Bt.preventDefault(),(An=$(this,mt))==null||An.commitOrRemove(),!this.hasSelection)return;const mn=[];for(const Fn of $(this,Nt)){const _n=Fn.serialize(!0);_n&&mn.push(_n)}mn.length!==0&&Bt.clipboardData.setData("application/pdfjs",JSON.stringify(mn))}cut(Bt){this.copy(Bt),this.delete()}paste(Bt){Bt.preventDefault();const{clipboardData:mn}=Bt;for(const _n of mn.items)for(const Tn of $(this,At))if(Tn.isHandlingMimeForPasting(_n.type)){Tn.paste(_n,this.currentLayer);return}let An=mn.getData("application/pdfjs");if(!An)return;try{An=JSON.parse(An)}catch(_n){(0,a.warn)(`paste: "${_n.message}".`);return}if(!Array.isArray(An))return;this.unselectAll();const Fn=this.currentLayer;try{const _n=[];for(const Mt of An){const Gt=Fn.deserialize(Mt);if(!Gt)return;_n.push(Gt)}const Tn=()=>{for(const Mt of _n)Xt(this,en,_s).call(this,Mt);Xt(this,en,Cs).call(this,_n)},It=()=>{for(const Mt of _n)Mt.remove()};this.addCommands({cmd:Tn,undo:It,mustExec:!0})}catch(_n){(0,a.warn)(`paste: "${_n.message}".`)}}keydown(Bt){var mn;(mn=this.getActive())!=null&&mn.shouldGetKeyboardEvents()||Gn._keyboardManager.exec(this,Bt)}onEditingAction(Bt){["undo","redo","delete","selectAll"].includes(Bt.name)&&this[Bt.name]()}setEditingState(Bt){Bt?(Xt(this,en,so).call(this),Xt(this,en,ws).call(this),Xt(this,en,Ss).call(this),Xt(this,en,rr).call(this,{isEditing:$(this,Rt)!==a.AnnotationEditorType.NONE,isEmpty:Xt(this,en,Wr).call(this),hasSomethingToUndo:$(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:$(this,Ht).hasSomethingToRedo(),hasSelectedEditor:!1})):(Xt(this,en,Es).call(this),Xt(this,en,ts).call(this),Xt(this,en,As).call(this),Xt(this,en,rr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bt){if(!$(this,At)){qt(this,At,Bt);for(const mn of $(this,At))Xt(this,en,$r).call(this,mn.defaultPropertiesToUpdate)}}getId(){return $(this,st).getId()}get currentLayer(){return $(this,Dt).get($(this,Ut))}getLayer(Bt){return $(this,Dt).get(Bt)}get currentPageIndex(){return $(this,Ut)}addLayer(Bt){$(this,Dt).set(Bt.pageIndex,Bt),$(this,lt)?Bt.enable():Bt.disable()}removeLayer(Bt){$(this,Dt).delete(Bt.pageIndex)}updateMode(Bt,mn=null){if($(this,Rt)!==Bt){if(qt(this,Rt,Bt),Bt===a.AnnotationEditorType.NONE){this.setEditingState(!1),Xt(this,en,ao).call(this);return}this.setEditingState(!0),Xt(this,en,io).call(this),this.unselectAll();for(const An of $(this,Dt).values())An.updateMode(Bt);if(mn){for(const An of $(this,Ct).values())if(An.annotationElementId===mn){this.setSelected(An),An.enterInEditMode();break}}}}updateToolbar(Bt){Bt!==$(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bt})}updateParams(Bt,mn){if($(this,At)){if(Bt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bt);return}for(const An of $(this,Nt))An.updateParams(Bt,mn);for(const An of $(this,At))An.updateDefaultParams(Bt,mn)}}enableWaiting(Bt=!1){if($(this,Et)!==Bt){qt(this,Et,Bt);for(const mn of $(this,Dt).values())Bt?mn.disableClick():mn.enableClick(),mn.div.classList.toggle("waiting",Bt)}}getEditors(Bt){const mn=[];for(const An of $(this,Ct).values())An.pageIndex===Bt&&mn.push(An);return mn}getEditor(Bt){return $(this,Ct).get(Bt)}addEditor(Bt){$(this,Ct).set(Bt.id,Bt)}removeEditor(Bt){var mn;$(this,Ct).delete(Bt.id),this.unselect(Bt),(!Bt.annotationElementId||!$(this,zt).has(Bt.annotationElementId))&&((mn=$(this,$t))==null||mn.remove(Bt.id))}addDeletedAnnotationElement(Bt){$(this,zt).add(Bt.annotationElementId),Bt.deleted=!0}isDeletedAnnotationElement(Bt){return $(this,zt).has(Bt)}removeDeletedAnnotationElement(Bt){$(this,zt).delete(Bt.annotationElementId),Bt.deleted=!1}setActiveEditor(Bt){$(this,mt)!==Bt&&(qt(this,mt,Bt),Bt&&Xt(this,en,$r).call(this,Bt.propertiesToUpdate))}toggleSelected(Bt){if($(this,Nt).has(Bt)){$(this,Nt).delete(Bt),Bt.unselect(),Xt(this,en,rr).call(this,{hasSelectedEditor:this.hasSelection});return}$(this,Nt).add(Bt),Bt.select(),Xt(this,en,$r).call(this,Bt.propertiesToUpdate),Xt(this,en,rr).call(this,{hasSelectedEditor:!0})}setSelected(Bt){for(const mn of $(this,Nt))mn!==Bt&&mn.unselect();$(this,Nt).clear(),$(this,Nt).add(Bt),Bt.select(),Xt(this,en,$r).call(this,Bt.propertiesToUpdate),Xt(this,en,rr).call(this,{hasSelectedEditor:!0})}isSelected(Bt){return $(this,Nt).has(Bt)}unselect(Bt){Bt.unselect(),$(this,Nt).delete(Bt),Xt(this,en,rr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return $(this,Nt).size!==0}undo(){$(this,Ht).undo(),Xt(this,en,rr).call(this,{hasSomethingToUndo:$(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Xt(this,en,Wr).call(this)})}redo(){$(this,Ht).redo(),Xt(this,en,rr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:$(this,Ht).hasSomethingToRedo(),isEmpty:Xt(this,en,Wr).call(this)})}addCommands(Bt){$(this,Ht).add(Bt),Xt(this,en,rr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Xt(this,en,Wr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bt=[...$(this,Nt)],mn=()=>{for(const Fn of Bt)Fn.remove()},An=()=>{for(const Fn of Bt)Xt(this,en,_s).call(this,Fn)};this.addCommands({cmd:mn,undo:An,mustExec:!0})}commitOrRemove(){var Bt;(Bt=$(this,mt))==null||Bt.commitOrRemove()}hasSomethingToControl(){return $(this,mt)||this.hasSelection}selectAll(){for(const Bt of $(this,Nt))Bt.commit();Xt(this,en,Cs).call(this,$(this,Ct).values())}unselectAll(){if($(this,mt)){$(this,mt).commitOrRemove();return}if(this.hasSelection){for(const Bt of $(this,Nt))Bt.unselect();$(this,Nt).clear(),Xt(this,en,rr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bt,mn,An=!1){if(An||this.commitOrRemove(),!this.hasSelection)return;$(this,sn)[0]+=Bt,$(this,sn)[1]+=mn;const[Fn,_n]=$(this,sn),Tn=[...$(this,Nt)],It=1e3;$(this,pn)&&clearTimeout($(this,pn)),qt(this,pn,setTimeout(()=>{qt(this,pn,null),$(this,sn)[0]=$(this,sn)[1]=0,this.addCommands({cmd:()=>{for(const Mt of Tn)$(this,Ct).has(Mt.id)&&Mt.translateInPage(Fn,_n)},undo:()=>{for(const Mt of Tn)$(this,Ct).has(Mt.id)&&Mt.translateInPage(-Fn,-_n)},mustExec:!1})},It));for(const Mt of Tn)Mt.translateInPage(Bt,mn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),qt(this,xt,new Map);for(const Bt of $(this,Nt))$(this,xt).set(Bt,{savedX:Bt.x,savedY:Bt.y,savedPageIndex:Bt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!$(this,xt))return!1;this.disableUserSelect(!1);const Bt=$(this,xt);qt(this,xt,null);let mn=!1;for(const[{x:Fn,y:_n,pageIndex:Tn},It]of Bt)It.newX=Fn,It.newY=_n,It.newPageIndex=Tn,mn||(mn=Fn!==It.savedX||_n!==It.savedY||Tn!==It.savedPageIndex);if(!mn)return!1;const An=(Fn,_n,Tn,It)=>{if($(this,Ct).has(Fn.id)){const Mt=$(this,Dt).get(It);Mt?Fn._setParentAndPosition(Mt,_n,Tn):(Fn.pageIndex=It,Fn.x=_n,Fn.y=Tn)}};return this.addCommands({cmd:()=>{for(const[Fn,{newX:_n,newY:Tn,newPageIndex:It}]of Bt)An(Fn,_n,Tn,It)},undo:()=>{for(const[Fn,{savedX:_n,savedY:Tn,savedPageIndex:It}]of Bt)An(Fn,_n,Tn,It)},mustExec:!0}),!0}dragSelectedEditors(Bt,mn){if($(this,xt))for(const An of $(this,xt).keys())An.drag(Bt,mn)}rebuild(Bt){if(Bt.parent===null){const mn=this.getLayer(Bt.pageIndex);mn?(mn.changeParent(Bt),mn.addOrRebuild(Bt)):(this.addEditor(Bt),this.addToAnnotationStorage(Bt),Bt.rebuild())}else Bt.parent.addOrRebuild(Bt)}isActive(Bt){return $(this,mt)===Bt}getActive(){return $(this,mt)}getMode(){return $(this,Rt)}get imageManager(){return(0,a.shadow)(this,"imageManager",new h)}};mt=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Zt=new WeakMap,$t=new WeakMap,Ht=new WeakMap,Ut=new WeakMap,zt=new WeakMap,xt=new WeakMap,At=new WeakMap,Lt=new WeakMap,St=new WeakMap,st=new WeakMap,lt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Kt=new WeakMap,nn=new WeakMap,un=new WeakMap,fn=new WeakMap,yn=new WeakMap,wn=new WeakMap,xn=new WeakMap,rn=new WeakMap,on=new WeakMap,Tt=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,sn=new WeakMap,pn=new WeakMap,vn=new WeakMap,bn=new WeakMap,en=new WeakSet,so=function(){window.addEventListener("focus",$(this,un)),window.addEventListener("blur",$(this,nn))},Es=function(){window.removeEventListener("focus",$(this,un)),window.removeEventListener("blur",$(this,nn))},ws=function(){window.addEventListener("keydown",$(this,xn),{capture:!0})},ts=function(){window.removeEventListener("keydown",$(this,xn),{capture:!0})},Ss=function(){document.addEventListener("copy",$(this,fn)),document.addEventListener("cut",$(this,yn)),document.addEventListener("paste",$(this,wn))},As=function(){document.removeEventListener("copy",$(this,fn)),document.removeEventListener("cut",$(this,yn)),document.removeEventListener("paste",$(this,wn))},rr=function(Bt){Object.entries(Bt).some(([An,Fn])=>$(this,Jt)[An]!==Fn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign($(this,Jt),Bt)})},$r=function(Bt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bt})},io=function(){if(!$(this,lt)){qt(this,lt,!0);for(const Bt of $(this,Dt).values())Bt.enable()}},ao=function(){if(this.unselectAll(),$(this,lt)){qt(this,lt,!1);for(const Bt of $(this,Dt).values())Bt.disable()}},_s=function(Bt){const mn=$(this,Dt).get(Bt.pageIndex);mn?mn.addOrRebuild(Bt):this.addEditor(Bt)},Wr=function(){if($(this,Ct).size===0)return!0;if($(this,Ct).size===1)for(const Bt of $(this,Ct).values())return Bt.isEmpty();return!1},Cs=function(Bt){$(this,Nt).clear();for(const mn of Bt)mn.isEmpty()||($(this,Nt).add(mn),mn.select());Xt(this,en,rr).call(this,{hasSelectedEditor:!0})},Qn(Gn,"TRANSLATE_SMALL",1),Qn(Gn,"TRANSLATE_BIG",10);let rt=Gn;s.AnnotationEditorUIManager=rt},(e,s,i)=>{var Ut,zt,xt,At,Lt,St,st,lt,Et,Pt,Rt,Nt,Mr,jr,ks,ns,rs,Hr,Gr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=dt,s.getColorValues=Ct,s.getCurrentTransform=Dt,s.getCurrentTransformInverse=Zt,s.getFilenameFromUrl=nt,s.getPdfFilenameFromUrl=et,s.getRGB=mt,s.getXfaPageViewport=kt,s.isDataScheme=it,s.isPdfFile=ut,s.isValidFetchUrl=ht,s.loadScript=pt,s.noContextMenu=ot,s.setLayerDimensions=$t;var a=i(7),o=i(1);const c="http://www.w3.org/2000/svg",Ht=class Ht{};Qn(Ht,"CSS",96),Qn(Ht,"PDF",72),Qn(Ht,"PDF_TO_CSS_UNITS",Ht.CSS/Ht.PDF);let d=Ht;s.PixelsPerInch=d;class g extends a.BaseFilterFactory{constructor({docId:Tt,ownerDocument:Vt=globalThis.document}={}){super();Qt(this,Nt);Qt(this,Ut);Qt(this,zt);Qt(this,xt);Qt(this,At);Qt(this,Lt);Qt(this,St);Qt(this,st);Qt(this,lt);Qt(this,Et);Qt(this,Pt);Qt(this,Rt,0);qt(this,xt,Tt),qt(this,At,Vt)}addFilter(Tt){if(!Tt)return"none";let Vt=$(this,Nt,Mr).get(Tt);if(Vt)return Vt;let Jt,sn,pn,vn;if(Tt.length===1){const Cn=Tt[0],Un=new Array(256);for(let Vn=0;Vn<256;Vn++)Un[Vn]=Cn[Vn]/255;vn=Jt=sn=pn=Un.join(",")}else{const[Cn,Un,Vn]=Tt,$n=new Array(256),Dn=new Array(256),On=new Array(256);for(let Hn=0;Hn<256;Hn++)$n[Hn]=Cn[Hn]/255,Dn[Hn]=Un[Hn]/255,On[Hn]=Vn[Hn]/255;Jt=$n.join(","),sn=Dn.join(","),pn=On.join(","),vn=`${Jt}${sn}${pn}`}if(Vt=$(this,Nt,Mr).get(vn),Vt)return $(this,Nt,Mr).set(Tt,Vt),Vt;const bn=`g_${$(this,xt)}_transfer_map_${pr(this,Rt)._++}`,en=`url(#${bn})`;$(this,Nt,Mr).set(Tt,en),$(this,Nt,Mr).set(vn,en);const kn=Xt(this,Nt,ns).call(this,bn);return Xt(this,Nt,Hr).call(this,Jt,sn,pn,kn),en}addHCMFilter(Tt,Vt){var Un;const Jt=`${Tt}-${Vt}`;if($(this,St)===Jt)return $(this,st);if(qt(this,St,Jt),qt(this,st,"none"),(Un=$(this,Lt))==null||Un.remove(),!Tt||!Vt)return $(this,st);const sn=Xt(this,Nt,Gr).call(this,Tt);Tt=o.Util.makeHexColor(...sn);const pn=Xt(this,Nt,Gr).call(this,Vt);if(Vt=o.Util.makeHexColor(...pn),$(this,Nt,jr).style.color="",Tt==="#000000"&&Vt==="#ffffff"||Tt===Vt)return $(this,st);const vn=new Array(256);for(let Vn=0;Vn<=255;Vn++){const $n=Vn/255;vn[Vn]=$n<=.03928?$n/12.92:(($n+.055)/1.055)**2.4}const bn=vn.join(","),en=`g_${$(this,xt)}_hcm_filter`,kn=qt(this,lt,Xt(this,Nt,ns).call(this,en));Xt(this,Nt,Hr).call(this,bn,bn,bn,kn),Xt(this,Nt,ks).call(this,kn);const Cn=(Vn,$n)=>{const Dn=sn[Vn]/255,On=pn[Vn]/255,Hn=new Array($n+1);for(let Kn=0;Kn<=$n;Kn++)Hn[Kn]=Dn+Kn/$n*(On-Dn);return Hn.join(",")};return Xt(this,Nt,Hr).call(this,Cn(0,5),Cn(1,5),Cn(2,5),kn),qt(this,st,`url(#${en})`),$(this,st)}addHighlightHCMFilter(Tt,Vt,Jt,sn){var On;const pn=`${Tt}-${Vt}-${Jt}-${sn}`;if($(this,Et)===pn)return $(this,Pt);if(qt(this,Et,pn),qt(this,Pt,"none"),(On=$(this,lt))==null||On.remove(),!Tt||!Vt)return $(this,Pt);const[vn,bn]=[Tt,Vt].map(Xt(this,Nt,Gr).bind(this));let en=Math.round(.2126*vn[0]+.7152*vn[1]+.0722*vn[2]),kn=Math.round(.2126*bn[0]+.7152*bn[1]+.0722*bn[2]),[Cn,Un]=[Jt,sn].map(Xt(this,Nt,Gr).bind(this));kn<en&&([en,kn,Cn,Un]=[kn,en,Un,Cn]),$(this,Nt,jr).style.color="";const Vn=(Hn,Kn,En)=>{const an=new Array(256),ln=(kn-en)/En,Ln=Hn/255,Gn=(Kn-Hn)/(255*En);let Wn=0;for(let Bt=0;Bt<=En;Bt++){const mn=Math.round(en+Bt*ln),An=Ln+Bt*Gn;for(let Fn=Wn;Fn<=mn;Fn++)an[Fn]=An;Wn=mn+1}for(let Bt=Wn;Bt<256;Bt++)an[Bt]=an[Wn-1];return an.join(",")},$n=`g_${$(this,xt)}_hcm_highlight_filter`,Dn=qt(this,lt,Xt(this,Nt,ns).call(this,$n));return Xt(this,Nt,ks).call(this,Dn),Xt(this,Nt,Hr).call(this,Vn(Cn[0],Un[0],5),Vn(Cn[1],Un[1],5),Vn(Cn[2],Un[2],5),Dn),qt(this,Pt,`url(#${$n})`),$(this,Pt)}destroy(Tt=!1){Tt&&($(this,st)||$(this,Pt))||($(this,zt)&&($(this,zt).parentNode.parentNode.remove(),qt(this,zt,null)),$(this,Ut)&&($(this,Ut).clear(),qt(this,Ut,null)),qt(this,Rt,0))}}Ut=new WeakMap,zt=new WeakMap,xt=new WeakMap,At=new WeakMap,Lt=new WeakMap,St=new WeakMap,st=new WeakMap,lt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Nt=new WeakSet,Mr=function(){return $(this,Ut)||qt(this,Ut,new Map)},jr=function(){if(!$(this,zt)){const Tt=$(this,At).createElement("div"),{style:Vt}=Tt;Vt.visibility="hidden",Vt.contain="strict",Vt.width=Vt.height=0,Vt.position="absolute",Vt.top=Vt.left=0,Vt.zIndex=-1;const Jt=$(this,At).createElementNS(c,"svg");Jt.setAttribute("width",0),Jt.setAttribute("height",0),qt(this,zt,$(this,At).createElementNS(c,"defs")),Tt.append(Jt),Jt.append($(this,zt)),$(this,At).body.append(Tt)}return $(this,zt)},ks=function(Tt){const Vt=$(this,At).createElementNS(c,"feColorMatrix");Vt.setAttribute("type","matrix"),Vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Tt.append(Vt)},ns=function(Tt){const Vt=$(this,At).createElementNS(c,"filter");return Vt.setAttribute("color-interpolation-filters","sRGB"),Vt.setAttribute("id",Tt),$(this,Nt,jr).append(Vt),Vt},rs=function(Tt,Vt,Jt){const sn=$(this,At).createElementNS(c,Vt);sn.setAttribute("type","discrete"),sn.setAttribute("tableValues",Jt),Tt.append(sn)},Hr=function(Tt,Vt,Jt,sn){const pn=$(this,At).createElementNS(c,"feComponentTransfer");sn.append(pn),Xt(this,Nt,rs).call(this,pn,"feFuncR",Tt),Xt(this,Nt,rs).call(this,pn,"feFuncG",Vt),Xt(this,Nt,rs).call(this,pn,"feFuncB",Jt)},Gr=function(Tt){return $(this,Nt,jr).style.color=Tt,mt(getComputedStyle($(this,Nt,jr)).getPropertyValue("color"))},s.DOMFilterFactory=g;class h extends a.BaseCanvasFactory{constructor({ownerDocument:on=globalThis.document}={}){super(),this._document=on}_createCanvas(on,Tt){const Vt=this._document.createElement("canvas");return Vt.width=on,Vt.height=Tt,Vt}}s.DOMCanvasFactory=h;async function b(rn,on=!1){if(ht(rn,document.baseURI)){const Tt=await fetch(rn);if(!Tt.ok)throw new Error(Tt.statusText);return on?new Uint8Array(await Tt.arrayBuffer()):(0,o.stringToBytes)(await Tt.text())}return new Promise((Tt,Vt)=>{const Jt=new XMLHttpRequest;Jt.open("GET",rn,!0),on&&(Jt.responseType="arraybuffer"),Jt.onreadystatechange=()=>{if(Jt.readyState===XMLHttpRequest.DONE){if(Jt.status===200||Jt.status===0){let sn;if(on&&Jt.response?sn=new Uint8Array(Jt.response):!on&&Jt.responseText&&(sn=(0,o.stringToBytes)(Jt.responseText)),sn){Tt(sn);return}}Vt(new Error(Jt.statusText))}},Jt.send(null)})}class _ extends a.BaseCMapReaderFactory{_fetchData(on,Tt){return b(on,this.isCompressed).then(Vt=>({cMapData:Vt,compressionType:Tt}))}}s.DOMCMapReaderFactory=_;class j extends a.BaseStandardFontDataFactory{_fetchData(on){return b(on,!0)}}s.DOMStandardFontDataFactory=j;class rt extends a.BaseSVGFactory{_createSVG(on){return document.createElementNS(c,on)}}s.DOMSVGFactory=rt;class _e{constructor({viewBox:on,scale:Tt,rotation:Vt,offsetX:Jt=0,offsetY:sn=0,dontFlip:pn=!1}){this.viewBox=on,this.scale=Tt,this.rotation=Vt,this.offsetX=Jt,this.offsetY=sn;const vn=(on[2]+on[0])/2,bn=(on[3]+on[1])/2;let en,kn,Cn,Un;switch(Vt%=360,Vt<0&&(Vt+=360),Vt){case 180:en=-1,kn=0,Cn=0,Un=1;break;case 90:en=0,kn=1,Cn=1,Un=0;break;case 270:en=0,kn=-1,Cn=-1,Un=0;break;case 0:en=1,kn=0,Cn=0,Un=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}pn&&(Cn=-Cn,Un=-Un);let Vn,$n,Dn,On;en===0?(Vn=Math.abs(bn-on[1])*Tt+Jt,$n=Math.abs(vn-on[0])*Tt+sn,Dn=(on[3]-on[1])*Tt,On=(on[2]-on[0])*Tt):(Vn=Math.abs(vn-on[0])*Tt+Jt,$n=Math.abs(bn-on[1])*Tt+sn,Dn=(on[2]-on[0])*Tt,On=(on[3]-on[1])*Tt),this.transform=[en*Tt,kn*Tt,Cn*Tt,Un*Tt,Vn-en*Tt*vn-Cn*Tt*bn,$n-kn*Tt*vn-Un*Tt*bn],this.width=Dn,this.height=On}get rawDims(){const{viewBox:on}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:on[2]-on[0],pageHeight:on[3]-on[1],pageX:on[0],pageY:on[1]})}clone({scale:on=this.scale,rotation:Tt=this.rotation,offsetX:Vt=this.offsetX,offsetY:Jt=this.offsetY,dontFlip:sn=!1}={}){return new _e({viewBox:this.viewBox.slice(),scale:on,rotation:Tt,offsetX:Vt,offsetY:Jt,dontFlip:sn})}convertToViewportPoint(on,Tt){return o.Util.applyTransform([on,Tt],this.transform)}convertToViewportRectangle(on){const Tt=o.Util.applyTransform([on[0],on[1]],this.transform),Vt=o.Util.applyTransform([on[2],on[3]],this.transform);return[Tt[0],Tt[1],Vt[0],Vt[1]]}convertToPdfPoint(on,Tt){return o.Util.applyInverseTransform([on,Tt],this.transform)}}s.PageViewport=_e;class ct extends o.BaseException{constructor(on,Tt=0){super(on,"RenderingCancelledException"),this.extraDelay=Tt}}s.RenderingCancelledException=ct;function it(rn){const on=rn.length;let Tt=0;for(;Tt<on&&rn[Tt].trim()==="";)Tt++;return rn.substring(Tt,Tt+5).toLowerCase()==="data:"}function ut(rn){return typeof rn=="string"&&/\.pdf$/i.test(rn)}function nt(rn,on=!1){return on||([rn]=rn.split(/[#?]/,1)),rn.substring(rn.lastIndexOf("/")+1)}function et(rn,on="document.pdf"){if(typeof rn!="string")return on;if(it(rn))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),on;const Tt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Jt=Tt.exec(rn);let sn=Vt.exec(Jt[1])||Vt.exec(Jt[2])||Vt.exec(Jt[3]);if(sn&&(sn=sn[0],sn.includes("%")))try{sn=Vt.exec(decodeURIComponent(sn))[0]}catch{}return sn||on}class at{constructor(){Qn(this,"started",Object.create(null));Qn(this,"times",[])}time(on){on in this.started&&(0,o.warn)(`Timer is already running for ${on}`),this.started[on]=Date.now()}timeEnd(on){on in this.started||(0,o.warn)(`Timer has not been started for ${on}`),this.times.push({name:on,start:this.started[on],end:Date.now()}),delete this.started[on]}toString(){const on=[];let Tt=0;for(const{name:Vt}of this.times)Tt=Math.max(Vt.length,Tt);for(const{name:Vt,start:Jt,end:sn}of this.times)on.push(`${Vt.padEnd(Tt)} ${sn-Jt}ms
`);return on.join("")}}s.StatTimer=at;function ht(rn,on){try{const{protocol:Tt}=on?new URL(rn,on):new URL(rn);return Tt==="http:"||Tt==="https:"}catch{return!1}}function ot(rn){rn.preventDefault()}function pt(rn,on=!1){return new Promise((Tt,Vt)=>{const Jt=document.createElement("script");Jt.src=rn,Jt.onload=function(sn){on&&Jt.remove(),Tt(sn)},Jt.onerror=function(){Vt(new Error(`Cannot load script at: ${Jt.src}`))},(document.head||document.documentElement).append(Jt)})}function dt(rn){console.log("Deprecated API usage: "+rn)}let ft;class gt{static toDateObject(on){if(!on||typeof on!="string")return null;ft||(ft=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Tt=ft.exec(on);if(!Tt)return null;const Vt=parseInt(Tt[1],10);let Jt=parseInt(Tt[2],10);Jt=Jt>=1&&Jt<=12?Jt-1:0;let sn=parseInt(Tt[3],10);sn=sn>=1&&sn<=31?sn:1;let pn=parseInt(Tt[4],10);pn=pn>=0&&pn<=23?pn:0;let vn=parseInt(Tt[5],10);vn=vn>=0&&vn<=59?vn:0;let bn=parseInt(Tt[6],10);bn=bn>=0&&bn<=59?bn:0;const en=Tt[7]||"Z";let kn=parseInt(Tt[8],10);kn=kn>=0&&kn<=23?kn:0;let Cn=parseInt(Tt[9],10)||0;return Cn=Cn>=0&&Cn<=59?Cn:0,en==="-"?(pn+=kn,vn+=Cn):en==="+"&&(pn-=kn,vn-=Cn),new Date(Date.UTC(Vt,Jt,sn,pn,vn,bn))}}s.PDFDateString=gt;function kt(rn,{scale:on=1,rotation:Tt=0}){const{width:Vt,height:Jt}=rn.attributes.style,sn=[0,0,parseInt(Vt),parseInt(Jt)];return new _e({viewBox:sn,scale:on,rotation:Tt})}function mt(rn){if(rn.startsWith("#")){const on=parseInt(rn.slice(1),16);return[(on&16711680)>>16,(on&65280)>>8,on&255]}return rn.startsWith("rgb(")?rn.slice(4,-1).split(",").map(on=>parseInt(on)):rn.startsWith("rgba(")?rn.slice(5,-1).split(",").map(on=>parseInt(on)).slice(0,3):((0,o.warn)(`Not a valid color format: "${rn}"`),[0,0,0])}function Ct(rn){const on=document.createElement("span");on.style.visibility="hidden",document.body.append(on);for(const Tt of rn.keys()){on.style.color=Tt;const Vt=window.getComputedStyle(on).color;rn.set(Tt,mt(Vt))}on.remove()}function Dt(rn){const{a:on,b:Tt,c:Vt,d:Jt,e:sn,f:pn}=rn.getTransform();return[on,Tt,Vt,Jt,sn,pn]}function Zt(rn){const{a:on,b:Tt,c:Vt,d:Jt,e:sn,f:pn}=rn.getTransform().invertSelf();return[on,Tt,Vt,Jt,sn,pn]}function $t(rn,on,Tt=!1,Vt=!0){if(on instanceof _e){const{pageWidth:Jt,pageHeight:sn}=on.rawDims,{style:pn}=rn,vn=o.FeatureTest.isCSSRoundSupported,bn=`var(--scale-factor) * ${Jt}px`,en=`var(--scale-factor) * ${sn}px`,kn=vn?`round(${bn}, 1px)`:`calc(${bn})`,Cn=vn?`round(${en}, 1px)`:`calc(${en})`;!Tt||on.rotation%180===0?(pn.width=kn,pn.height=Cn):(pn.width=Cn,pn.height=kn)}Vt&&rn.setAttribute("data-main-rotation",on.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=i(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,j){return"none"}addHighlightHCMFilter(_,j,rt,_e){return"none"}destroy(_=!1){}}s.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,j){if(_<=0||j<=0)throw new Error("Invalid canvas size");const rt=this._createCanvas(_,j);return{canvas:rt,context:rt.getContext("2d")}}reset(_,j,rt){if(!_.canvas)throw new Error("Canvas is not specified");if(j<=0||rt<=0)throw new Error("Invalid canvas size");_.canvas.width=j,_.canvas.height=rt}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,j){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:j=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=j}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const j=this.baseUrl+_+(this.isCompressed?".bcmap":""),rt=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(j,rt).catch(_e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${j}`)})}_fetchData(_,j){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class g{constructor({baseUrl:_=null}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const j=`${this.baseUrl}${_}`;return this._fetchData(j).catch(rt=>{throw new Error(`Unable to load font data at: ${j}`)})}_fetchData(_){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=g;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,j,rt=!1){if(_<=0||j<=0)throw new Error("Invalid SVG dimensions");const _e=this._createSVG("svg:svg");return _e.setAttribute("version","1.1"),rt||(_e.setAttribute("width",`${_}px`),_e.setAttribute("height",`${j}px`)),_e.setAttribute("preserveAspectRatio","none"),_e.setAttribute("viewBox",`0 0 ${_} ${j}`),_e}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=i(1);const o=3285377520,c=4294901760,d=65535;class g{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let _,j;if(typeof b=="string"){_=new Uint8Array(b.length*2),j=0;for(let dt=0,ft=b.length;dt<ft;dt++){const gt=b.charCodeAt(dt);gt<=255?_[j++]=gt:(_[j++]=gt>>>8,_[j++]=gt&255)}}else if((0,a.isArrayBuffer)(b))_=b.slice(),j=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const rt=j>>2,_e=j-rt*4,ct=new Uint32Array(_.buffer,0,rt);let it=0,ut=0,nt=this.h1,et=this.h2;const at=3432918353,ht=461845907,ot=at&d,pt=ht&d;for(let dt=0;dt<rt;dt++)dt&1?(it=ct[dt],it=it*at&c|it*ot&d,it=it<<15|it>>>17,it=it*ht&c|it*pt&d,nt^=it,nt=nt<<13|nt>>>19,nt=nt*5+3864292196):(ut=ct[dt],ut=ut*at&c|ut*ot&d,ut=ut<<15|ut>>>17,ut=ut*ht&c|ut*pt&d,et^=ut,et=et<<13|et>>>19,et=et*5+3864292196);switch(it=0,_e){case 3:it^=_[rt*4+2]<<16;case 2:it^=_[rt*4+1]<<8;case 1:it^=_[rt*4],it=it*at&c|it*ot&d,it=it<<15|it>>>17,it=it*ht&c|it*pt&d,rt&1?nt^=it:et^=it}this.h1=nt,this.h2=et}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=g},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=i(1);class o{constructor({ownerDocument:h=globalThis.document,styleElement:b=null}){Qt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(h,b.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),$(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||$(this,d).has(h.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:_,style:j}=h,rt=new FontFace(b,_,j);this.addNativeFontFace(rt);try{await rt.load(),$(this,d).add(b)}catch{(0,a.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(rt)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=h.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch(j){throw(0,a.warn)(`Failed to load font '${_.family}': '${j}'.`),h.disableFontFace=!0,j}}return}const b=h.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const j=this._queueLoadingCallback(_);this._prepareFontLoadEvent(h,j)})}}get isFontLoadingAPISupported(){var b;const h=!!((b=this._document)!=null&&b.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function b(){for((0,a.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;_.length>0&&_[0].done;){const rt=_.shift();setTimeout(rt.callback,0)}}const{loadingRequests:_}=this,j={done:!1,complete:b,callback:h};return _.push(j),j}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,b){function _(mt,Ct){return mt.charCodeAt(Ct)<<24|mt.charCodeAt(Ct+1)<<16|mt.charCodeAt(Ct+2)<<8|mt.charCodeAt(Ct+3)&255}function j(mt,Ct,Dt,Zt){const $t=mt.substring(0,Ct),Ht=mt.substring(Ct+Dt);return $t+Zt+Ht}let rt,_e;const ct=this._document.createElement("canvas");ct.width=1,ct.height=1;const it=ct.getContext("2d");let ut=0;function nt(mt,Ct){if(++ut>30){(0,a.warn)("Load test font never loaded."),Ct();return}if(it.font="30px "+mt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){Ct();return}setTimeout(nt.bind(null,mt,Ct))}const et=`lt${Date.now()}${this.loadTestFontId++}`;let at=this._loadTestFont;at=j(at,976,et.length,et);const ot=16,pt=1482184792;let dt=_(at,ot);for(rt=0,_e=et.length-3;rt<_e;rt+=4)dt=dt-pt+_(et,rt)|0;rt<et.length&&(dt=dt-pt+_(et+"XXX",rt)|0),at=j(at,ot,4,(0,a.string32)(dt));const ft=`url(data:font/opentype;base64,${btoa(at)});`,gt=`@font-face {font-family:"${et}";src:${ft}}`;this.insertRule(gt);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const mt of[h.loadedName,et]){const Ct=this._document.createElement("span");Ct.textContent="Hi",Ct.style.fontFamily=mt,kt.append(Ct)}this._document.body.append(kt),nt(et,()=>{kt.remove(),b.complete()})}}d=new WeakMap,s.FontLoader=o;class c{constructor(h,{isEvalSupported:b=!0,disableFontFace:_=!1,ignoreErrors:j=!1,inspectFont:rt=null}){this.compiledGlyphs=Object.create(null);for(const _e in h)this[_e]=h[_e];this.isEvalSupported=b!==!1,this.disableFontFace=_===!0,this.ignoreErrors=j===!0,this._inspectFont=rt}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(b=this._inspectFont)==null||b.call(this,this),h}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const h=(0,a.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(h)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let rt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(rt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${rt}src:${b}}`}return(j=this._inspectFont)==null||j.call(this,this,b),_}getPathGenerator(h,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _;try{_=h.get(this.loadedName+"_path_"+b)}catch(j){if(!this.ignoreErrors)throw j;return(0,a.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[b]=function(rt,_e){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const j=[];for(const rt of _){const _e=rt.args!==void 0?rt.args.join(","):"";j.push("c.",rt.cmd,"(",_e,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",j.join(""))}return this.compiledGlyphs[b]=function(j,rt){for(const _e of _)_e.cmd==="scale"&&(_e.args=[rt,-rt]),j[_e.cmd].apply(j,_e.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=i(7);i(1);const o=function(b){return new Promise((_,j)=>{require$$5.readFile(b,(_e,ct)=>{if(_e||!ct){j(new Error(_e));return}_(new Uint8Array(ct))})})};class c extends a.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas(_,j){return require$$5.createCanvas(_,j)}}s.NodeCanvasFactory=d;class g extends a.BaseCMapReaderFactory{_fetchData(_,j){return o(_).then(rt=>({cMapData:rt,compressionType:j}))}}s.NodeCMapReaderFactory=g;class h extends a.BaseStandardFontDataFactory{_fetchData(_){return o(_)}}s.NodeStandardFontDataFactory=h},(e,s,i)=>{var zt,Rs,Ts;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=i(1),o=i(6),c=i(12),d=i(13);const g=16,h=100,b=4096,_=15,j=10,rt=1e3,_e=16;function ct(St,st){if(St._removeMirroring)throw new Error("Context is already forwarding operations.");St.__originalSave=St.save,St.__originalRestore=St.restore,St.__originalRotate=St.rotate,St.__originalScale=St.scale,St.__originalTranslate=St.translate,St.__originalTransform=St.transform,St.__originalSetTransform=St.setTransform,St.__originalResetTransform=St.resetTransform,St.__originalClip=St.clip,St.__originalMoveTo=St.moveTo,St.__originalLineTo=St.lineTo,St.__originalBezierCurveTo=St.bezierCurveTo,St.__originalRect=St.rect,St.__originalClosePath=St.closePath,St.__originalBeginPath=St.beginPath,St._removeMirroring=()=>{St.save=St.__originalSave,St.restore=St.__originalRestore,St.rotate=St.__originalRotate,St.scale=St.__originalScale,St.translate=St.__originalTranslate,St.transform=St.__originalTransform,St.setTransform=St.__originalSetTransform,St.resetTransform=St.__originalResetTransform,St.clip=St.__originalClip,St.moveTo=St.__originalMoveTo,St.lineTo=St.__originalLineTo,St.bezierCurveTo=St.__originalBezierCurveTo,St.rect=St.__originalRect,St.closePath=St.__originalClosePath,St.beginPath=St.__originalBeginPath,delete St._removeMirroring},St.save=function(){st.save(),this.__originalSave()},St.restore=function(){st.restore(),this.__originalRestore()},St.translate=function(Et,Pt){st.translate(Et,Pt),this.__originalTranslate(Et,Pt)},St.scale=function(Et,Pt){st.scale(Et,Pt),this.__originalScale(Et,Pt)},St.transform=function(Et,Pt,Rt,Nt,Kt,nn){st.transform(Et,Pt,Rt,Nt,Kt,nn),this.__originalTransform(Et,Pt,Rt,Nt,Kt,nn)},St.setTransform=function(Et,Pt,Rt,Nt,Kt,nn){st.setTransform(Et,Pt,Rt,Nt,Kt,nn),this.__originalSetTransform(Et,Pt,Rt,Nt,Kt,nn)},St.resetTransform=function(){st.resetTransform(),this.__originalResetTransform()},St.rotate=function(Et){st.rotate(Et),this.__originalRotate(Et)},St.clip=function(Et){st.clip(Et),this.__originalClip(Et)},St.moveTo=function(lt,Et){st.moveTo(lt,Et),this.__originalMoveTo(lt,Et)},St.lineTo=function(lt,Et){st.lineTo(lt,Et),this.__originalLineTo(lt,Et)},St.bezierCurveTo=function(lt,Et,Pt,Rt,Nt,Kt){st.bezierCurveTo(lt,Et,Pt,Rt,Nt,Kt),this.__originalBezierCurveTo(lt,Et,Pt,Rt,Nt,Kt)},St.rect=function(lt,Et,Pt,Rt){st.rect(lt,Et,Pt,Rt),this.__originalRect(lt,Et,Pt,Rt)},St.closePath=function(){st.closePath(),this.__originalClosePath()},St.beginPath=function(){st.beginPath(),this.__originalBeginPath()}}class it{constructor(st){this.canvasFactory=st,this.cache=Object.create(null)}getCanvas(st,lt,Et){let Pt;return this.cache[st]!==void 0?(Pt=this.cache[st],this.canvasFactory.reset(Pt,lt,Et)):(Pt=this.canvasFactory.create(lt,Et),this.cache[st]=Pt),Pt}delete(st){delete this.cache[st]}clear(){for(const st in this.cache){const lt=this.cache[st];this.canvasFactory.destroy(lt),delete this.cache[st]}}}function ut(St,st,lt,Et,Pt,Rt,Nt,Kt,nn,un){const[fn,yn,wn,xn,rn,on]=(0,o.getCurrentTransform)(St);if(yn===0&&wn===0){const Jt=Nt*fn+rn,sn=Math.round(Jt),pn=Kt*xn+on,vn=Math.round(pn),bn=(Nt+nn)*fn+rn,en=Math.abs(Math.round(bn)-sn)||1,kn=(Kt+un)*xn+on,Cn=Math.abs(Math.round(kn)-vn)||1;return St.setTransform(Math.sign(fn),0,0,Math.sign(xn),sn,vn),St.drawImage(st,lt,Et,Pt,Rt,0,0,en,Cn),St.setTransform(fn,yn,wn,xn,rn,on),[en,Cn]}if(fn===0&&xn===0){const Jt=Kt*wn+rn,sn=Math.round(Jt),pn=Nt*yn+on,vn=Math.round(pn),bn=(Kt+un)*wn+rn,en=Math.abs(Math.round(bn)-sn)||1,kn=(Nt+nn)*yn+on,Cn=Math.abs(Math.round(kn)-vn)||1;return St.setTransform(0,Math.sign(yn),Math.sign(wn),0,sn,vn),St.drawImage(st,lt,Et,Pt,Rt,0,0,Cn,en),St.setTransform(fn,yn,wn,xn,rn,on),[Cn,en]}St.drawImage(st,lt,Et,Pt,Rt,Nt,Kt,nn,un);const Tt=Math.hypot(fn,yn),Vt=Math.hypot(wn,xn);return[Tt*nn,Vt*un]}function nt(St){const{width:st,height:lt}=St;if(st>rt||lt>rt)return null;const Et=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rt=st+1;let Nt=new Uint8Array(Rt*(lt+1)),Kt,nn,un;const fn=st+7&-8;let yn=new Uint8Array(fn*lt),wn=0;for(const Vt of St.data){let Jt=128;for(;Jt>0;)yn[wn++]=Vt&Jt?0:255,Jt>>=1}let xn=0;for(wn=0,yn[wn]!==0&&(Nt[0]=1,++xn),nn=1;nn<st;nn++)yn[wn]!==yn[wn+1]&&(Nt[nn]=yn[wn]?2:1,++xn),wn++;for(yn[wn]!==0&&(Nt[nn]=2,++xn),Kt=1;Kt<lt;Kt++){wn=Kt*fn,un=Kt*Rt,yn[wn-fn]!==yn[wn]&&(Nt[un]=yn[wn]?1:8,++xn);let Vt=(yn[wn]?4:0)+(yn[wn-fn]?8:0);for(nn=1;nn<st;nn++)Vt=(Vt>>2)+(yn[wn+1]?4:0)+(yn[wn-fn+1]?8:0),Pt[Vt]&&(Nt[un+nn]=Pt[Vt],++xn),wn++;if(yn[wn-fn]!==yn[wn]&&(Nt[un+nn]=yn[wn]?2:4,++xn),xn>Et)return null}for(wn=fn*(lt-1),un=Kt*Rt,yn[wn]!==0&&(Nt[un]=8,++xn),nn=1;nn<st;nn++)yn[wn]!==yn[wn+1]&&(Nt[un+nn]=yn[wn]?4:8,++xn),wn++;if(yn[wn]!==0&&(Nt[un+nn]=4,++xn),xn>Et)return null;const rn=new Int32Array([0,Rt,-1,0,-Rt,0,0,0,1]),on=new Path2D;for(Kt=0;xn&&Kt<=lt;Kt++){let Vt=Kt*Rt;const Jt=Vt+st;for(;Vt<Jt&&!Nt[Vt];)Vt++;if(Vt===Jt)continue;on.moveTo(Vt%Rt,Kt);const sn=Vt;let pn=Nt[Vt];do{const vn=rn[pn];do Vt+=vn;while(!Nt[Vt]);const bn=Nt[Vt];bn!==5&&bn!==10?(pn=bn,Nt[Vt]=0):(pn=bn&51*pn>>4,Nt[Vt]&=pn>>2|pn<<2),on.lineTo(Vt%Rt,Vt/Rt|0),Nt[Vt]||--xn}while(sn!==Vt);--Kt}return yn=null,Nt=null,function(Vt){Vt.save(),Vt.scale(1/st,-1/lt),Vt.translate(0,-lt),Vt.fill(on),Vt.beginPath(),Vt.restore()}}class et{constructor(st,lt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,st,lt])}clone(){const st=Object.create(this);return st.clipBox=this.clipBox.slice(),st}setCurrentPoint(st,lt){this.x=st,this.y=lt}updatePathMinMax(st,lt,Et){[lt,Et]=a.Util.applyTransform([lt,Et],st),this.minX=Math.min(this.minX,lt),this.minY=Math.min(this.minY,Et),this.maxX=Math.max(this.maxX,lt),this.maxY=Math.max(this.maxY,Et)}updateRectMinMax(st,lt){const Et=a.Util.applyTransform(lt,st),Pt=a.Util.applyTransform(lt.slice(2),st);this.minX=Math.min(this.minX,Et[0],Pt[0]),this.minY=Math.min(this.minY,Et[1],Pt[1]),this.maxX=Math.max(this.maxX,Et[0],Pt[0]),this.maxY=Math.max(this.maxY,Et[1],Pt[1])}updateScalingPathMinMax(st,lt){a.Util.scaleMinMax(st,lt),this.minX=Math.min(this.minX,lt[0]),this.maxX=Math.max(this.maxX,lt[1]),this.minY=Math.min(this.minY,lt[2]),this.maxY=Math.max(this.maxY,lt[3])}updateCurvePathMinMax(st,lt,Et,Pt,Rt,Nt,Kt,nn,un,fn){const yn=a.Util.bezierBoundingBox(lt,Et,Pt,Rt,Nt,Kt,nn,un);if(fn){fn[0]=Math.min(fn[0],yn[0],yn[2]),fn[1]=Math.max(fn[1],yn[0],yn[2]),fn[2]=Math.min(fn[2],yn[1],yn[3]),fn[3]=Math.max(fn[3],yn[1],yn[3]);return}this.updateRectMinMax(st,yn)}getPathBoundingBox(st=c.PathType.FILL,lt=null){const Et=[this.minX,this.minY,this.maxX,this.maxY];if(st===c.PathType.STROKE){lt||(0,a.unreachable)("Stroke bounding box must include transform.");const Pt=a.Util.singularValueDecompose2dScale(lt),Rt=Pt[0]*this.lineWidth/2,Nt=Pt[1]*this.lineWidth/2;Et[0]-=Rt,Et[1]-=Nt,Et[2]+=Rt,Et[3]+=Nt}return Et}updateClipFromPath(){const st=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(st||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(st){this.clipBox=st,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(st=c.PathType.FILL,lt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(st,lt))}}function at(St,st){if(typeof ImageData<"u"&&st instanceof ImageData){St.putImageData(st,0,0);return}const lt=st.height,Et=st.width,Pt=lt%_e,Rt=(lt-Pt)/_e,Nt=Pt===0?Rt:Rt+1,Kt=St.createImageData(Et,_e);let nn=0,un;const fn=st.data,yn=Kt.data;let wn,xn,rn,on;if(st.kind===a.ImageKind.GRAYSCALE_1BPP){const Tt=fn.byteLength,Vt=new Uint32Array(yn.buffer,0,yn.byteLength>>2),Jt=Vt.length,sn=Et+7>>3,pn=4294967295,vn=a.FeatureTest.isLittleEndian?4278190080:255;for(wn=0;wn<Nt;wn++){for(rn=wn<Rt?_e:Pt,un=0,xn=0;xn<rn;xn++){const bn=Tt-nn;let en=0;const kn=bn>sn?Et:bn*8-7,Cn=kn&-8;let Un=0,Vn=0;for(;en<Cn;en+=8)Vn=fn[nn++],Vt[un++]=Vn&128?pn:vn,Vt[un++]=Vn&64?pn:vn,Vt[un++]=Vn&32?pn:vn,Vt[un++]=Vn&16?pn:vn,Vt[un++]=Vn&8?pn:vn,Vt[un++]=Vn&4?pn:vn,Vt[un++]=Vn&2?pn:vn,Vt[un++]=Vn&1?pn:vn;for(;en<kn;en++)Un===0&&(Vn=fn[nn++],Un=128),Vt[un++]=Vn&Un?pn:vn,Un>>=1}for(;un<Jt;)Vt[un++]=0;St.putImageData(Kt,0,wn*_e)}}else if(st.kind===a.ImageKind.RGBA_32BPP){for(xn=0,on=Et*_e*4,wn=0;wn<Rt;wn++)yn.set(fn.subarray(nn,nn+on)),nn+=on,St.putImageData(Kt,0,xn),xn+=_e;wn<Nt&&(on=Et*Pt*4,yn.set(fn.subarray(nn,nn+on)),St.putImageData(Kt,0,xn))}else if(st.kind===a.ImageKind.RGB_24BPP)for(rn=_e,on=Et*rn,wn=0;wn<Nt;wn++){for(wn>=Rt&&(rn=Pt,on=Et*rn),un=0,xn=on;xn--;)yn[un++]=fn[nn++],yn[un++]=fn[nn++],yn[un++]=fn[nn++],yn[un++]=255;St.putImageData(Kt,0,wn*_e)}else throw new Error(`bad image kind: ${st.kind}`)}function ht(St,st){if(st.bitmap){St.drawImage(st.bitmap,0,0);return}const lt=st.height,Et=st.width,Pt=lt%_e,Rt=(lt-Pt)/_e,Nt=Pt===0?Rt:Rt+1,Kt=St.createImageData(Et,_e);let nn=0;const un=st.data,fn=Kt.data;for(let yn=0;yn<Nt;yn++){const wn=yn<Rt?_e:Pt;({srcPos:nn}=(0,d.convertBlackAndWhiteToRGBA)({src:un,srcPos:nn,dest:fn,width:Et,height:wn,nonBlackColor:0})),St.putImageData(Kt,0,yn*_e)}}function ot(St,st){const lt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Et of lt)St[Et]!==void 0&&(st[Et]=St[Et]);St.setLineDash!==void 0&&(st.setLineDash(St.getLineDash()),st.lineDashOffset=St.lineDashOffset)}function pt(St){if(St.strokeStyle=St.fillStyle="#000000",St.fillRule="nonzero",St.globalAlpha=1,St.lineWidth=1,St.lineCap="butt",St.lineJoin="miter",St.miterLimit=10,St.globalCompositeOperation="source-over",St.font="10px sans-serif",St.setLineDash!==void 0&&(St.setLineDash([]),St.lineDashOffset=0),!a.isNodeJS){const{filter:st}=St;st!=="none"&&st!==""&&(St.filter="none")}}function dt(St,st,lt,Et){const Pt=St.length;for(let Rt=3;Rt<Pt;Rt+=4){const Nt=St[Rt];if(Nt===0)St[Rt-3]=st,St[Rt-2]=lt,St[Rt-1]=Et;else if(Nt<255){const Kt=255-Nt;St[Rt-3]=St[Rt-3]*Nt+st*Kt>>8,St[Rt-2]=St[Rt-2]*Nt+lt*Kt>>8,St[Rt-1]=St[Rt-1]*Nt+Et*Kt>>8}}}function ft(St,st,lt){const Et=St.length,Pt=1/255;for(let Rt=3;Rt<Et;Rt+=4){const Nt=lt?lt[St[Rt]]:St[Rt];st[Rt]=st[Rt]*Nt*Pt|0}}function gt(St,st,lt){const Et=St.length;for(let Pt=3;Pt<Et;Pt+=4){const Rt=St[Pt-3]*77+St[Pt-2]*152+St[Pt-1]*28;st[Pt]=lt?st[Pt]*lt[Rt>>8]>>8:st[Pt]*Rt>>16}}function kt(St,st,lt,Et,Pt,Rt,Nt,Kt,nn,un,fn){const yn=!!Rt,wn=yn?Rt[0]:0,xn=yn?Rt[1]:0,rn=yn?Rt[2]:0,on=Pt==="Luminosity"?gt:ft,Vt=Math.min(Et,Math.ceil(1048576/lt));for(let Jt=0;Jt<Et;Jt+=Vt){const sn=Math.min(Vt,Et-Jt),pn=St.getImageData(Kt-un,Jt+(nn-fn),lt,sn),vn=st.getImageData(Kt,Jt+nn,lt,sn);yn&&dt(pn.data,wn,xn,rn),on(pn.data,vn.data,Nt),st.putImageData(vn,Kt,Jt+nn)}}function mt(St,st,lt,Et){const Pt=Et[0],Rt=Et[1],Nt=Et[2]-Pt,Kt=Et[3]-Rt;Nt===0||Kt===0||(kt(st.context,lt,Nt,Kt,st.subtype,st.backdrop,st.transferMap,Pt,Rt,st.offsetX,st.offsetY),St.save(),St.globalAlpha=1,St.globalCompositeOperation="source-over",St.setTransform(1,0,0,1,0,0),St.drawImage(lt.canvas,0,0),St.restore())}function Ct(St,st){const lt=a.Util.singularValueDecompose2dScale(St);lt[0]=Math.fround(lt[0]),lt[1]=Math.fround(lt[1]);const Et=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return st!==void 0?st:lt[0]<=Et||lt[1]<=Et}const Dt=["butt","round","square"],Zt=["miter","round","bevel"],$t={},Ht={},Lt=class Lt{constructor(st,lt,Et,Pt,Rt,{optionalContentConfig:Nt,markedContentStack:Kt=null},nn,un){Qt(this,zt);this.ctx=st,this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=lt,this.objs=Et,this.canvasFactory=Pt,this.filterFactory=Rt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Kt||[],this.optionalContentConfig=Nt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=nn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=un,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(st,lt=null){return typeof st=="string"?st.startsWith("g_")?this.commonObjs.get(st):this.objs.get(st):lt}beginDrawing({transform:st,viewport:lt,transparency:Et=!1,background:Pt=null}){const Rt=this.ctx.canvas.width,Nt=this.ctx.canvas.height,Kt=this.ctx.fillStyle;if(this.ctx.fillStyle=Pt||"#ffffff",this.ctx.fillRect(0,0,Rt,Nt),this.ctx.fillStyle=Kt,Et){const nn=this.cachedCanvases.getCanvas("transparent",Rt,Nt);this.compositeCtx=this.ctx,this.transparentCanvas=nn.canvas,this.ctx=nn.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pt(this.ctx),st&&(this.ctx.transform(...st),this.outputScaleX=st[0],this.outputScaleY=st[0]),this.ctx.transform(...lt.transform),this.viewportScale=lt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(st,lt,Et,Pt){const Rt=st.argsArray,Nt=st.fnArray;let Kt=lt||0;const nn=Rt.length;if(nn===Kt)return Kt;const un=nn-Kt>j&&typeof Et=="function",fn=un?Date.now()+_:0;let yn=0;const wn=this.commonObjs,xn=this.objs;let rn;for(;;){if(Pt!==void 0&&Kt===Pt.nextBreakPoint)return Pt.breakIt(Kt,Et),Kt;if(rn=Nt[Kt],rn!==a.OPS.dependency)this[rn].apply(this,Rt[Kt]);else for(const on of Rt[Kt]){const Tt=on.startsWith("g_")?wn:xn;if(!Tt.has(on))return Tt.get(on,Et),Kt}if(Kt++,Kt===nn)return Kt;if(un&&++yn>j){if(Date.now()>fn)return Et(),Kt;yn=0}}}endDrawing(){Xt(this,zt,Rs).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const st of this._cachedBitmapsMap.values()){for(const lt of st.values())typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement&&(lt.width=lt.height=0);st.clear()}this._cachedBitmapsMap.clear(),Xt(this,zt,Ts).call(this)}_scaleImage(st,lt){const Et=st.width,Pt=st.height;let Rt=Math.max(Math.hypot(lt[0],lt[1]),1),Nt=Math.max(Math.hypot(lt[2],lt[3]),1),Kt=Et,nn=Pt,un="prescale1",fn,yn;for(;Rt>2&&Kt>1||Nt>2&&nn>1;){let wn=Kt,xn=nn;Rt>2&&Kt>1&&(wn=Kt>=16384?Math.floor(Kt/2)-1||1:Math.ceil(Kt/2),Rt/=Kt/wn),Nt>2&&nn>1&&(xn=nn>=16384?Math.floor(nn/2)-1||1:Math.ceil(nn)/2,Nt/=nn/xn),fn=this.cachedCanvases.getCanvas(un,wn,xn),yn=fn.context,yn.clearRect(0,0,wn,xn),yn.drawImage(st,0,0,Kt,nn,0,0,wn,xn),st=fn.canvas,Kt=wn,nn=xn,un=un==="prescale1"?"prescale2":"prescale1"}return{img:st,paintWidth:Kt,paintHeight:nn}}_createMaskCanvas(st){const lt=this.ctx,{width:Et,height:Pt}=st,Rt=this.current.fillColor,Nt=this.current.patternFill,Kt=(0,o.getCurrentTransform)(lt);let nn,un,fn,yn;if((st.bitmap||st.data)&&st.count>1){const en=st.bitmap||st.data.buffer;un=JSON.stringify(Nt?Kt:[Kt.slice(0,4),Rt]),nn=this._cachedBitmapsMap.get(en),nn||(nn=new Map,this._cachedBitmapsMap.set(en,nn));const kn=nn.get(un);if(kn&&!Nt){const Cn=Math.round(Math.min(Kt[0],Kt[2])+Kt[4]),Un=Math.round(Math.min(Kt[1],Kt[3])+Kt[5]);return{canvas:kn,offsetX:Cn,offsetY:Un}}fn=kn}fn||(yn=this.cachedCanvases.getCanvas("maskCanvas",Et,Pt),ht(yn.context,st));let wn=a.Util.transform(Kt,[1/Et,0,0,-1/Pt,0,0]);wn=a.Util.transform(wn,[1,0,0,1,0,-Pt]);const xn=a.Util.applyTransform([0,0],wn),rn=a.Util.applyTransform([Et,Pt],wn),on=a.Util.normalizeRect([xn[0],xn[1],rn[0],rn[1]]),Tt=Math.round(on[2]-on[0])||1,Vt=Math.round(on[3]-on[1])||1,Jt=this.cachedCanvases.getCanvas("fillCanvas",Tt,Vt),sn=Jt.context,pn=Math.min(xn[0],rn[0]),vn=Math.min(xn[1],rn[1]);sn.translate(-pn,-vn),sn.transform(...wn),fn||(fn=this._scaleImage(yn.canvas,(0,o.getCurrentTransformInverse)(sn)),fn=fn.img,nn&&Nt&&nn.set(un,fn)),sn.imageSmoothingEnabled=Ct((0,o.getCurrentTransform)(sn),st.interpolate),ut(sn,fn,0,0,fn.width,fn.height,0,0,Et,Pt),sn.globalCompositeOperation="source-in";const bn=a.Util.transform((0,o.getCurrentTransformInverse)(sn),[1,0,0,1,-pn,-vn]);return sn.fillStyle=Nt?Rt.getPattern(lt,this,bn,c.PathType.FILL):Rt,sn.fillRect(0,0,Et,Pt),nn&&!Nt&&(this.cachedCanvases.delete("fillCanvas"),nn.set(un,Jt.canvas)),{canvas:Jt.canvas,offsetX:Math.round(pn),offsetY:Math.round(vn)}}setLineWidth(st){st!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=st,this.ctx.lineWidth=st}setLineCap(st){this.ctx.lineCap=Dt[st]}setLineJoin(st){this.ctx.lineJoin=Zt[st]}setMiterLimit(st){this.ctx.miterLimit=st}setDash(st,lt){const Et=this.ctx;Et.setLineDash!==void 0&&(Et.setLineDash(st),Et.lineDashOffset=lt)}setRenderingIntent(st){}setFlatness(st){}setGState(st){for(const[lt,Et]of st)switch(lt){case"LW":this.setLineWidth(Et);break;case"LC":this.setLineCap(Et);break;case"LJ":this.setLineJoin(Et);break;case"ML":this.setMiterLimit(Et);break;case"D":this.setDash(Et[0],Et[1]);break;case"RI":this.setRenderingIntent(Et);break;case"FL":this.setFlatness(Et);break;case"Font":this.setFont(Et[0],Et[1]);break;case"CA":this.current.strokeAlpha=Et;break;case"ca":this.current.fillAlpha=Et,this.ctx.globalAlpha=Et;break;case"BM":this.ctx.globalCompositeOperation=Et;break;case"SMask":this.current.activeSMask=Et?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Et);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const st=this.inSMaskMode;this.current.activeSMask&&!st?this.beginSMaskMode():!this.current.activeSMask&&st&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const st=this.ctx.canvas.width,lt=this.ctx.canvas.height,Et="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(Et,st,lt);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const Rt=this.ctx;Rt.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,Rt),ct(Rt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(st){if(!this.current.activeSMask)return;st?(st[0]=Math.floor(st[0]),st[1]=Math.floor(st[1]),st[2]=Math.ceil(st[2]),st[3]=Math.ceil(st[3])):st=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const lt=this.current.activeSMask,Et=this.suspendedCtx;mt(Et,lt,this.ctx,st),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const st=this.current;this.stateStack.push(st),this.current=st.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(st,lt,Et,Pt,Rt,Nt){this.ctx.transform(st,lt,Et,Pt,Rt,Nt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(st,lt,Et){const Pt=this.ctx,Rt=this.current;let Nt=Rt.x,Kt=Rt.y,nn,un;const fn=(0,o.getCurrentTransform)(Pt),yn=fn[0]===0&&fn[3]===0||fn[1]===0&&fn[2]===0,wn=yn?Et.slice(0):null;for(let xn=0,rn=0,on=st.length;xn<on;xn++)switch(st[xn]|0){case a.OPS.rectangle:Nt=lt[rn++],Kt=lt[rn++];const Tt=lt[rn++],Vt=lt[rn++],Jt=Nt+Tt,sn=Kt+Vt;Pt.moveTo(Nt,Kt),Tt===0||Vt===0?Pt.lineTo(Jt,sn):(Pt.lineTo(Jt,Kt),Pt.lineTo(Jt,sn),Pt.lineTo(Nt,sn)),yn||Rt.updateRectMinMax(fn,[Nt,Kt,Jt,sn]),Pt.closePath();break;case a.OPS.moveTo:Nt=lt[rn++],Kt=lt[rn++],Pt.moveTo(Nt,Kt),yn||Rt.updatePathMinMax(fn,Nt,Kt);break;case a.OPS.lineTo:Nt=lt[rn++],Kt=lt[rn++],Pt.lineTo(Nt,Kt),yn||Rt.updatePathMinMax(fn,Nt,Kt);break;case a.OPS.curveTo:nn=Nt,un=Kt,Nt=lt[rn+4],Kt=lt[rn+5],Pt.bezierCurveTo(lt[rn],lt[rn+1],lt[rn+2],lt[rn+3],Nt,Kt),Rt.updateCurvePathMinMax(fn,nn,un,lt[rn],lt[rn+1],lt[rn+2],lt[rn+3],Nt,Kt,wn),rn+=6;break;case a.OPS.curveTo2:nn=Nt,un=Kt,Pt.bezierCurveTo(Nt,Kt,lt[rn],lt[rn+1],lt[rn+2],lt[rn+3]),Rt.updateCurvePathMinMax(fn,nn,un,Nt,Kt,lt[rn],lt[rn+1],lt[rn+2],lt[rn+3],wn),Nt=lt[rn+2],Kt=lt[rn+3],rn+=4;break;case a.OPS.curveTo3:nn=Nt,un=Kt,Nt=lt[rn+2],Kt=lt[rn+3],Pt.bezierCurveTo(lt[rn],lt[rn+1],Nt,Kt,Nt,Kt),Rt.updateCurvePathMinMax(fn,nn,un,lt[rn],lt[rn+1],Nt,Kt,Nt,Kt,wn),rn+=4;break;case a.OPS.closePath:Pt.closePath();break}yn&&Rt.updateScalingPathMinMax(fn,wn),Rt.setCurrentPoint(Nt,Kt)}closePath(){this.ctx.closePath()}stroke(st=!0){const lt=this.ctx,Et=this.current.strokeColor;lt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Et=="object"&&(Et!=null&&Et.getPattern)?(lt.save(),lt.strokeStyle=Et.getPattern(lt,this,(0,o.getCurrentTransformInverse)(lt),c.PathType.STROKE),this.rescaleAndStroke(!1),lt.restore()):this.rescaleAndStroke(!0)),st&&this.consumePath(this.current.getClippedPathBoundingBox()),lt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(st=!0){const lt=this.ctx,Et=this.current.fillColor,Pt=this.current.patternFill;let Rt=!1;Pt&&(lt.save(),lt.fillStyle=Et.getPattern(lt,this,(0,o.getCurrentTransformInverse)(lt),c.PathType.FILL),Rt=!0);const Nt=this.current.getClippedPathBoundingBox();this.contentVisible&&Nt!==null&&(this.pendingEOFill?(lt.fill("evenodd"),this.pendingEOFill=!1):lt.fill()),Rt&&lt.restore(),st&&this.consumePath(Nt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$t}eoClip(){this.pendingClip=Ht}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const st=this.pendingTextPaths,lt=this.ctx;if(st===void 0){lt.beginPath();return}lt.save(),lt.beginPath();for(const Et of st)lt.setTransform(...Et.transform),lt.translate(Et.x,Et.y),Et.addToPath(lt,Et.fontSize);lt.restore(),lt.clip(),lt.beginPath(),delete this.pendingTextPaths}setCharSpacing(st){this.current.charSpacing=st}setWordSpacing(st){this.current.wordSpacing=st}setHScale(st){this.current.textHScale=st/100}setLeading(st){this.current.leading=-st}setFont(st,lt){var fn;const Et=this.commonObjs.get(st),Pt=this.current;if(!Et)throw new Error(`Can't find font for ${st}`);if(Pt.fontMatrix=Et.fontMatrix||a.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+st),lt<0?(lt=-lt,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=Et,this.current.fontSize=lt,Et.isType3Font)return;const Rt=Et.loadedName||"sans-serif",Nt=((fn=Et.systemFontInfo)==null?void 0:fn.css)||`"${Rt}", ${Et.fallbackName}`;let Kt="normal";Et.black?Kt="900":Et.bold&&(Kt="bold");const nn=Et.italic?"italic":"normal";let un=lt;lt<g?un=g:lt>h&&(un=h),this.current.fontSizeScale=lt/un,this.ctx.font=`${nn} ${Kt} ${un}px ${Nt}`}setTextRenderingMode(st){this.current.textRenderingMode=st}setTextRise(st){this.current.textRise=st}moveText(st,lt){this.current.x=this.current.lineX+=st,this.current.y=this.current.lineY+=lt}setLeadingMoveText(st,lt){this.setLeading(-lt),this.moveText(st,lt)}setTextMatrix(st,lt,Et,Pt,Rt,Nt){this.current.textMatrix=[st,lt,Et,Pt,Rt,Nt],this.current.textMatrixScale=Math.hypot(st,lt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(st,lt,Et,Pt){const Rt=this.ctx,Nt=this.current,Kt=Nt.font,nn=Nt.textRenderingMode,un=Nt.fontSize/Nt.fontSizeScale,fn=nn&a.TextRenderingMode.FILL_STROKE_MASK,yn=!!(nn&a.TextRenderingMode.ADD_TO_PATH_FLAG),wn=Nt.patternFill&&!Kt.missingFile;let xn;(Kt.disableFontFace||yn||wn)&&(xn=Kt.getPathGenerator(this.commonObjs,st)),Kt.disableFontFace||wn?(Rt.save(),Rt.translate(lt,Et),Rt.beginPath(),xn(Rt,un),Pt&&Rt.setTransform(...Pt),(fn===a.TextRenderingMode.FILL||fn===a.TextRenderingMode.FILL_STROKE)&&Rt.fill(),(fn===a.TextRenderingMode.STROKE||fn===a.TextRenderingMode.FILL_STROKE)&&Rt.stroke(),Rt.restore()):((fn===a.TextRenderingMode.FILL||fn===a.TextRenderingMode.FILL_STROKE)&&Rt.fillText(st,lt,Et),(fn===a.TextRenderingMode.STROKE||fn===a.TextRenderingMode.FILL_STROKE)&&Rt.strokeText(st,lt,Et)),yn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(Rt),x:lt,y:Et,fontSize:un,addToPath:xn})}get isFontSubpixelAAEnabled(){const{context:st}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);st.scale(1.5,1),st.fillText("I",0,10);const lt=st.getImageData(0,0,10,10).data;let Et=!1;for(let Pt=3;Pt<lt.length;Pt+=4)if(lt[Pt]>0&&lt[Pt]<255){Et=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",Et)}showText(st){const lt=this.current,Et=lt.font;if(Et.isType3Font)return this.showType3Text(st);const Pt=lt.fontSize;if(Pt===0)return;const Rt=this.ctx,Nt=lt.fontSizeScale,Kt=lt.charSpacing,nn=lt.wordSpacing,un=lt.fontDirection,fn=lt.textHScale*un,yn=st.length,wn=Et.vertical,xn=wn?1:-1,rn=Et.defaultVMetrics,on=Pt*lt.fontMatrix[0],Tt=lt.textRenderingMode===a.TextRenderingMode.FILL&&!Et.disableFontFace&&!lt.patternFill;Rt.save(),Rt.transform(...lt.textMatrix),Rt.translate(lt.x,lt.y+lt.textRise),un>0?Rt.scale(fn,-1):Rt.scale(fn,1);let Vt;if(lt.patternFill){Rt.save();const bn=lt.fillColor.getPattern(Rt,this,(0,o.getCurrentTransformInverse)(Rt),c.PathType.FILL);Vt=(0,o.getCurrentTransform)(Rt),Rt.restore(),Rt.fillStyle=bn}let Jt=lt.lineWidth;const sn=lt.textMatrixScale;if(sn===0||Jt===0){const bn=lt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(bn===a.TextRenderingMode.STROKE||bn===a.TextRenderingMode.FILL_STROKE)&&(Jt=this.getSinglePixelWidth())}else Jt/=sn;if(Nt!==1&&(Rt.scale(Nt,Nt),Jt/=Nt),Rt.lineWidth=Jt,Et.isInvalidPDFjsFont){const bn=[];let en=0;for(const kn of st)bn.push(kn.unicode),en+=kn.width;Rt.fillText(bn.join(""),0,0),lt.x+=en*on*fn,Rt.restore(),this.compose();return}let pn=0,vn;for(vn=0;vn<yn;++vn){const bn=st[vn];if(typeof bn=="number"){pn+=xn*bn*Pt/1e3;continue}let en=!1;const kn=(bn.isSpace?nn:0)+Kt,Cn=bn.fontChar,Un=bn.accent;let Vn,$n,Dn=bn.width;if(wn){const Hn=bn.vmetric||rn,Kn=-(bn.vmetric?Hn[1]:Dn*.5)*on,En=Hn[2]*on;Dn=Hn?-Hn[0]:Dn,Vn=Kn/Nt,$n=(pn+En)/Nt}else Vn=pn/Nt,$n=0;if(Et.remeasure&&Dn>0){const Hn=Rt.measureText(Cn).width*1e3/Pt*Nt;if(Dn<Hn&&this.isFontSubpixelAAEnabled){const Kn=Dn/Hn;en=!0,Rt.save(),Rt.scale(Kn,1),Vn/=Kn}else Dn!==Hn&&(Vn+=(Dn-Hn)/2e3*Pt/Nt)}if(this.contentVisible&&(bn.isInFont||Et.missingFile)){if(Tt&&!Un)Rt.fillText(Cn,Vn,$n);else if(this.paintChar(Cn,Vn,$n,Vt),Un){const Hn=Vn+Pt*Un.offset.x/Nt,Kn=$n-Pt*Un.offset.y/Nt;this.paintChar(Un.fontChar,Hn,Kn,Vt)}}const On=wn?Dn*on-kn*un:Dn*on+kn*un;pn+=On,en&&Rt.restore()}wn?lt.y-=pn:lt.x+=pn*fn,Rt.restore(),this.compose()}showType3Text(st){const lt=this.ctx,Et=this.current,Pt=Et.font,Rt=Et.fontSize,Nt=Et.fontDirection,Kt=Pt.vertical?1:-1,nn=Et.charSpacing,un=Et.wordSpacing,fn=Et.textHScale*Nt,yn=Et.fontMatrix||a.FONT_IDENTITY_MATRIX,wn=st.length,xn=Et.textRenderingMode===a.TextRenderingMode.INVISIBLE;let rn,on,Tt,Vt;if(!(xn||Rt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,lt.save(),lt.transform(...Et.textMatrix),lt.translate(Et.x,Et.y),lt.scale(fn,Nt),rn=0;rn<wn;++rn){if(on=st[rn],typeof on=="number"){Vt=Kt*on*Rt/1e3,this.ctx.translate(Vt,0),Et.x+=Vt*fn;continue}const Jt=(on.isSpace?un:0)+nn,sn=Pt.charProcOperatorList[on.operatorListId];if(!sn){(0,a.warn)(`Type3 character "${on.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=on,this.save(),lt.scale(Rt,Rt),lt.transform(...yn),this.executeOperatorList(sn),this.restore()),Tt=a.Util.applyTransform([on.width,0],yn)[0]*Rt+Jt,lt.translate(Tt,0),Et.x+=Tt*fn}lt.restore(),this.processingType3=null}}setCharWidth(st,lt){}setCharWidthAndBounds(st,lt,Et,Pt,Rt,Nt){this.ctx.rect(Et,Pt,Rt-Et,Nt-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(st){let lt;if(st[0]==="TilingPattern"){const Et=st[1],Pt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),Rt={createCanvasGraphics:Nt=>new Lt(Nt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};lt=new c.TilingPattern(st,Et,this.ctx,Rt,Pt)}else lt=this._getPattern(st[1],st[2]);return lt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(st,lt,Et){const Pt=a.Util.makeHexColor(st,lt,Et);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(st,lt,Et){const Pt=a.Util.makeHexColor(st,lt,Et);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(st,lt=null){let Et;return this.cachedPatterns.has(st)?Et=this.cachedPatterns.get(st):(Et=(0,c.getShadingPattern)(this.getObject(st)),this.cachedPatterns.set(st,Et)),lt&&(Et.matrix=lt),Et}shadingFill(st){if(!this.contentVisible)return;const lt=this.ctx;this.save();const Et=this._getPattern(st);lt.fillStyle=Et.getPattern(lt,this,(0,o.getCurrentTransformInverse)(lt),c.PathType.SHADING);const Pt=(0,o.getCurrentTransformInverse)(lt);if(Pt){const{width:Rt,height:Nt}=lt.canvas,[Kt,nn,un,fn]=a.Util.getAxialAlignedBoundingBox([0,0,Rt,Nt],Pt);this.ctx.fillRect(Kt,nn,un-Kt,fn-nn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(st,lt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(st)&&st.length===6&&this.transform(...st),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),lt)){const Et=lt[2]-lt[0],Pt=lt[3]-lt[1];this.ctx.rect(lt[0],lt[1],Et,Pt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),lt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(st){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const lt=this.ctx;st.isolated||(0,a.info)("TODO: Support non-isolated groups."),st.knockout&&(0,a.warn)("Knockout groups not supported.");const Et=(0,o.getCurrentTransform)(lt);if(st.matrix&&lt.transform(...st.matrix),!st.bbox)throw new Error("Bounding box is required.");let Pt=a.Util.getAxialAlignedBoundingBox(st.bbox,(0,o.getCurrentTransform)(lt));const Rt=[0,0,lt.canvas.width,lt.canvas.height];Pt=a.Util.intersect(Pt,Rt)||[0,0,0,0];const Nt=Math.floor(Pt[0]),Kt=Math.floor(Pt[1]);let nn=Math.max(Math.ceil(Pt[2])-Nt,1),un=Math.max(Math.ceil(Pt[3])-Kt,1),fn=1,yn=1;nn>b&&(fn=nn/b,nn=b),un>b&&(yn=un/b,un=b),this.current.startNewPathAndClipBox([0,0,nn,un]);let wn="groupAt"+this.groupLevel;st.smask&&(wn+="_smask_"+this.smaskCounter++%2);const xn=this.cachedCanvases.getCanvas(wn,nn,un),rn=xn.context;rn.scale(1/fn,1/yn),rn.translate(-Nt,-Kt),rn.transform(...Et),st.smask?this.smaskStack.push({canvas:xn.canvas,context:rn,offsetX:Nt,offsetY:Kt,scaleX:fn,scaleY:yn,subtype:st.smask.subtype,backdrop:st.smask.backdrop,transferMap:st.smask.transferMap||null,startTransformInverse:null}):(lt.setTransform(1,0,0,1,0,0),lt.translate(Nt,Kt),lt.scale(fn,yn),lt.save()),ot(lt,rn),this.ctx=rn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(lt),this.groupLevel++}endGroup(st){if(!this.contentVisible)return;this.groupLevel--;const lt=this.ctx,Et=this.groupStack.pop();if(this.ctx=Et,this.ctx.imageSmoothingEnabled=!1,st.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const Rt=a.Util.getAxialAlignedBoundingBox([0,0,lt.canvas.width,lt.canvas.height],Pt);this.ctx.drawImage(lt.canvas,0,0),this.ctx.restore(),this.compose(Rt)}}beginAnnotation(st,lt,Et,Pt,Rt){if(Xt(this,zt,Rs).call(this),pt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(lt)&&lt.length===4){const Nt=lt[2]-lt[0],Kt=lt[3]-lt[1];if(Rt&&this.annotationCanvasMap){Et=Et.slice(),Et[4]-=lt[0],Et[5]-=lt[1],lt=lt.slice(),lt[0]=lt[1]=0,lt[2]=Nt,lt[3]=Kt;const[nn,un]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:fn}=this,yn=Math.ceil(Nt*this.outputScaleX*fn),wn=Math.ceil(Kt*this.outputScaleY*fn);this.annotationCanvas=this.canvasFactory.create(yn,wn);const{canvas:xn,context:rn}=this.annotationCanvas;this.annotationCanvasMap.set(st,xn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rn,this.ctx.save(),this.ctx.setTransform(nn,0,0,-un,0,Kt*un),pt(this.ctx)}else pt(this.ctx),this.ctx.rect(lt[0],lt[1],Nt,Kt),this.ctx.clip(),this.endPath()}this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Et),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Xt(this,zt,Ts).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(st){if(!this.contentVisible)return;const lt=st.count;st=this.getObject(st.data,st),st.count=lt;const Et=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=nt(st)),Pt.compiled)){Pt.compiled(Et);return}const Rt=this._createMaskCanvas(st),Nt=Rt.canvas;Et.save(),Et.setTransform(1,0,0,1,0,0),Et.drawImage(Nt,Rt.offsetX,Rt.offsetY),Et.restore(),this.compose()}paintImageMaskXObjectRepeat(st,lt,Et=0,Pt=0,Rt,Nt){if(!this.contentVisible)return;st=this.getObject(st.data,st);const Kt=this.ctx;Kt.save();const nn=(0,o.getCurrentTransform)(Kt);Kt.transform(lt,Et,Pt,Rt,0,0);const un=this._createMaskCanvas(st);Kt.setTransform(1,0,0,1,un.offsetX-nn[4],un.offsetY-nn[5]);for(let fn=0,yn=Nt.length;fn<yn;fn+=2){const wn=a.Util.transform(nn,[lt,Et,Pt,Rt,Nt[fn],Nt[fn+1]]),[xn,rn]=a.Util.applyTransform([0,0],wn);Kt.drawImage(un.canvas,xn,rn)}Kt.restore(),this.compose()}paintImageMaskXObjectGroup(st){if(!this.contentVisible)return;const lt=this.ctx,Et=this.current.fillColor,Pt=this.current.patternFill;for(const Rt of st){const{data:Nt,width:Kt,height:nn,transform:un}=Rt,fn=this.cachedCanvases.getCanvas("maskCanvas",Kt,nn),yn=fn.context;yn.save();const wn=this.getObject(Nt,Rt);ht(yn,wn),yn.globalCompositeOperation="source-in",yn.fillStyle=Pt?Et.getPattern(yn,this,(0,o.getCurrentTransformInverse)(lt),c.PathType.FILL):Et,yn.fillRect(0,0,Kt,nn),yn.restore(),lt.save(),lt.transform(...un),lt.scale(1,-1),ut(lt,fn.canvas,0,0,Kt,nn,0,-1,1,1),lt.restore()}this.compose()}paintImageXObject(st){if(!this.contentVisible)return;const lt=this.getObject(st);if(!lt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(lt)}paintImageXObjectRepeat(st,lt,Et,Pt){if(!this.contentVisible)return;const Rt=this.getObject(st);if(!Rt){(0,a.warn)("Dependent image isn't ready yet");return}const Nt=Rt.width,Kt=Rt.height,nn=[];for(let un=0,fn=Pt.length;un<fn;un+=2)nn.push({transform:[lt,0,0,Et,Pt[un],Pt[un+1]],x:0,y:0,w:Nt,h:Kt});this.paintInlineImageXObjectGroup(Rt,nn)}applyTransferMapsToCanvas(st){return this.current.transferMaps!=="none"&&(st.filter=this.current.transferMaps,st.drawImage(st.canvas,0,0),st.filter="none"),st.canvas}applyTransferMapsToBitmap(st){if(this.current.transferMaps==="none")return st.bitmap;const{bitmap:lt,width:Et,height:Pt}=st,Rt=this.cachedCanvases.getCanvas("inlineImage",Et,Pt),Nt=Rt.context;return Nt.filter=this.current.transferMaps,Nt.drawImage(lt,0,0),Nt.filter="none",Rt.canvas}paintInlineImageXObject(st){if(!this.contentVisible)return;const lt=st.width,Et=st.height,Pt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Kt}=Pt;Kt!=="none"&&Kt!==""&&(Pt.filter="none")}Pt.scale(1/lt,-1/Et);let Rt;if(st.bitmap)Rt=this.applyTransferMapsToBitmap(st);else if(typeof HTMLElement=="function"&&st instanceof HTMLElement||!st.data)Rt=st;else{const nn=this.cachedCanvases.getCanvas("inlineImage",lt,Et).context;at(nn,st),Rt=this.applyTransferMapsToCanvas(nn)}const Nt=this._scaleImage(Rt,(0,o.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=Ct((0,o.getCurrentTransform)(Pt),st.interpolate),ut(Pt,Nt.img,0,0,Nt.paintWidth,Nt.paintHeight,0,-Et,lt,Et),this.compose(),this.restore()}paintInlineImageXObjectGroup(st,lt){if(!this.contentVisible)return;const Et=this.ctx;let Pt;if(st.bitmap)Pt=st.bitmap;else{const Rt=st.width,Nt=st.height,nn=this.cachedCanvases.getCanvas("inlineImage",Rt,Nt).context;at(nn,st),Pt=this.applyTransferMapsToCanvas(nn)}for(const Rt of lt)Et.save(),Et.transform(...Rt.transform),Et.scale(1,-1),ut(Et,Pt,Rt.x,Rt.y,Rt.w,Rt.h,0,-1,1,1),Et.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(st){}markPointProps(st,lt){}beginMarkedContent(st){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(st,lt){st==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(lt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(st){const lt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(st);const Et=this.ctx;this.pendingClip&&(lt||(this.pendingClip===Ht?Et.clip("evenodd"):Et.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Et.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const st=(0,o.getCurrentTransform)(this.ctx);if(st[1]===0&&st[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(st[0]),Math.abs(st[3]));else{const lt=Math.abs(st[0]*st[3]-st[2]*st[1]),Et=Math.hypot(st[0],st[2]),Pt=Math.hypot(st[1],st[3]);this._cachedGetSinglePixelWidth=Math.max(Et,Pt)/lt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:st}=this.current,{a:lt,b:Et,c:Pt,d:Rt}=this.ctx.getTransform();let Nt,Kt;if(Et===0&&Pt===0){const nn=Math.abs(lt),un=Math.abs(Rt);if(nn===un)if(st===0)Nt=Kt=1/nn;else{const fn=nn*st;Nt=Kt=fn<1?1/fn:1}else if(st===0)Nt=1/nn,Kt=1/un;else{const fn=nn*st,yn=un*st;Nt=fn<1?1/fn:1,Kt=yn<1?1/yn:1}}else{const nn=Math.abs(lt*Rt-Et*Pt),un=Math.hypot(lt,Et),fn=Math.hypot(Pt,Rt);if(st===0)Nt=fn/nn,Kt=un/nn;else{const yn=st*nn;Nt=fn>yn?fn/yn:1,Kt=un>yn?un/yn:1}}this._cachedScaleForStroking[0]=Nt,this._cachedScaleForStroking[1]=Kt}return this._cachedScaleForStroking}rescaleAndStroke(st){const{ctx:lt}=this,{lineWidth:Et}=this.current,[Pt,Rt]=this.getScaleForStroking();if(lt.lineWidth=Et||1,Pt===1&&Rt===1){lt.stroke();return}const Nt=lt.getLineDash();if(st&&lt.save(),lt.scale(Pt,Rt),Nt.length>0){const Kt=Math.max(Pt,Rt);lt.setLineDash(Nt.map(nn=>nn/Kt)),lt.lineDashOffset/=Kt}lt.stroke(),st&&lt.restore()}isContentVisible(){for(let st=this.markedContentStack.length-1;st>=0;st--)if(!this.markedContentStack[st].visible)return!1;return!0}};zt=new WeakSet,Rs=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ts=function(){if(this.pageColors){const st=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(st!=="none"){const lt=this.ctx.filter;this.ctx.filter=st,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=lt}}};let Ut=Lt;s.CanvasGraphics=Ut;for(const St in a.OPS)Ut.prototype[St]!==void 0&&(Ut.prototype[a.OPS[St]]=Ut.prototype[St])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=_e;var a=i(1),o=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(nt,et){if(!et)return;const at=et[2]-et[0],ht=et[3]-et[1],ot=new Path2D;ot.rect(et[0],et[1],at,ht),nt.clip(ot)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class h extends g{constructor(et){super(),this._type=et[1],this._bbox=et[2],this._colorStops=et[3],this._p0=et[4],this._p1=et[5],this._r0=et[6],this._r1=et[7],this.matrix=null}_createGradient(et){let at;this._type==="axial"?at=et.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(at=et.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ht of this._colorStops)at.addColorStop(ht[0],ht[1]);return at}getPattern(et,at,ht,ot){let pt;if(ot===c.STROKE||ot===c.FILL){const dt=at.current.getClippedPathBoundingBox(ot,(0,o.getCurrentTransform)(et))||[0,0,0,0],ft=Math.ceil(dt[2]-dt[0])||1,gt=Math.ceil(dt[3]-dt[1])||1,kt=at.cachedCanvases.getCanvas("pattern",ft,gt,!0),mt=kt.context;mt.clearRect(0,0,mt.canvas.width,mt.canvas.height),mt.beginPath(),mt.rect(0,0,mt.canvas.width,mt.canvas.height),mt.translate(-dt[0],-dt[1]),ht=a.Util.transform(ht,[1,0,0,1,dt[0],dt[1]]),mt.transform(...at.baseTransform),this.matrix&&mt.transform(...this.matrix),d(mt,this._bbox),mt.fillStyle=this._createGradient(mt),mt.fill(),pt=et.createPattern(kt.canvas,"no-repeat");const Ct=new DOMMatrix(ht);pt.setTransform(Ct)}else d(et,this._bbox),pt=this._createGradient(et);return pt}}function b(nt,et,at,ht,ot,pt,dt,ft){const gt=et.coords,kt=et.colors,mt=nt.data,Ct=nt.width*4;let Dt;gt[at+1]>gt[ht+1]&&(Dt=at,at=ht,ht=Dt,Dt=pt,pt=dt,dt=Dt),gt[ht+1]>gt[ot+1]&&(Dt=ht,ht=ot,ot=Dt,Dt=dt,dt=ft,ft=Dt),gt[at+1]>gt[ht+1]&&(Dt=at,at=ht,ht=Dt,Dt=pt,pt=dt,dt=Dt);const Zt=(gt[at]+et.offsetX)*et.scaleX,$t=(gt[at+1]+et.offsetY)*et.scaleY,Ht=(gt[ht]+et.offsetX)*et.scaleX,Ut=(gt[ht+1]+et.offsetY)*et.scaleY,zt=(gt[ot]+et.offsetX)*et.scaleX,xt=(gt[ot+1]+et.offsetY)*et.scaleY;if($t>=xt)return;const At=kt[pt],Lt=kt[pt+1],St=kt[pt+2],st=kt[dt],lt=kt[dt+1],Et=kt[dt+2],Pt=kt[ft],Rt=kt[ft+1],Nt=kt[ft+2],Kt=Math.round($t),nn=Math.round(xt);let un,fn,yn,wn,xn,rn,on,Tt;for(let Vt=Kt;Vt<=nn;Vt++){if(Vt<Ut){const bn=Vt<$t?0:($t-Vt)/($t-Ut);un=Zt-(Zt-Ht)*bn,fn=At-(At-st)*bn,yn=Lt-(Lt-lt)*bn,wn=St-(St-Et)*bn}else{let bn;Vt>xt?bn=1:Ut===xt?bn=0:bn=(Ut-Vt)/(Ut-xt),un=Ht-(Ht-zt)*bn,fn=st-(st-Pt)*bn,yn=lt-(lt-Rt)*bn,wn=Et-(Et-Nt)*bn}let Jt;Vt<$t?Jt=0:Vt>xt?Jt=1:Jt=($t-Vt)/($t-xt),xn=Zt-(Zt-zt)*Jt,rn=At-(At-Pt)*Jt,on=Lt-(Lt-Rt)*Jt,Tt=St-(St-Nt)*Jt;const sn=Math.round(Math.min(un,xn)),pn=Math.round(Math.max(un,xn));let vn=Ct*Vt+sn*4;for(let bn=sn;bn<=pn;bn++)Jt=(un-bn)/(un-xn),Jt<0?Jt=0:Jt>1&&(Jt=1),mt[vn++]=fn-(fn-rn)*Jt|0,mt[vn++]=yn-(yn-on)*Jt|0,mt[vn++]=wn-(wn-Tt)*Jt|0,mt[vn++]=255}}function _(nt,et,at){const ht=et.coords,ot=et.colors;let pt,dt;switch(et.type){case"lattice":const ft=et.verticesPerRow,gt=Math.floor(ht.length/ft)-1,kt=ft-1;for(pt=0;pt<gt;pt++){let mt=pt*ft;for(let Ct=0;Ct<kt;Ct++,mt++)b(nt,at,ht[mt],ht[mt+1],ht[mt+ft],ot[mt],ot[mt+1],ot[mt+ft]),b(nt,at,ht[mt+ft+1],ht[mt+1],ht[mt+ft],ot[mt+ft+1],ot[mt+1],ot[mt+ft])}break;case"triangles":for(pt=0,dt=ht.length;pt<dt;pt+=3)b(nt,at,ht[pt],ht[pt+1],ht[pt+2],ot[pt],ot[pt+1],ot[pt+2]);break;default:throw new Error("illegal figure")}}class j extends g{constructor(et){super(),this._coords=et[2],this._colors=et[3],this._figures=et[4],this._bounds=et[5],this._bbox=et[7],this._background=et[8],this.matrix=null}_createMeshCanvas(et,at,ht){const ft=Math.floor(this._bounds[0]),gt=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-ft,mt=Math.ceil(this._bounds[3])-gt,Ct=Math.min(Math.ceil(Math.abs(kt*et[0]*1.1)),3e3),Dt=Math.min(Math.ceil(Math.abs(mt*et[1]*1.1)),3e3),Zt=kt/Ct,$t=mt/Dt,Ht={coords:this._coords,colors:this._colors,offsetX:-ft,offsetY:-gt,scaleX:1/Zt,scaleY:1/$t},Ut=Ct+2*2,zt=Dt+2*2,xt=ht.getCanvas("mesh",Ut,zt,!1),At=xt.context,Lt=At.createImageData(Ct,Dt);if(at){const st=Lt.data;for(let lt=0,Et=st.length;lt<Et;lt+=4)st[lt]=at[0],st[lt+1]=at[1],st[lt+2]=at[2],st[lt+3]=255}for(const st of this._figures)_(Lt,st,Ht);return At.putImageData(Lt,2,2),{canvas:xt.canvas,offsetX:ft-2*Zt,offsetY:gt-2*$t,scaleX:Zt,scaleY:$t}}getPattern(et,at,ht,ot){d(et,this._bbox);let pt;if(ot===c.SHADING)pt=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(et));else if(pt=a.Util.singularValueDecompose2dScale(at.baseTransform),this.matrix){const ft=a.Util.singularValueDecompose2dScale(this.matrix);pt=[pt[0]*ft[0],pt[1]*ft[1]]}const dt=this._createMeshCanvas(pt,ot===c.SHADING?null:this._background,at.cachedCanvases);return ot!==c.SHADING&&(et.setTransform(...at.baseTransform),this.matrix&&et.transform(...this.matrix)),et.translate(dt.offsetX,dt.offsetY),et.scale(dt.scaleX,dt.scaleY),et.createPattern(dt.canvas,"no-repeat")}}class rt extends g{getPattern(){return"hotpink"}}function _e(nt){switch(nt[0]){case"RadialAxial":return new h(nt);case"Mesh":return new j(nt);case"Dummy":return new rt}throw new Error(`Unknown IR type: ${nt[0]}`)}const ct={COLORED:1,UNCOLORED:2},ut=class ut{constructor(et,at,ht,ot,pt){this.operatorList=et[2],this.matrix=et[3]||[1,0,0,1,0,0],this.bbox=et[4],this.xstep=et[5],this.ystep=et[6],this.paintType=et[7],this.tilingType=et[8],this.color=at,this.ctx=ht,this.canvasGraphicsFactory=ot,this.baseTransform=pt}createPatternCanvas(et){const at=this.operatorList,ht=this.bbox,ot=this.xstep,pt=this.ystep,dt=this.paintType,ft=this.tilingType,gt=this.color,kt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+ft);const mt=ht[0],Ct=ht[1],Dt=ht[2],Zt=ht[3],$t=a.Util.singularValueDecompose2dScale(this.matrix),Ht=a.Util.singularValueDecompose2dScale(this.baseTransform),Ut=[$t[0]*Ht[0],$t[1]*Ht[1]],zt=this.getSizeAndScale(ot,this.ctx.canvas.width,Ut[0]),xt=this.getSizeAndScale(pt,this.ctx.canvas.height,Ut[1]),At=et.cachedCanvases.getCanvas("pattern",zt.size,xt.size,!0),Lt=At.context,St=kt.createCanvasGraphics(Lt);St.groupLevel=et.groupLevel,this.setFillAndStrokeStyleToContext(St,dt,gt);let st=mt,lt=Ct,Et=Dt,Pt=Zt;return mt<0&&(st=0,Et+=Math.abs(mt)),Ct<0&&(lt=0,Pt+=Math.abs(Ct)),Lt.translate(-(zt.scale*st),-(xt.scale*lt)),St.transform(zt.scale,0,0,xt.scale,0,0),Lt.save(),this.clipBbox(St,st,lt,Et,Pt),St.baseTransform=(0,o.getCurrentTransform)(St.ctx),St.executeOperatorList(at),St.endDrawing(),{canvas:At.canvas,scaleX:zt.scale,scaleY:xt.scale,offsetX:st,offsetY:lt}}getSizeAndScale(et,at,ht){et=Math.abs(et);const ot=Math.max(ut.MAX_PATTERN_SIZE,at);let pt=Math.ceil(et*ht);return pt>=ot?pt=ot:ht=pt/et,{scale:ht,size:pt}}clipBbox(et,at,ht,ot,pt){const dt=ot-at,ft=pt-ht;et.ctx.rect(at,ht,dt,ft),et.current.updateRectMinMax((0,o.getCurrentTransform)(et.ctx),[at,ht,ot,pt]),et.clip(),et.endPath()}setFillAndStrokeStyleToContext(et,at,ht){const ot=et.ctx,pt=et.current;switch(at){case ct.COLORED:const dt=this.ctx;ot.fillStyle=dt.fillStyle,ot.strokeStyle=dt.strokeStyle,pt.fillColor=dt.fillStyle,pt.strokeColor=dt.strokeStyle;break;case ct.UNCOLORED:const ft=a.Util.makeHexColor(ht[0],ht[1],ht[2]);ot.fillStyle=ft,ot.strokeStyle=ft,pt.fillColor=ft,pt.strokeColor=ft;break;default:throw new a.FormatError(`Unsupported paint type: ${at}`)}}getPattern(et,at,ht,ot){let pt=ht;ot!==c.SHADING&&(pt=a.Util.transform(pt,at.baseTransform),this.matrix&&(pt=a.Util.transform(pt,this.matrix)));const dt=this.createPatternCanvas(at);let ft=new DOMMatrix(pt);ft=ft.translate(dt.offsetX,dt.offsetY),ft=ft.scale(1/dt.scaleX,1/dt.scaleY);const gt=et.createPattern(dt.canvas,"repeat");return gt.setTransform(ft),gt}};Qn(ut,"MAX_PATTERN_SIZE",3e3);let it=ut;s.TilingPattern=it},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=o,s.grayToRGBA=g;var a=i(1);function o(h){switch(h.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(h);case a.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:b=0,dest:_,width:j,height:rt,nonBlackColor:_e=4294967295,inverseDecode:ct=!1}){const it=a.FeatureTest.isLittleEndian?4278190080:255,[ut,nt]=ct?[_e,it]:[it,_e],et=j>>3,at=j&7,ht=h.length;_=new Uint32Array(_.buffer);let ot=0;for(let pt=0;pt<rt;pt++){for(const ft=b+et;b<ft;b++){const gt=b<ht?h[b]:255;_[ot++]=gt&128?nt:ut,_[ot++]=gt&64?nt:ut,_[ot++]=gt&32?nt:ut,_[ot++]=gt&16?nt:ut,_[ot++]=gt&8?nt:ut,_[ot++]=gt&4?nt:ut,_[ot++]=gt&2?nt:ut,_[ot++]=gt&1?nt:ut}if(at===0)continue;const dt=b<ht?h[b++]:255;for(let ft=0;ft<at;ft++)_[ot++]=dt&1<<7-ft?nt:ut}return{srcPos:b,destPos:ot}}function d({src:h,srcPos:b=0,dest:_,destPos:j=0,width:rt,height:_e}){let ct=0;const it=h.length>>2,ut=new Uint32Array(h.buffer,b,it);if(a.FeatureTest.isLittleEndian){for(;ct<it-2;ct+=3,j+=4){const nt=ut[ct],et=ut[ct+1],at=ut[ct+2];_[j]=nt|4278190080,_[j+1]=nt>>>24|et<<8|4278190080,_[j+2]=et>>>16|at<<16|4278190080,_[j+3]=at>>>8|4278190080}for(let nt=ct*4,et=h.length;nt<et;nt+=3)_[j++]=h[nt]|h[nt+1]<<8|h[nt+2]<<16|4278190080}else{for(;ct<it-2;ct+=3,j+=4){const nt=ut[ct],et=ut[ct+1],at=ut[ct+2];_[j]=nt|255,_[j+1]=nt<<24|et>>>8|255,_[j+2]=et<<16|at>>>16|255,_[j+3]=at<<8|255}for(let nt=ct*4,et=h.length;nt<et;nt+=3)_[j++]=h[nt]<<24|h[nt+1]<<16|h[nt+2]<<8|255}return{srcPos:b,destPos:j}}function g(h,b){if(a.FeatureTest.isLittleEndian)for(let _=0,j=h.length;_<j;_++)b[_]=h[_]*65793|4278190080;else for(let _=0,j=h.length;_<j;_++)b[_]=h[_]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var h,oo,lo,ss;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=i(1);const o={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(rt){switch(rt instanceof Error||typeof rt=="object"&&rt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),rt.name){case"AbortException":return new a.AbortException(rt.message);case"MissingPDFException":return new a.MissingPDFException(rt.message);case"PasswordException":return new a.PasswordException(rt.message,rt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(rt.message,rt.status);case"UnknownErrorException":return new a.UnknownErrorException(rt.message,rt.details);default:return new a.UnknownErrorException(rt.message,rt.toString())}}class g{constructor(_e,ct,it){Qt(this,h);this.sourceName=_e,this.targetName=ct,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ut=>{const nt=ut.data;if(nt.targetName!==this.sourceName)return;if(nt.stream){Xt(this,h,lo).call(this,nt);return}if(nt.callback){const at=nt.callbackId,ht=this.callbackCapabilities[at];if(!ht)throw new Error(`Cannot resolve callback ${at}`);if(delete this.callbackCapabilities[at],nt.callback===o.DATA)ht.resolve(nt.data);else if(nt.callback===o.ERROR)ht.reject(d(nt.reason));else throw new Error("Unexpected callback case");return}const et=this.actionHandler[nt.action];if(!et)throw new Error(`Unknown action from worker: ${nt.action}`);if(nt.callbackId){const at=this.sourceName,ht=nt.sourceName;new Promise(function(ot){ot(et(nt.data))}).then(function(ot){it.postMessage({sourceName:at,targetName:ht,callback:o.DATA,callbackId:nt.callbackId,data:ot})},function(ot){it.postMessage({sourceName:at,targetName:ht,callback:o.ERROR,callbackId:nt.callbackId,reason:d(ot)})});return}if(nt.streamId){Xt(this,h,oo).call(this,nt);return}et(nt.data)},it.addEventListener("message",this._onComObjOnMessage)}on(_e,ct){const it=this.actionHandler;if(it[_e])throw new Error(`There is already an actionName called "${_e}"`);it[_e]=ct}send(_e,ct,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,data:ct},it)}sendWithPromise(_e,ct,it){const ut=this.callbackId++,nt=new a.PromiseCapability;this.callbackCapabilities[ut]=nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,callbackId:ut,data:ct},it)}catch(et){nt.reject(et)}return nt.promise}sendWithStream(_e,ct,it,ut){const nt=this.streamId++,et=this.sourceName,at=this.targetName,ht=this.comObj;return new ReadableStream({start:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[nt]={controller:ot,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},ht.postMessage({sourceName:et,targetName:at,action:_e,streamId:nt,data:ct,desiredSize:ot.desiredSize},ut),pt.promise},pull:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[nt].pullCall=pt,ht.postMessage({sourceName:et,targetName:at,stream:c.PULL,streamId:nt,desiredSize:ot.desiredSize}),pt.promise},cancel:ot=>{(0,a.assert)(ot instanceof Error,"cancel must have a valid reason");const pt=new a.PromiseCapability;return this.streamControllers[nt].cancelCall=pt,this.streamControllers[nt].isClosed=!0,ht.postMessage({sourceName:et,targetName:at,stream:c.CANCEL,streamId:nt,reason:d(ot)}),pt.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,oo=function(_e){const ct=_e.streamId,it=this.sourceName,ut=_e.sourceName,nt=this.comObj,et=this,at=this.actionHandler[_e.action],ht={enqueue(ot,pt=1,dt){if(this.isCancelled)return;const ft=this.desiredSize;this.desiredSize-=pt,ft>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),nt.postMessage({sourceName:it,targetName:ut,stream:c.ENQUEUE,streamId:ct,chunk:ot},dt)},close(){this.isCancelled||(this.isCancelled=!0,nt.postMessage({sourceName:it,targetName:ut,stream:c.CLOSE,streamId:ct}),delete et.streamSinks[ct])},error(ot){(0,a.assert)(ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,nt.postMessage({sourceName:it,targetName:ut,stream:c.ERROR,streamId:ct,reason:d(ot)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_e.desiredSize,ready:null};ht.sinkCapability.resolve(),ht.ready=ht.sinkCapability.promise,this.streamSinks[ct]=ht,new Promise(function(ot){ot(at(_e.data,ht))}).then(function(){nt.postMessage({sourceName:it,targetName:ut,stream:c.START_COMPLETE,streamId:ct,success:!0})},function(ot){nt.postMessage({sourceName:it,targetName:ut,stream:c.START_COMPLETE,streamId:ct,reason:d(ot)})})},lo=function(_e){const ct=_e.streamId,it=this.sourceName,ut=_e.sourceName,nt=this.comObj,et=this.streamControllers[ct],at=this.streamSinks[ct];switch(_e.stream){case c.START_COMPLETE:_e.success?et.startCall.resolve():et.startCall.reject(d(_e.reason));break;case c.PULL_COMPLETE:_e.success?et.pullCall.resolve():et.pullCall.reject(d(_e.reason));break;case c.PULL:if(!at){nt.postMessage({sourceName:it,targetName:ut,stream:c.PULL_COMPLETE,streamId:ct,success:!0});break}at.desiredSize<=0&&_e.desiredSize>0&&at.sinkCapability.resolve(),at.desiredSize=_e.desiredSize,new Promise(function(ht){var ot;ht((ot=at.onPull)==null?void 0:ot.call(at))}).then(function(){nt.postMessage({sourceName:it,targetName:ut,stream:c.PULL_COMPLETE,streamId:ct,success:!0})},function(ht){nt.postMessage({sourceName:it,targetName:ut,stream:c.PULL_COMPLETE,streamId:ct,reason:d(ht)})});break;case c.ENQUEUE:if((0,a.assert)(et,"enqueue should have stream controller"),et.isClosed)break;et.controller.enqueue(_e.chunk);break;case c.CLOSE:if((0,a.assert)(et,"close should have stream controller"),et.isClosed)break;et.isClosed=!0,et.controller.close(),Xt(this,h,ss).call(this,et,ct);break;case c.ERROR:(0,a.assert)(et,"error should have stream controller"),et.controller.error(d(_e.reason)),Xt(this,h,ss).call(this,et,ct);break;case c.CANCEL_COMPLETE:_e.success?et.cancelCall.resolve():et.cancelCall.reject(d(_e.reason)),Xt(this,h,ss).call(this,et,ct);break;case c.CANCEL:if(!at)break;new Promise(function(ht){var ot;ht((ot=at.onCancel)==null?void 0:ot.call(at,d(_e.reason)))}).then(function(){nt.postMessage({sourceName:it,targetName:ut,stream:c.CANCEL_COMPLETE,streamId:ct,success:!0})},function(ht){nt.postMessage({sourceName:it,targetName:ut,stream:c.CANCEL_COMPLETE,streamId:ct,reason:d(ht)})}),at.sinkCapability.reject(d(_e.reason)),at.isCancelled=!0,delete this.streamSinks[ct];break;default:throw new Error("Unexpected stream case")}},ss=async function(_e,ct){var it,ut,nt;await Promise.allSettled([(it=_e.startCall)==null?void 0:it.promise,(ut=_e.pullCall)==null?void 0:ut.promise,(nt=_e.cancelCall)==null?void 0:nt.promise]),delete this.streamControllers[ct]},s.MessageHandler=g},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=i(1);class o{constructor({parsedData:h,rawData:b}){Qt(this,c);Qt(this,d);qt(this,c,h),qt(this,d,b)}getRaw(){return $(this,d)}get(h){return $(this,c).get(h)??null}getAll(){return(0,a.objectFromMap)($(this,c))}has(h){return $(this,c).has(h)}}c=new WeakMap,d=new WeakMap,s.Metadata=o},(e,s,i)=>{var h,b,_,j,rt,_e,Ps;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=i(1),o=i(8);const c=Symbol("INTERNAL");class d{constructor(ut,nt){Qt(this,h,!0);this.name=ut,this.intent=nt}get visible(){return $(this,h)}_setVisible(ut,nt){ut!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),qt(this,h,nt)}}h=new WeakMap;class g{constructor(ut){Qt(this,_e);Qt(this,b,null);Qt(this,_,new Map);Qt(this,j,null);Qt(this,rt,null);if(this.name=null,this.creator=null,ut!==null){this.name=ut.name,this.creator=ut.creator,qt(this,rt,ut.order);for(const nt of ut.groups)$(this,_).set(nt.id,new d(nt.name,nt.intent));if(ut.baseState==="OFF")for(const nt of $(this,_).values())nt._setVisible(c,!1);for(const nt of ut.on)$(this,_).get(nt)._setVisible(c,!0);for(const nt of ut.off)$(this,_).get(nt)._setVisible(c,!1);qt(this,j,this.getHash())}}isVisible(ut){if($(this,_).size===0)return!0;if(!ut)return(0,a.warn)("Optional content group not defined."),!0;if(ut.type==="OCG")return $(this,_).has(ut.id)?$(this,_).get(ut.id).visible:((0,a.warn)(`Optional content group not found: ${ut.id}`),!0);if(ut.type==="OCMD"){if(ut.expression)return Xt(this,_e,Ps).call(this,ut.expression);if(!ut.policy||ut.policy==="AnyOn"){for(const nt of ut.ids){if(!$(this,_).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if($(this,_).get(nt).visible)return!0}return!1}else if(ut.policy==="AllOn"){for(const nt of ut.ids){if(!$(this,_).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!$(this,_).get(nt).visible)return!1}return!0}else if(ut.policy==="AnyOff"){for(const nt of ut.ids){if(!$(this,_).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!$(this,_).get(nt).visible)return!0}return!1}else if(ut.policy==="AllOff"){for(const nt of ut.ids){if(!$(this,_).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if($(this,_).get(nt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${ut.policy}.`),!0}return(0,a.warn)(`Unknown group type ${ut.type}.`),!0}setVisibility(ut,nt=!0){if(!$(this,_).has(ut)){(0,a.warn)(`Optional content group not found: ${ut}`);return}$(this,_).get(ut)._setVisible(c,!!nt),qt(this,b,null)}get hasInitialVisibility(){return $(this,j)===null||this.getHash()===$(this,j)}getOrder(){return $(this,_).size?$(this,rt)?$(this,rt).slice():[...$(this,_).keys()]:null}getGroups(){return $(this,_).size>0?(0,a.objectFromMap)($(this,_)):null}getGroup(ut){return $(this,_).get(ut)||null}getHash(){if($(this,b)!==null)return $(this,b);const ut=new o.MurmurHash3_64;for(const[nt,et]of $(this,_))ut.update(`${nt}:${et.visible}`);return qt(this,b,ut.hexdigest())}}b=new WeakMap,_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakSet,Ps=function(ut){const nt=ut.length;if(nt<2)return!0;const et=ut[0];for(let at=1;at<nt;at++){const ht=ut[at];let ot;if(Array.isArray(ht))ot=Xt(this,_e,Ps).call(this,ht);else if($(this,_).has(ht))ot=$(this,_).get(ht).visible;else return(0,a.warn)(`Optional content group not found: ${ht}`),!0;switch(et){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return et==="And"},s.OptionalContentConfig=g},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=i(1),o=i(6);class c{constructor({length:b,initialData:_,progressiveDone:j=!1,contentDispositionFilename:rt=null,disableRange:_e=!1,disableStream:ct=!1},it){if((0,a.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j,this._contentDispositionFilename=rt,(_==null?void 0:_.length)>0){const ut=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(ut)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!ct,this._isRangeSupported=!_e,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ut,nt)=>{this._onReceiveData({begin:ut,chunk:nt})}),this._pdfDataRangeTransport.addProgressListener((ut,nt)=>{this._onProgress({loaded:ut,total:nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(ut=>{this._onReceiveData({chunk:ut})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const j=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(j):this._queuedChunks.push(j);else{const rt=this._rangeReaders.some(function(_e){return _e._begin!==b?!1:(_e._enqueue(j),!0)});(0,a.assert)(rt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,j,rt,_e;b.total===void 0?(j=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||j.call(_,{loaded:b.loaded}):(_e=(rt=this._fullRequestReader)==null?void 0:rt.onProgress)==null||_e.call(rt,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const j=new g(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push(j),j}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const j of this._rangeReaders.slice(0))j.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(b,_,j=!1,rt=null){this._stream=b,this._done=j||!1,this._filename=(0,o.isPdfFile)(rt)?rt:null,this._queuedChunks=_||[],this._loaded=0;for(const _e of this._queuedChunks)this._loaded+=_e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(b,_,j){this._stream=b,this._begin=_,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=i(1),o=i(20);function c(j,rt,_e){return{method:"GET",headers:j,signal:_e.signal,mode:"cors",credentials:rt?"include":"same-origin",redirect:"follow"}}function d(j){const rt=new Headers;for(const _e in j){const ct=j[_e];ct!==void 0&&rt.append(_e,ct)}return rt}function g(j){return j instanceof Uint8Array?j.buffer:j instanceof ArrayBuffer?j:((0,a.warn)(`getArrayBuffer - unexpected data format: ${j}`),new Uint8Array(j).buffer)}class h{constructor(rt){this.source=rt,this.isHttp=/^https?:/i.test(rt.url),this.httpHeaders=this.isHttp&&rt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var rt;return((rt=this._fullRequestReader)==null?void 0:rt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(rt,_e){if(_e<=this._progressiveDataLength)return null;const ct=new _(this,rt,_e);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(rt){var _e;(_e=this._fullRequestReader)==null||_e.cancel(rt);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(rt)}}s.PDFFetchStream=h;class b{constructor(rt){this._stream=rt,this._reader=null,this._loaded=0,this._filename=null;const _e=rt.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=new a.PromiseCapability,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=d(this._stream.httpHeaders);const ct=_e.url;fetch(ct,c(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,o.validateResponseStatus)(it.status))throw(0,o.createResponseStatusError)(it.status,ct);this._reader=it.body.getReader(),this._headersCapability.resolve();const ut=at=>it.headers.get(at),{allowRangeRequests:nt,suggestedLength:et}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nt,this._contentLength=et||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(ut),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._headersCapability.promise;const{value:rt,done:_e}=await this._reader.read();return _e?{value:rt,done:_e}:(this._loaded+=rt.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(rt),done:!1})}cancel(rt){var _e;(_e=this._reader)==null||_e.cancel(rt),this._abortController.abort()}}class _{constructor(rt,_e,ct){this._stream=rt,this._reader=null,this._loaded=0;const it=rt.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${ct-1}`);const ut=it.url;fetch(ut,c(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,o.validateResponseStatus)(nt.status))throw(0,o.createResponseStatusError)(nt.status,ut);this._readCapability.resolve(),this._reader=nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._readCapability.promise;const{value:rt,done:_e}=await this._reader.read();return _e?{value:rt,done:_e}:(this._loaded+=rt.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded}),{value:g(rt),done:!1})}cancel(rt){var _e;(_e=this._reader)==null||_e.cancel(rt),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=h,s.extractFilenameFromHeader=g,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=b;var a=i(1),o=i(21),c=i(6);function d({getResponseHeader:_,isHttp:j,rangeChunkSize:rt,disableRange:_e}){const ct={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt(_("Content-Length"),10);return!Number.isInteger(it)||(ct.suggestedLength=it,it<=2*rt)||_e||!j||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(ct.allowRangeRequests=!0),ct}function g(_){const j=_("Content-Disposition");if(j){let rt=(0,o.getFilenameFromContentDispositionHeader)(j);if(rt.includes("%"))try{rt=decodeURIComponent(rt)}catch{}if((0,c.isPdfFile)(rt))return rt}return null}function h(_,j){return _===404||_===0&&j.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+j+'".'):new a.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${j}".`,_)}function b(_){return _===200||_===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=o;var a=i(1);function o(c){let d=!0,g=h("filename\\*","i").exec(c);if(g){g=g[1];let it=rt(g);return it=unescape(it),it=_e(it),it=ct(it),_(it)}if(g=j(c),g){const it=ct(g);return _(it)}if(g=h("filename","i").exec(c),g){g=g[1];let it=rt(g);return it=ct(it),_(it)}function h(it,ut){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ut)}function b(it,ut){if(it){if(!/^[\x00-\xFF]+$/.test(ut))return ut;try{const nt=new TextDecoder(it,{fatal:!0}),et=(0,a.stringToBytes)(ut);ut=nt.decode(et),d=!1}catch{}}return ut}function _(it){return d&&/[\x80-\xff]/.test(it)&&(it=b("utf-8",it),d&&(it=b("iso-8859-1",it))),it}function j(it){const ut=[];let nt;const et=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(nt=et.exec(it))!==null;){let[,ht,ot,pt]=nt;if(ht=parseInt(ht,10),ht in ut){if(ht===0)break;continue}ut[ht]=[ot,pt]}const at=[];for(let ht=0;ht<ut.length&&ht in ut;++ht){let[ot,pt]=ut[ht];pt=rt(pt),ot&&(pt=unescape(pt),ht===0&&(pt=_e(pt))),at.push(pt)}return at.join("")}function rt(it){if(it.startsWith('"')){const ut=it.slice(1).split('\\"');for(let nt=0;nt<ut.length;++nt){const et=ut[nt].indexOf('"');et!==-1&&(ut[nt]=ut[nt].slice(0,et),ut.length=nt+1),ut[nt]=ut[nt].replaceAll(/\\(.)/g,"$1")}it=ut.join('"')}return it}function _e(it){const ut=it.indexOf("'");if(ut===-1)return it;const nt=it.slice(0,ut),at=it.slice(ut+1).replace(/^[^']*'/,"");return b(nt,at)}function ct(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ut,nt,et,at){if(et==="q"||et==="Q")return at=at.replaceAll("_"," "),at=at.replaceAll(/=([0-9a-fA-F]{2})/g,function(ht,ot){return String.fromCharCode(parseInt(ot,16))}),b(nt,at);try{at=atob(at)}catch{}return b(nt,at)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=i(1),o=i(20);const c=200,d=206;function g(rt){const _e=rt.response;return typeof _e!="string"?_e:(0,a.stringToBytes)(_e).buffer}class h{constructor(_e,ct={}){this.url=_e,this.isHttp=/^https?:/i.test(_e),this.httpHeaders=this.isHttp&&ct.httpHeaders||Object.create(null),this.withCredentials=ct.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_e,ct,it){const ut={begin:_e,end:ct};for(const nt in it)ut[nt]=it[nt];return this.request(ut)}requestFull(_e){return this.request(_e)}request(_e){const ct=new XMLHttpRequest,it=this.currXhrId++,ut=this.pendingRequests[it]={xhr:ct};ct.open("GET",this.url),ct.withCredentials=this.withCredentials;for(const nt in this.httpHeaders){const et=this.httpHeaders[nt];et!==void 0&&ct.setRequestHeader(nt,et)}return this.isHttp&&"begin"in _e&&"end"in _e?(ct.setRequestHeader("Range",`bytes=${_e.begin}-${_e.end-1}`),ut.expectedStatus=d):ut.expectedStatus=c,ct.responseType="arraybuffer",_e.onError&&(ct.onerror=function(nt){_e.onError(ct.status)}),ct.onreadystatechange=this.onStateChange.bind(this,it),ct.onprogress=this.onProgress.bind(this,it),ut.onHeadersReceived=_e.onHeadersReceived,ut.onDone=_e.onDone,ut.onError=_e.onError,ut.onProgress=_e.onProgress,ct.send(null),it}onProgress(_e,ct){var ut;const it=this.pendingRequests[_e];it&&((ut=it.onProgress)==null||ut.call(it,ct))}onStateChange(_e,ct){var ht,ot,pt;const it=this.pendingRequests[_e];if(!it)return;const ut=it.xhr;if(ut.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),ut.readyState!==4||!(_e in this.pendingRequests))return;if(delete this.pendingRequests[_e],ut.status===0&&this.isHttp){(ht=it.onError)==null||ht.call(it,ut.status);return}const nt=ut.status||c;if(!(nt===c&&it.expectedStatus===d)&&nt!==it.expectedStatus){(ot=it.onError)==null||ot.call(it,ut.status);return}const at=g(ut);if(nt===d){const dt=ut.getResponseHeader("Content-Range"),ft=/bytes (\d+)-(\d+)\/(\d+)/.exec(dt);it.onDone({begin:parseInt(ft[1],10),chunk:at})}else at?it.onDone({begin:0,chunk:at}):(pt=it.onError)==null||pt.call(it,ut.status)}getRequestXhr(_e){return this.pendingRequests[_e].xhr}isPendingRequest(_e){return _e in this.pendingRequests}abortRequest(_e){const ct=this.pendingRequests[_e].xhr;delete this.pendingRequests[_e],ct.abort()}}class b{constructor(_e){this._source=_e,this._manager=new h(_e.url,{httpHeaders:_e.httpHeaders,withCredentials:_e.withCredentials}),this._rangeChunkSize=_e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_e){const ct=this._rangeRequestReaders.indexOf(_e);ct>=0&&this._rangeRequestReaders.splice(ct,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(_e,ct){const it=new j(this._manager,_e,ct);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(_e){var ct;(ct=this._fullRequestReader)==null||ct.cancel(_e);for(const it of this._rangeRequestReaders.slice(0))it.cancel(_e)}}s.PDFNetworkStream=b;class _{constructor(_e,ct){this._manager=_e;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ct.url,this._fullRequestId=_e.requestFull(it),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=ct.disableRange||!1,this._contentLength=ct.length,this._rangeChunkSize=ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _e=this._fullRequestId,ct=this._manager.getRequestXhr(_e),it=et=>ct.getResponseHeader(et),{allowRangeRequests:ut,suggestedLength:nt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ut&&(this._isRangeSupported=!0),this._contentLength=nt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(_e),this._headersReceivedCapability.resolve()}_onDone(_e){if(_e&&(this._requests.length>0?this._requests.shift().resolve({value:_e.chunk,done:!1}):this._cachedChunks.push(_e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_e){var ct;(ct=this.onProgress)==null||ct.call(this,{loaded:_e.loaded,total:_e.lengthComputable?_e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0,this._headersReceivedCapability.reject(_e);for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(_e,ct,it){this._manager=_e;const ut={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._requestId=_e.requestRange(ct,it,ut),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _e;(_e=this.onClosed)==null||_e.call(this,this)}_onDone(_e){const ct=_e.chunk;this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunk=ct,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_e){var ct;this.isStreamingSupported||(ct=this.onProgress)==null||ct.call(this,{loaded:_e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ct=this._queuedChunk;return this._queuedChunk=null,{value:ct,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=i(1),o=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(it){const ut=require$$5,nt=ut.parse(it);return nt.protocol==="file:"||nt.host?nt:/^[a-z]:[/\\]/i.test(it)?ut.parse(`file:///${it}`):(nt.host||(nt.protocol="file:"),nt)}class g{constructor(ut){this.source=ut,this.url=d(ut.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _e(this):new j(this),this._fullRequestReader}getRangeReader(ut,nt){if(nt<=this._progressiveDataLength)return null;const et=this.isFsUrl?new ct(this,ut,nt):new rt(this,ut,nt);return this._rangeRequestReaders.push(et),et}cancelAllRequests(ut){var nt;(nt=this._fullRequestReader)==null||nt.cancel(ut);for(const et of this._rangeRequestReaders.slice(0))et.cancel(ut)}}s.PDFNodeStream=g;class h{constructor(ut){this._url=ut.url,this._done=!1,this._storedError=null,this.onProgress=null;const nt=ut.source;this._contentLength=nt.length,this._loaded=0,this._filename=null,this._disableRange=nt.disableRange||!1,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ut=this._readableStream.read();return ut===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=ut.length,(et=this.onProgress)==null||et.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ut).buffer,done:!1})}cancel(ut){if(!this._readableStream){this._error(ut);return}this._readableStream.destroy(ut)}_error(ut){this._storedError=ut,this._readCapability.resolve()}_setReadableStream(ut){this._readableStream=ut,ut.on("readable",()=>{this._readCapability.resolve()}),ut.on("end",()=>{ut.destroy(),this._done=!0,this._readCapability.resolve()}),ut.on("error",nt=>{this._error(nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(ut){this._url=ut.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const nt=ut.source;this._isStreamingSupported=!nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ut=this._readableStream.read();return ut===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=ut.length,(et=this.onProgress)==null||et.call(this,{loaded:this._loaded}),{value:new Uint8Array(ut).buffer,done:!1})}cancel(ut){if(!this._readableStream){this._error(ut);return}this._readableStream.destroy(ut)}_error(ut){this._storedError=ut,this._readCapability.resolve()}_setReadableStream(ut){this._readableStream=ut,ut.on("readable",()=>{this._readCapability.resolve()}),ut.on("end",()=>{ut.destroy(),this._done=!0,this._readCapability.resolve()}),ut.on("error",nt=>{this._error(nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(it,ut){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:ut}}class j extends h{constructor(ut){super(ut);const nt=et=>{if(et.statusCode===404){const pt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt,this._headersCapability.reject(pt);return}this._headersCapability.resolve(),this._setReadableStream(et);const at=pt=>this._readableStream.headers[pt.toLowerCase()],{allowRangeRequests:ht,suggestedLength:ot}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:at,isHttp:ut.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ht,this._contentLength=ot||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(at)};if(this._request=null,this._url.protocol==="http:"){const et=require$$5;this._request=et.request(_(this._url,ut.httpHeaders),nt)}else{const et=require$$5;this._request=et.request(_(this._url,ut.httpHeaders),nt)}this._request.on("error",et=>{this._storedError=et,this._headersCapability.reject(et)}),this._request.end()}}class rt extends b{constructor(ut,nt,et){super(ut),this._httpHeaders={};for(const ht in ut.httpHeaders){const ot=ut.httpHeaders[ht];ot!==void 0&&(this._httpHeaders[ht]=ot)}this._httpHeaders.Range=`bytes=${nt}-${et-1}`;const at=ht=>{if(ht.statusCode===404){const ot=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(ht)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(_(this._url,this._httpHeaders),at)}else{const ht=require$$5;this._request=ht.request(_(this._url,this._httpHeaders),at)}this._request.on("error",ht=>{this._storedError=ht}),this._request.end()}}class _e extends h{constructor(ut){super(ut);let nt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(nt=nt.replace(/^\//,""));const et=require$$5;et.lstat(nt,(at,ht)=>{if(at){at.code==="ENOENT"&&(at=new a.MissingPDFException(`Missing PDF "${nt}".`)),this._storedError=at,this._headersCapability.reject(at);return}this._contentLength=ht.size,this._setReadableStream(et.createReadStream(nt)),this._headersCapability.resolve()})}}class ct extends b{constructor(ut,nt,et){super(ut);let at=decodeURIComponent(this._url.path);c.test(this._url.href)&&(at=at.replace(/^\//,""));const ht=require$$5;this._setReadableStream(ht.createReadStream(at,{start:nt,end:et-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=i(6),o=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",h=["butt","round","square"],b=["miter","round","bevel"],_=function(ht,ot="",pt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pt)return URL.createObjectURL(new Blob([ht],{type:ot}));const dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ft=`data:${ot};base64,`;for(let gt=0,kt=ht.length;gt<kt;gt+=3){const mt=ht[gt]&255,Ct=ht[gt+1]&255,Dt=ht[gt+2]&255,Zt=mt>>2,$t=(mt&3)<<4|Ct>>4,Ht=gt+1<kt?(Ct&15)<<2|Dt>>6:64,Ut=gt+2<kt?Dt&63:64;ft+=dt[Zt]+dt[$t]+dt[Ht]+dt[Ut]}return ft},j=function(){const ht=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,pt=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let Zt=Dt;for(let $t=0;$t<8;$t++)Zt=Zt&1?3988292384^Zt>>1&2147483647:Zt>>1&2147483647;pt[Dt]=Zt}function dt(Dt,Zt,$t){let Ht=-1;for(let Ut=Zt;Ut<$t;Ut++){const zt=(Ht^Dt[Ut])&255,xt=pt[zt];Ht=Ht>>>8^xt}return Ht^-1}function ft(Dt,Zt,$t,Ht){let Ut=Ht;const zt=Zt.length;$t[Ut]=zt>>24&255,$t[Ut+1]=zt>>16&255,$t[Ut+2]=zt>>8&255,$t[Ut+3]=zt&255,Ut+=4,$t[Ut]=Dt.charCodeAt(0)&255,$t[Ut+1]=Dt.charCodeAt(1)&255,$t[Ut+2]=Dt.charCodeAt(2)&255,$t[Ut+3]=Dt.charCodeAt(3)&255,Ut+=4,$t.set(Zt,Ut),Ut+=Zt.length;const xt=dt($t,Ht+4,Ut);$t[Ut]=xt>>24&255,$t[Ut+1]=xt>>16&255,$t[Ut+2]=xt>>8&255,$t[Ut+3]=xt&255}function gt(Dt,Zt,$t){let Ht=1,Ut=0;for(let zt=Zt;zt<$t;++zt)Ht=(Ht+(Dt[zt]&255))%65521,Ut=(Ut+Ht)%65521;return Ut<<16|Ht}function kt(Dt){if(!o.isNodeJS)return mt(Dt);try{const Zt=parseInt(process.versions.node)>=8?Dt:Buffer.from(Dt),$t=require$$5.deflateSync(Zt,{level:9});return $t instanceof Uint8Array?$t:new Uint8Array($t)}catch(Zt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Zt)}return mt(Dt)}function mt(Dt){let Zt=Dt.length;const $t=65535,Ht=Math.ceil(Zt/$t),Ut=new Uint8Array(2+Zt+Ht*5+4);let zt=0;Ut[zt++]=120,Ut[zt++]=156;let xt=0;for(;Zt>$t;)Ut[zt++]=0,Ut[zt++]=255,Ut[zt++]=255,Ut[zt++]=0,Ut[zt++]=0,Ut.set(Dt.subarray(xt,xt+$t),zt),zt+=$t,xt+=$t,Zt-=$t;Ut[zt++]=1,Ut[zt++]=Zt&255,Ut[zt++]=Zt>>8&255,Ut[zt++]=~Zt&65535&255,Ut[zt++]=(~Zt&65535)>>8&255,Ut.set(Dt.subarray(xt),zt),zt+=Dt.length-xt;const At=gt(Dt,0,Dt.length);return Ut[zt++]=At>>24&255,Ut[zt++]=At>>16&255,Ut[zt++]=At>>8&255,Ut[zt++]=At&255,Ut}function Ct(Dt,Zt,$t,Ht){const Ut=Dt.width,zt=Dt.height;let xt,At,Lt;const St=Dt.data;switch(Zt){case o.ImageKind.GRAYSCALE_1BPP:At=0,xt=1,Lt=Ut+7>>3;break;case o.ImageKind.RGB_24BPP:At=2,xt=8,Lt=Ut*3;break;case o.ImageKind.RGBA_32BPP:At=6,xt=8,Lt=Ut*4;break;default:throw new Error("invalid format")}const st=new Uint8Array((1+Lt)*zt);let lt=0,Et=0;for(let un=0;un<zt;++un)st[lt++]=0,st.set(St.subarray(Et,Et+Lt),lt),Et+=Lt,lt+=Lt;if(Zt===o.ImageKind.GRAYSCALE_1BPP&&Ht){lt=0;for(let un=0;un<zt;un++){lt++;for(let fn=0;fn<Lt;fn++)st[lt++]^=255}}const Pt=new Uint8Array([Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,zt>>24&255,zt>>16&255,zt>>8&255,zt&255,xt,At,0,0,0]),Rt=kt(st),Nt=ht.length+ot*3+Pt.length+Rt.length,Kt=new Uint8Array(Nt);let nn=0;return Kt.set(ht,nn),nn+=ht.length,ft("IHDR",Pt,Kt,nn),nn+=ot+Pt.length,ft("IDATA",Rt,Kt,nn),nn+=ot+Rt.length,ft("IEND",new Uint8Array(0),Kt,nn),_(Kt,"image/png",$t)}return function(Zt,$t,Ht){const Ut=Zt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:Zt.kind;return Ct(Zt,Ut,$t,Ht)}}();class rt{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,pt){this.x=ot,this.y=pt}}function _e(ht){let ot=[];const pt=[];for(const dt of ht){if(dt.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),pt.push(ot),ot=ot.at(-1).items;continue}dt.fn==="restore"?ot=pt.pop():ot.push(dt)}return ot}function ct(ht){if(Number.isInteger(ht))return ht.toString();const ot=ht.toFixed(10);let pt=ot.length-1;if(ot[pt]!=="0")return ot;do pt--;while(ot[pt]==="0");return ot.substring(0,ot[pt]==="."?pt:pt+1)}function it(ht){if(ht[4]===0&&ht[5]===0){if(ht[1]===0&&ht[2]===0)return ht[0]===1&&ht[3]===1?"":`scale(${ct(ht[0])} ${ct(ht[3])})`;if(ht[0]===ht[3]&&ht[1]===-ht[2]){const ot=Math.acos(ht[0])*180/Math.PI;return`rotate(${ct(ot)})`}}else if(ht[0]===1&&ht[1]===0&&ht[2]===0&&ht[3]===1)return`translate(${ct(ht[4])} ${ct(ht[5])})`;return`matrix(${ct(ht[0])} ${ct(ht[1])} ${ct(ht[2])} ${ct(ht[3])} ${ct(ht[4])} ${ct(ht[5])})`}let ut=0,nt=0,et=0;class at{constructor(ot,pt,dt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new rt,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=pt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!dt,this._operatorIdMapping=[];for(const ft in o.OPS)this._operatorIdMapping[o.OPS[ft]]=ft}getObject(ot,pt=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):pt}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const pt=ot.fnArray,dt=ot.argsArray;for(let ft=0,gt=pt.length;ft<gt;ft++)if(pt[ft]===o.OPS.dependency)for(const kt of dt[ft]){const mt=kt.startsWith("g_")?this.commonObjs:this.objs,Ct=new Promise(Dt=>{mt.get(kt,Dt)});this.current.dependencies.push(Ct)}return Promise.all(this.current.dependencies)}transform(ot,pt,dt,ft,gt,kt){const mt=[ot,pt,dt,ft,gt,kt];this.transformMatrix=o.Util.transform(this.transformMatrix,mt),this.tgrp=null}getSVG(ot,pt){this.viewport=pt;const dt=this._initialize(pt);return this.loadDependencies(ot).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),dt))}convertOpList(ot){const pt=this._operatorIdMapping,dt=ot.argsArray,ft=ot.fnArray,gt=[];for(let kt=0,mt=ft.length;kt<mt;kt++){const Ct=ft[kt];gt.push({fnId:Ct,fn:pt[Ct],args:dt[kt]})}return _e(gt)}executeOpTree(ot){for(const pt of ot){const dt=pt.fn,ft=pt.fnId,gt=pt.args;switch(ft|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(gt);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(gt[0],gt[1]);break;case o.OPS.setFont:this.setFont(gt);break;case o.OPS.showText:this.showText(gt[0]);break;case o.OPS.showSpacedText:this.showText(gt[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(gt[0],gt[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(gt[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(gt[0]);break;case o.OPS.setHScale:this.setHScale(gt[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]);break;case o.OPS.setTextRise:this.setTextRise(gt[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(gt[0]);break;case o.OPS.setLineWidth:this.setLineWidth(gt[0]);break;case o.OPS.setLineJoin:this.setLineJoin(gt[0]);break;case o.OPS.setLineCap:this.setLineCap(gt[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(gt[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(gt[0],gt[1],gt[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(gt[0],gt[1],gt[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(gt);break;case o.OPS.setFillColorN:this.setFillColorN(gt);break;case o.OPS.shadingFill:this.shadingFill(gt[0]);break;case o.OPS.setDash:this.setDash(gt[0],gt[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(gt[0]);break;case o.OPS.setFlatness:this.setFlatness(gt[0]);break;case o.OPS.setGState:this.setGState(gt[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(gt[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(gt[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(gt[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(gt[0],gt[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]);break;case o.OPS.constructPath:this.constructPath(gt[0],gt[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(pt.items);break;default:(0,o.warn)(`Unimplemented operator ${dt}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,pt,dt,ft,gt,kt){const mt=this.current;mt.textMatrix=mt.lineMatrix=[ot,pt,dt,ft,gt,kt],mt.textMatrixScale=Math.hypot(ot,pt),mt.x=mt.lineX=0,mt.y=mt.lineY=0,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${ct(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",ct(-mt.y)),mt.txtElement=this.svgFactory.createElement("svg:text"),mt.txtElement.append(mt.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=o.IDENTITY_MATRIX,ot.lineMatrix=o.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,pt){const dt=this.current;dt.x=dt.lineX+=ot,dt.y=dt.lineY+=pt,dt.xcoords=[],dt.ycoords=[],dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${ct(dt.fontSize)}px`),dt.tspan.setAttributeNS(null,"y",ct(-dt.y))}showText(ot){const pt=this.current,dt=pt.font,ft=pt.fontSize;if(ft===0)return;const gt=pt.fontSizeScale,kt=pt.charSpacing,mt=pt.wordSpacing,Ct=pt.fontDirection,Dt=pt.textHScale*Ct,Zt=dt.vertical,$t=Zt?1:-1,Ht=dt.defaultVMetrics,Ut=ft*pt.fontMatrix[0];let zt=0;for(const Lt of ot){if(Lt===null){zt+=Ct*mt;continue}else if(typeof Lt=="number"){zt+=$t*Lt*ft/1e3;continue}const St=(Lt.isSpace?mt:0)+kt,st=Lt.fontChar;let lt,Et,Pt=Lt.width;if(Zt){let Nt;const Kt=Lt.vmetric||Ht;Nt=Lt.vmetric?Kt[1]:Pt*.5,Nt=-Nt*Ut;const nn=Kt[2]*Ut;Pt=Kt?-Kt[0]:Pt,lt=Nt/gt,Et=(zt+nn)/gt}else lt=zt/gt,Et=0;(Lt.isInFont||dt.missingFile)&&(pt.xcoords.push(pt.x+lt),Zt&&pt.ycoords.push(-pt.y+Et),pt.tspan.textContent+=st);const Rt=Zt?Pt*Ut-St*Ct:Pt*Ut+St*Ct;zt+=Rt}pt.tspan.setAttributeNS(null,"x",pt.xcoords.map(ct).join(" ")),Zt?pt.tspan.setAttributeNS(null,"y",pt.ycoords.map(ct).join(" ")):pt.tspan.setAttributeNS(null,"y",ct(-pt.y)),Zt?pt.y-=zt:pt.x+=zt*Dt,pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${ct(pt.fontSize)}px`),pt.fontStyle!==c.fontStyle&&pt.tspan.setAttributeNS(null,"font-style",pt.fontStyle),pt.fontWeight!==c.fontWeight&&pt.tspan.setAttributeNS(null,"font-weight",pt.fontWeight);const xt=pt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(xt===o.TextRenderingMode.FILL||xt===o.TextRenderingMode.FILL_STROKE?(pt.fillColor!==c.fillColor&&pt.tspan.setAttributeNS(null,"fill",pt.fillColor),pt.fillAlpha<1&&pt.tspan.setAttributeNS(null,"fill-opacity",pt.fillAlpha)):pt.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?pt.tspan.setAttributeNS(null,"fill","transparent"):pt.tspan.setAttributeNS(null,"fill","none"),xt===o.TextRenderingMode.STROKE||xt===o.TextRenderingMode.FILL_STROKE){const Lt=1/(pt.textMatrixScale||1);this._setStrokeAttributes(pt.tspan,Lt)}let At=pt.textMatrix;pt.textRise!==0&&(At=At.slice(),At[5]+=pt.textRise),pt.txtElement.setAttributeNS(null,"transform",`${it(At)} scale(${ct(Dt)}, -1)`),pt.txtElement.setAttributeNS(d,"xml:space","preserve"),pt.txtElement.append(pt.tspan),pt.txtgrp.append(pt.txtElement),this._ensureTransformGroup().append(pt.txtElement)}setLeadingMoveText(ot,pt){this.setLeading(-pt),this.moveText(ot,pt)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pt=_(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${pt}); }
`}setFont(ot){const pt=this.current,dt=this.commonObjs.get(ot[0]);let ft=ot[1];pt.font=dt,this.embedFonts&&!dt.missingFile&&!this.embeddedFonts[dt.loadedName]&&(this.addFontStyle(dt),this.embeddedFonts[dt.loadedName]=dt),pt.fontMatrix=dt.fontMatrix||o.FONT_IDENTITY_MATRIX;let gt="normal";dt.black?gt="900":dt.bold&&(gt="bold");const kt=dt.italic?"italic":"normal";ft<0?(ft=-ft,pt.fontDirection=-1):pt.fontDirection=1,pt.fontSize=ft,pt.fontFamily=dt.loadedName,pt.fontWeight=gt,pt.fontStyle=kt,pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"y",ct(-pt.y)),pt.xcoords=[],pt.ycoords=[]}endText(){var pt;const ot=this.current;ot.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((pt=ot.txtElement)!=null&&pt.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=h[ot]}setLineJoin(ot){this.current.lineJoin=b[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,pt,dt){this.current.strokeColor=o.Util.makeHexColor(ot,pt,dt)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,pt,dt){this.current.fillColor=o.Util.makeHexColor(ot,pt,dt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:pt,height:dt}=this.viewport,ft=o.Util.inverseTransform(this.transformMatrix),[gt,kt,mt,Ct]=o.Util.getAxialAlignedBoundingBox([0,0,pt,dt],ft),Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x",gt),Dt.setAttributeNS(null,"y",kt),Dt.setAttributeNS(null,"width",mt-gt),Dt.setAttributeNS(null,"height",Ct-kt),Dt.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Dt)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const pt=ot[1],dt=ot[2],ft=ot[3]||o.IDENTITY_MATRIX,[gt,kt,mt,Ct]=ot[4],Dt=ot[5],Zt=ot[6],$t=ot[7],Ht=`shading${et++}`,[Ut,zt,xt,At]=o.Util.normalizeRect([...o.Util.applyTransform([gt,kt],ft),...o.Util.applyTransform([mt,Ct],ft)]),[Lt,St]=o.Util.singularValueDecompose2dScale(ft),st=Dt*Lt,lt=Zt*St,Et=this.svgFactory.createElement("svg:pattern");Et.setAttributeNS(null,"id",Ht),Et.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Et.setAttributeNS(null,"width",st),Et.setAttributeNS(null,"height",lt),Et.setAttributeNS(null,"x",`${Ut}`),Et.setAttributeNS(null,"y",`${zt}`);const Pt=this.svg,Rt=this.transformMatrix,Nt=this.current.fillColor,Kt=this.current.strokeColor,nn=this.svgFactory.create(xt-Ut,At-zt);if(this.svg=nn,this.transformMatrix=ft,$t===2){const un=o.Util.makeHexColor(...pt);this.current.fillColor=un,this.current.strokeColor=un}return this.executeOpTree(this.convertOpList(dt)),this.svg=Pt,this.transformMatrix=Rt,this.current.fillColor=Nt,this.current.strokeColor=Kt,Et.append(nn.childNodes[0]),this.defs.append(Et),`url(#${Ht})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const pt=`shading${et++}`,dt=ot[3];let ft;switch(ot[1]){case"axial":const gt=ot[4],kt=ot[5];ft=this.svgFactory.createElement("svg:linearGradient"),ft.setAttributeNS(null,"id",pt),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"x1",gt[0]),ft.setAttributeNS(null,"y1",gt[1]),ft.setAttributeNS(null,"x2",kt[0]),ft.setAttributeNS(null,"y2",kt[1]);break;case"radial":const mt=ot[4],Ct=ot[5],Dt=ot[6],Zt=ot[7];ft=this.svgFactory.createElement("svg:radialGradient"),ft.setAttributeNS(null,"id",pt),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"cx",Ct[0]),ft.setAttributeNS(null,"cy",Ct[1]),ft.setAttributeNS(null,"r",Zt),ft.setAttributeNS(null,"fx",mt[0]),ft.setAttributeNS(null,"fy",mt[1]),ft.setAttributeNS(null,"fr",Dt);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const gt of dt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",gt[0]),kt.setAttributeNS(null,"stop-color",gt[1]),ft.append(kt)}return this.defs.append(ft),`url(#${pt})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,pt){this.current.dashArray=ot,this.current.dashPhase=pt}constructPath(ot,pt){const dt=this.current;let ft=dt.x,gt=dt.y,kt=[],mt=0;for(const Ct of ot)switch(Ct|0){case o.OPS.rectangle:ft=pt[mt++],gt=pt[mt++];const Dt=pt[mt++],Zt=pt[mt++],$t=ft+Dt,Ht=gt+Zt;kt.push("M",ct(ft),ct(gt),"L",ct($t),ct(gt),"L",ct($t),ct(Ht),"L",ct(ft),ct(Ht),"Z");break;case o.OPS.moveTo:ft=pt[mt++],gt=pt[mt++],kt.push("M",ct(ft),ct(gt));break;case o.OPS.lineTo:ft=pt[mt++],gt=pt[mt++],kt.push("L",ct(ft),ct(gt));break;case o.OPS.curveTo:ft=pt[mt+4],gt=pt[mt+5],kt.push("C",ct(pt[mt]),ct(pt[mt+1]),ct(pt[mt+2]),ct(pt[mt+3]),ct(ft),ct(gt)),mt+=6;break;case o.OPS.curveTo2:kt.push("C",ct(ft),ct(gt),ct(pt[mt]),ct(pt[mt+1]),ct(pt[mt+2]),ct(pt[mt+3])),ft=pt[mt+2],gt=pt[mt+3],mt+=4;break;case o.OPS.curveTo3:ft=pt[mt+2],gt=pt[mt+3],kt.push("C",ct(pt[mt]),ct(pt[mt+1]),ct(ft),ct(gt),ct(ft),ct(gt)),mt+=4;break;case o.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),dt.path&&ot.length>0&&ot[0]!==o.OPS.rectangle&&ot[0]!==o.OPS.moveTo?kt=dt.path.getAttributeNS(null,"d")+kt:(dt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(dt.path)),dt.path.setAttributeNS(null,"d",kt),dt.path.setAttributeNS(null,"fill","none"),dt.element=dt.path,dt.setCurrentPoint(ft,gt)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const pt=`clippath${ut++}`,dt=this.svgFactory.createElement("svg:clipPath");dt.setAttributeNS(null,"id",pt),dt.setAttributeNS(null,"transform",it(this.transformMatrix));const ft=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ft.setAttributeNS(null,"clip-rule","evenodd"):ft.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,dt.append(ft),this.defs.append(dt),ot.activeClipUrl){ot.clipGroup=null;for(const gt of this.extraStack)gt.clipGroup=null;dt.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${pt})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const pt=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",pt)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[pt,dt]of ot)switch(pt){case"LW":this.setLineWidth(dt);break;case"LC":this.setLineCap(dt);break;case"LJ":this.setLineJoin(dt);break;case"ML":this.setMiterLimit(dt);break;case"D":this.setDash(dt[0],dt[1]);break;case"RI":this.setRenderingIntent(dt);break;case"FL":this.setFlatness(dt);break;case"Font":this.setFont(dt);break;case"CA":this.setStrokeAlpha(dt);break;case"ca":this.setFillAlpha(dt);break;default:(0,o.warn)(`Unimplemented graphic state operator ${pt}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,pt=1){const dt=this.current;let ft=dt.dashArray;pt!==1&&ft.length>0&&(ft=ft.map(function(gt){return pt*gt})),ot.setAttributeNS(null,"stroke",dt.strokeColor),ot.setAttributeNS(null,"stroke-opacity",dt.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",ct(dt.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",dt.lineCap),ot.setAttributeNS(null,"stroke-linejoin",dt.lineJoin),ot.setAttributeNS(null,"stroke-width",ct(pt*dt.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",ft.map(ct).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",ct(pt*dt.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const pt=this.getObject(ot);if(!pt){(0,o.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(pt)}paintInlineImageXObject(ot,pt){const dt=ot.width,ft=ot.height,gt=j(ot,this.forceDataSchema,!!pt),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",ct(dt)),kt.setAttributeNS(null,"height",ct(ft)),this.current.element=kt,this.clip("nonzero");const mt=this.svgFactory.createElement("svg:image");mt.setAttributeNS(g,"xlink:href",gt),mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y",ct(-ft)),mt.setAttributeNS(null,"width",ct(dt)+"px"),mt.setAttributeNS(null,"height",ct(ft)+"px"),mt.setAttributeNS(null,"transform",`scale(${ct(1/dt)} ${ct(-1/ft)})`),pt?pt.append(mt):this._ensureTransformGroup().append(mt)}paintImageMaskXObject(ot){const pt=this.getObject(ot.data,ot);if(pt.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const dt=this.current,ft=pt.width,gt=pt.height,kt=dt.fillColor;dt.maskId=`mask${nt++}`;const mt=this.svgFactory.createElement("svg:mask");mt.setAttributeNS(null,"id",dt.maskId);const Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x","0"),Ct.setAttributeNS(null,"y","0"),Ct.setAttributeNS(null,"width",ct(ft)),Ct.setAttributeNS(null,"height",ct(gt)),Ct.setAttributeNS(null,"fill",kt),Ct.setAttributeNS(null,"mask",`url(#${dt.maskId})`),this.defs.append(mt),this._ensureTransformGroup().append(Ct),this.paintInlineImageXObject(pt,mt)}paintFormXObjectBegin(ot,pt){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),pt){const dt=pt[2]-pt[0],ft=pt[3]-pt[1],gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x",pt[0]),gt.setAttributeNS(null,"y",pt[1]),gt.setAttributeNS(null,"width",ct(dt)),gt.setAttributeNS(null,"height",ct(ft)),this.current.element=gt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const pt=this.svgFactory.create(ot.width,ot.height),dt=this.svgFactory.createElement("svg:defs");pt.append(dt),this.defs=dt;const ft=this.svgFactory.createElement("svg:g");return ft.setAttributeNS(null,"transform",it(ot.transform)),pt.append(ft),this.svg=ft,pt}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=at},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function g(h){var j;if(!h)return;let b=null;const _=h.name;if(_==="#text")b=h.value;else if(i.shouldBuildText(_))(j=h==null?void 0:h.attributes)!=null&&j.textContent?b=h.attributes.textContent:h.value&&(b=h.value);else return;if(b!==null&&c.push({str:b}),!!h.children)for(const rt of h.children)g(rt)}return g(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=it,s.updateTextLayer=ut;var a=i(1),o=i(6);const c=1e5,d=30,g=.8,h=new Map;function b(nt,et){let at;if(et&&a.FeatureTest.isOffscreenCanvasSupported)at=new OffscreenCanvas(nt,nt).getContext("2d",{alpha:!1});else{const ht=document.createElement("canvas");ht.width=ht.height=nt,at=ht.getContext("2d",{alpha:!1})}return at}function _(nt,et){const at=h.get(nt);if(at)return at;const ht=b(d,et);ht.font=`${d}px ${nt}`;const ot=ht.measureText("");let pt=ot.fontBoundingBoxAscent,dt=Math.abs(ot.fontBoundingBoxDescent);if(pt){const gt=pt/(pt+dt);return h.set(nt,gt),ht.canvas.width=ht.canvas.height=0,gt}ht.strokeStyle="red",ht.clearRect(0,0,d,d),ht.strokeText("g",0,0);let ft=ht.getImageData(0,0,d,d).data;dt=0;for(let gt=ft.length-1-3;gt>=0;gt-=4)if(ft[gt]>0){dt=Math.ceil(gt/4/d);break}ht.clearRect(0,0,d,d),ht.strokeText("A",0,d),ft=ht.getImageData(0,0,d,d).data,pt=0;for(let gt=0,kt=ft.length;gt<kt;gt+=4)if(ft[gt]>0){pt=d-Math.floor(gt/4/d);break}if(ht.canvas.width=ht.canvas.height=0,pt){const gt=pt/(pt+dt);return h.set(nt,gt),gt}return h.set(nt,g),g}function j(nt,et,at){const ht=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:et.str!=="",hasEOL:et.hasEOL,fontSize:0};nt._textDivs.push(ht);const pt=a.Util.transform(nt._transform,et.transform);let dt=Math.atan2(pt[1],pt[0]);const ft=at[et.fontName];ft.vertical&&(dt+=Math.PI/2);const gt=Math.hypot(pt[2],pt[3]),kt=gt*_(ft.fontFamily,nt._isOffscreenCanvasSupported);let mt,Ct;dt===0?(mt=pt[4],Ct=pt[5]-kt):(mt=pt[4]+kt*Math.sin(dt),Ct=pt[5]-kt*Math.cos(dt));const Dt="calc(var(--scale-factor)*",Zt=ht.style;nt._container===nt._rootContainer?(Zt.left=`${(100*mt/nt._pageWidth).toFixed(2)}%`,Zt.top=`${(100*Ct/nt._pageHeight).toFixed(2)}%`):(Zt.left=`${Dt}${mt.toFixed(2)}px)`,Zt.top=`${Dt}${Ct.toFixed(2)}px)`),Zt.fontSize=`${Dt}${gt.toFixed(2)}px)`,Zt.fontFamily=ft.fontFamily,ot.fontSize=gt,ht.setAttribute("role","presentation"),ht.textContent=et.str,ht.dir=et.dir,nt._fontInspectorEnabled&&(ht.dataset.fontName=et.fontName),dt!==0&&(ot.angle=dt*(180/Math.PI));let $t=!1;if(et.str.length>1)$t=!0;else if(et.str!==" "&&et.transform[0]!==et.transform[3]){const Ht=Math.abs(et.transform[0]),Ut=Math.abs(et.transform[3]);Ht!==Ut&&Math.max(Ht,Ut)/Math.min(Ht,Ut)>1.5&&($t=!0)}$t&&(ot.canvasWidth=ft.vertical?et.height:et.width),nt._textDivProperties.set(ht,ot),nt._isReadableStream&&nt._layoutText(ht)}function rt(nt){const{div:et,scale:at,properties:ht,ctx:ot,prevFontSize:pt,prevFontFamily:dt}=nt,{style:ft}=et;let gt="";if(ht.canvasWidth!==0&&ht.hasText){const{fontFamily:kt}=ft,{canvasWidth:mt,fontSize:Ct}=ht;(pt!==Ct||dt!==kt)&&(ot.font=`${Ct*at}px ${kt}`,nt.prevFontSize=Ct,nt.prevFontFamily=kt);const{width:Dt}=ot.measureText(et.textContent);Dt>0&&(gt=`scaleX(${mt*at/Dt})`)}ht.angle!==0&&(gt=`rotate(${ht.angle}deg) ${gt}`),gt.length>0&&(ft.transform=gt)}function _e(nt){if(nt._canceled)return;const et=nt._textDivs,at=nt._capability;if(et.length>c){at.resolve();return}if(!nt._isReadableStream)for(const ot of et)nt._layoutText(ot);at.resolve()}class ct{constructor({textContentSource:et,container:at,viewport:ht,textDivs:ot,textDivProperties:pt,textContentItemsStr:dt,isOffscreenCanvasSupported:ft}){var Dt;this._textContentSource=et,this._isReadableStream=et instanceof ReadableStream,this._container=this._rootContainer=at,this._textDivs=ot||[],this._textContentItemsStr=dt||[],this._isOffscreenCanvasSupported=ft,this._fontInspectorEnabled=!!((Dt=globalThis.FontInspector)!=null&&Dt.enabled),this._reader=null,this._textDivProperties=pt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,ft)};const{pageWidth:gt,pageHeight:kt,pageX:mt,pageY:Ct}=ht.rawDims;this._transform=[1,0,0,-1,-mt,Ct+kt],this._pageWidth=gt,this._pageHeight=kt,(0,o.setLayerDimensions)(at,ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(et,at){for(const ht of et){if(ht.str===void 0){if(ht.type==="beginMarkedContentProps"||ht.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ht.id!==null&&this._container.setAttribute("id",`${ht.id}`),ot.append(this._container)}else ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ht.str),j(this,ht,at)}}_layoutText(et){const at=this._layoutTextParams.properties=this._textDivProperties.get(et);if(this._layoutTextParams.div=et,rt(this._layoutTextParams),at.hasText&&this._container.append(et),at.hasEOL){const ht=document.createElement("br");ht.setAttribute("role","presentation"),this._container.append(ht)}}_render(){const et=new a.PromiseCapability;let at=Object.create(null);if(this._isReadableStream){const ht=()=>{this._reader.read().then(({value:ot,done:pt})=>{if(pt){et.resolve();return}Object.assign(at,ot.styles),this._processItems(ot.items,at),ht()},et.reject)};this._reader=this._textContentSource.getReader(),ht()}else if(this._textContentSource){const{items:ht,styles:ot}=this._textContentSource;this._processItems(ht,ot),et.resolve()}else throw new Error('No "textContentSource" parameter specified.');et.promise.then(()=>{at=null,_e(this)},this._capability.reject)}}s.TextLayerRenderTask=ct;function it(nt){!nt.textContentSource&&(nt.textContent||nt.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),nt.textContentSource=nt.textContent||nt.textContentStream);const{container:et,viewport:at}=nt,ht=getComputedStyle(et),ot=ht.getPropertyValue("visibility"),pt=parseFloat(ht.getPropertyValue("--scale-factor"));ot==="visible"&&(!pt||Math.abs(pt-at.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const dt=new ct(nt);return dt._render(),dt}function ut({container:nt,viewport:et,textDivs:at,textDivProperties:ht,isOffscreenCanvasSupported:ot,mustRotate:pt=!0,mustRescale:dt=!0}){if(pt&&(0,o.setLayerDimensions)(nt,{rotation:et.rotation}),dt){const ft=b(0,ot),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:et.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ft};for(const mt of at)kt.properties=ht.get(mt),kt.div=mt,rt(kt)}}},(e,s,i)=>{var _,j,rt,_e,ct,it,ut,nt,et,at,ht,Ms,is,js,Ls;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=i(1),o=i(4),c=i(28),d=i(33),g=i(6),h=i(34);const gt=class gt{constructor({uiManager:mt,pageIndex:Ct,div:Dt,accessibilityManager:Zt,annotationLayer:$t,viewport:Ht,l10n:Ut}){Qt(this,ht);Qt(this,_);Qt(this,j,!1);Qt(this,rt,null);Qt(this,_e,this.pointerup.bind(this));Qt(this,ct,this.pointerdown.bind(this));Qt(this,it,new Map);Qt(this,ut,!1);Qt(this,nt,!1);Qt(this,et,!1);Qt(this,at);const zt=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!gt._initialized){gt._initialized=!0;for(const xt of zt)xt.initialize(Ut)}mt.registerEditorTypes(zt),qt(this,at,mt),this.pageIndex=Ct,this.div=Dt,qt(this,_,Zt),qt(this,rt,$t),this.viewport=Ht,$(this,at).addLayer(this)}get isEmpty(){return $(this,it).size===0}updateToolbar(mt){$(this,at).updateToolbar(mt)}updateMode(mt=$(this,at).getMode()){Xt(this,ht,Ls).call(this),mt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),mt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",mt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",mt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",mt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(mt){if(!mt&&$(this,at).getMode()!==a.AnnotationEditorType.INK)return;if(!mt){for(const Dt of $(this,it).values())if(Dt.isEmpty()){Dt.setInBackground();return}}Xt(this,ht,is).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(mt){$(this,at).setEditingState(mt)}addCommands(mt){$(this,at).addCommands(mt)}enable(){this.div.style.pointerEvents="auto";const mt=new Set;for(const Dt of $(this,it).values())Dt.enableEditing(),Dt.annotationElementId&&mt.add(Dt.annotationElementId);if(!$(this,rt))return;const Ct=$(this,rt).getEditableAnnotations();for(const Dt of Ct){if(Dt.hide(),$(this,at).isDeletedAnnotationElement(Dt.data.id)||mt.has(Dt.data.id))continue;const Zt=this.deserialize(Dt);Zt&&(this.addOrRebuild(Zt),Zt.enableEditing())}}disable(){var Ct;qt(this,et,!0),this.div.style.pointerEvents="none";const mt=new Set;for(const Dt of $(this,it).values()){if(Dt.disableEditing(),!Dt.annotationElementId||Dt.serialize()!==null){mt.add(Dt.annotationElementId);continue}(Ct=this.getEditableAnnotation(Dt.annotationElementId))==null||Ct.show(),Dt.remove()}if($(this,rt)){const Dt=$(this,rt).getEditableAnnotations();for(const Zt of Dt){const{id:$t}=Zt.data;mt.has($t)||$(this,at).isDeletedAnnotationElement($t)||Zt.show()}}Xt(this,ht,Ls).call(this),this.isEmpty&&(this.div.hidden=!0),qt(this,et,!1)}getEditableAnnotation(mt){var Ct;return((Ct=$(this,rt))==null?void 0:Ct.getEditableAnnotation(mt))||null}setActiveEditor(mt){$(this,at).getActive()!==mt&&$(this,at).setActiveEditor(mt)}enableClick(){this.div.addEventListener("pointerdown",$(this,ct)),this.div.addEventListener("pointerup",$(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",$(this,ct)),this.div.removeEventListener("pointerup",$(this,_e))}attach(mt){$(this,it).set(mt.id,mt);const{annotationElementId:Ct}=mt;Ct&&$(this,at).isDeletedAnnotationElement(Ct)&&$(this,at).removeDeletedAnnotationElement(mt)}detach(mt){var Ct;$(this,it).delete(mt.id),(Ct=$(this,_))==null||Ct.removePointerInTextLayer(mt.contentDiv),!$(this,et)&&mt.annotationElementId&&$(this,at).addDeletedAnnotationElement(mt)}remove(mt){this.detach(mt),$(this,at).removeEditor(mt),mt.div.contains(document.activeElement)&&setTimeout(()=>{$(this,at).focusMainContainer()},0),mt.div.remove(),mt.isAttachedToDOM=!1,$(this,nt)||this.addInkEditorIfNeeded(!1)}changeParent(mt){var Ct;mt.parent!==this&&(mt.annotationElementId&&($(this,at).addDeletedAnnotationElement(mt.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(mt),mt.annotationElementId=null),this.attach(mt),(Ct=mt.parent)==null||Ct.detach(mt),mt.setParent(this),mt.div&&mt.isAttachedToDOM&&(mt.div.remove(),this.div.append(mt.div)))}add(mt){if(this.changeParent(mt),$(this,at).addEditor(mt),this.attach(mt),!mt.isAttachedToDOM){const Ct=mt.render();this.div.append(Ct),mt.isAttachedToDOM=!0}mt.fixAndSetPosition(),mt.onceAdded(),$(this,at).addToAnnotationStorage(mt)}moveEditorInDOM(mt){var Dt;if(!mt.isAttachedToDOM)return;const{activeElement:Ct}=document;mt.div.contains(Ct)&&(mt._focusEventsAllowed=!1,setTimeout(()=>{mt.div.contains(document.activeElement)?mt._focusEventsAllowed=!0:(mt.div.addEventListener("focusin",()=>{mt._focusEventsAllowed=!0},{once:!0}),Ct.focus())},0)),mt._structTreeParentId=(Dt=$(this,_))==null?void 0:Dt.moveElementInDOM(this.div,mt.div,mt.contentDiv,!0)}addOrRebuild(mt){mt.needsToBeRebuilt()?mt.rebuild():this.add(mt)}addUndoableEditor(mt){const Ct=()=>mt._uiManager.rebuild(mt),Dt=()=>{mt.remove()};this.addCommands({cmd:Ct,undo:Dt,mustExec:!1})}getNextId(){return $(this,at).getId()}pasteEditor(mt,Ct){$(this,at).updateToolbar(mt),$(this,at).updateMode(mt);const{offsetX:Dt,offsetY:Zt}=Xt(this,ht,js).call(this),$t=this.getNextId(),Ht=Xt(this,ht,Ms).call(this,{parent:this,id:$t,x:Dt,y:Zt,uiManager:$(this,at),isCentered:!0,...Ct});Ht&&this.add(Ht)}deserialize(mt){switch(mt.annotationType??mt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(mt,this,$(this,at));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(mt,this,$(this,at));case a.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(mt,this,$(this,at))}return null}addNewEditor(){Xt(this,ht,is).call(this,Xt(this,ht,js).call(this),!0)}setSelected(mt){$(this,at).setSelected(mt)}toggleSelected(mt){$(this,at).toggleSelected(mt)}isSelected(mt){return $(this,at).isSelected(mt)}unselect(mt){$(this,at).unselect(mt)}pointerup(mt){const{isMac:Ct}=a.FeatureTest.platform;if(!(mt.button!==0||mt.ctrlKey&&Ct)&&mt.target===this.div&&$(this,ut)){if(qt(this,ut,!1),!$(this,j)){qt(this,j,!0);return}if($(this,at).getMode()===a.AnnotationEditorType.STAMP){$(this,at).unselectAll();return}Xt(this,ht,is).call(this,mt,!1)}}pointerdown(mt){if($(this,ut)){qt(this,ut,!1);return}const{isMac:Ct}=a.FeatureTest.platform;if(mt.button!==0||mt.ctrlKey&&Ct||mt.target!==this.div)return;qt(this,ut,!0);const Dt=$(this,at).getActive();qt(this,j,!Dt||Dt.isEmpty())}findNewParent(mt,Ct,Dt){const Zt=$(this,at).findParent(Ct,Dt);return Zt===null||Zt===this?!1:(Zt.changeParent(mt),!0)}destroy(){var mt,Ct;((mt=$(this,at).getActive())==null?void 0:mt.parent)===this&&($(this,at).commitOrRemove(),$(this,at).setActiveEditor(null));for(const Dt of $(this,it).values())(Ct=$(this,_))==null||Ct.removePointerInTextLayer(Dt.contentDiv),Dt.setParent(null),Dt.isAttachedToDOM=!1,Dt.div.remove();this.div=null,$(this,it).clear(),$(this,at).removeLayer(this)}render({viewport:mt}){this.viewport=mt,(0,g.setLayerDimensions)(this.div,mt);for(const Ct of $(this,at).getEditors(this.pageIndex))this.add(Ct);this.updateMode()}update({viewport:mt}){$(this,at).commitOrRemove(),this.viewport=mt,(0,g.setLayerDimensions)(this.div,{rotation:mt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:mt,pageHeight:Ct}=this.viewport.rawDims;return[mt,Ct]}};_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakMap,et=new WeakMap,at=new WeakMap,ht=new WeakSet,Ms=function(mt){switch($(this,at).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(mt);case a.AnnotationEditorType.INK:return new d.InkEditor(mt);case a.AnnotationEditorType.STAMP:return new h.StampEditor(mt)}return null},is=function(mt,Ct){const Dt=this.getNextId(),Zt=Xt(this,ht,Ms).call(this,{parent:this,id:Dt,x:mt.offsetX,y:mt.offsetY,uiManager:$(this,at),isCentered:Ct});return Zt&&this.add(Zt),Zt},js=function(){const{x:mt,y:Ct,width:Dt,height:Zt}=this.div.getBoundingClientRect(),$t=Math.max(0,mt),Ht=Math.max(0,Ct),Ut=Math.min(window.innerWidth,mt+Dt),zt=Math.min(window.innerHeight,Ct+Zt),xt=($t+Ut)/2-mt,At=(Ht+zt)/2-Ct,[Lt,St]=this.viewport.rotation%180===0?[xt,At]:[At,xt];return{offsetX:Lt,offsetY:St}},Ls=function(){qt(this,nt,!0);for(const mt of $(this,it).values())mt.isEmpty()&&mt.remove();qt(this,nt,!1)},Qn(gt,"_initialized",!1);let b=gt;s.AnnotationEditorLayer=b},(e,s,i)=>{var h,b,_,j,rt,_e,ct,it,ut,nt,co,uo,ho,Kr,Ds,fo,Fs;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=i(1),o=i(5),c=i(4),d=i(29);const gt=class gt extends c.AnnotationEditor{constructor(Ct){super({...Ct,name:"freeTextEditor"});Qt(this,nt);Qt(this,h,this.editorDivBlur.bind(this));Qt(this,b,this.editorDivFocus.bind(this));Qt(this,_,this.editorDivInput.bind(this));Qt(this,j,this.editorDivKeydown.bind(this));Qt(this,rt);Qt(this,_e,"");Qt(this,ct,`${this.id}-editor`);Qt(this,it);Qt(this,ut,null);qt(this,rt,Ct.color||gt._defaultColor||c.AnnotationEditor._defaultLineColor),qt(this,it,Ct.fontSize||gt._defaultFontSize)}static get _keyboardManager(){const Ct=gt.prototype,Dt=Ht=>Ht.isEmpty(),Zt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,$t=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ct.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ct.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ct._translateEmpty,{args:[-Zt,0],checker:Dt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ct._translateEmpty,{args:[-$t,0],checker:Dt}],[["ArrowRight","mac+ArrowRight"],Ct._translateEmpty,{args:[Zt,0],checker:Dt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ct._translateEmpty,{args:[$t,0],checker:Dt}],[["ArrowUp","mac+ArrowUp"],Ct._translateEmpty,{args:[0,-Zt],checker:Dt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ct._translateEmpty,{args:[0,-$t],checker:Dt}],[["ArrowDown","mac+ArrowDown"],Ct._translateEmpty,{args:[0,Zt],checker:Dt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ct._translateEmpty,{args:[0,$t],checker:Dt}]]))}static initialize(Ct){c.AnnotationEditor.initialize(Ct,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Dt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Dt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ct,Dt){switch(Ct){case a.AnnotationEditorParamsType.FREETEXT_SIZE:gt._defaultFontSize=Dt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:gt._defaultColor=Dt;break}}updateParams(Ct,Dt){switch(Ct){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Xt(this,nt,co).call(this,Dt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Xt(this,nt,uo).call(this,Dt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,gt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,gt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,$(this,it)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,$(this,rt)]]}_translateEmpty(Ct,Dt){this._uiManager.translateSelectedEditors(Ct,Dt,!0)}getInitialTranslation(){const Ct=this.parentScale;return[-gt._internalPadding*Ct,-(gt._internalPadding+$(this,it))*Ct]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",$(this,j)),this.editorDiv.addEventListener("focus",$(this,b)),this.editorDiv.addEventListener("blur",$(this,h)),this.editorDiv.addEventListener("input",$(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",$(this,ct)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",$(this,j)),this.editorDiv.removeEventListener("focus",$(this,b)),this.editorDiv.removeEventListener("blur",$(this,h)),this.editorDiv.removeEventListener("input",$(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ct){this._focusEventsAllowed&&(super.focusin(Ct),Ct.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Ct;if(this.width){Xt(this,nt,Fs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Ct=this._initialOptions)!=null&&Ct.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ct=$(this,_e),Dt=qt(this,_e,Xt(this,nt,ho).call(this).trimEnd());if(Ct===Dt)return;const Zt=$t=>{if(qt(this,_e,$t),!$t){this.remove();return}Xt(this,nt,Ds).call(this),this._uiManager.rebuild(this),Xt(this,nt,Kr).call(this)};this.addCommands({cmd:()=>{Zt(Dt)},undo:()=>{Zt(Ct)},mustExec:!1}),Xt(this,nt,Kr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Ct){this.enterInEditMode()}keydown(Ct){Ct.target===this.div&&Ct.key==="Enter"&&(this.enterInEditMode(),Ct.preventDefault())}editorDivKeydown(Ct){gt._keyboardManager.exec(this,Ct)}editorDivFocus(Ct){this.isEditing=!0}editorDivBlur(Ct){this.isEditing=!1}editorDivInput(Ct){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ct,Dt;this.width&&(Ct=this.x,Dt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",$(this,ct)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then($t=>{var Ht;return(Ht=this.editorDiv)==null?void 0:Ht.setAttribute("aria-label",$t)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then($t=>{var Ht;return(Ht=this.editorDiv)==null?void 0:Ht.setAttribute("default-content",$t)}),this.editorDiv.contentEditable=!0;const{style:Zt}=this.editorDiv;if(Zt.fontSize=`calc(${$(this,it)}px * var(--scale-factor))`,Zt.color=$(this,rt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[$t,Ht]=this.parentDimensions;if(this.annotationElementId){const{position:Ut}=$(this,ut);let[zt,xt]=this.getInitialTranslation();[zt,xt]=this.pageTranslationToScreen(zt,xt);const[At,Lt]=this.pageDimensions,[St,st]=this.pageTranslation;let lt,Et;switch(this.rotation){case 0:lt=Ct+(Ut[0]-St)/At,Et=Dt+this.height-(Ut[1]-st)/Lt;break;case 90:lt=Ct+(Ut[0]-St)/At,Et=Dt-(Ut[1]-st)/Lt,[zt,xt]=[xt,-zt];break;case 180:lt=Ct-this.width+(Ut[0]-St)/At,Et=Dt-(Ut[1]-st)/Lt,[zt,xt]=[-zt,-xt];break;case 270:lt=Ct+(Ut[0]-St-this.height*Lt)/At,Et=Dt+(Ut[1]-st-this.width*At)/Lt,[zt,xt]=[-xt,zt];break}this.setAt(lt*$t,Et*Ht,zt,xt)}else this.setAt(Ct*$t,Dt*Ht,this.width*$t,this.height*Ht);Xt(this,nt,Ds).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ct,Dt,Zt){let $t=null;if(Ct instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ut,fontColor:zt},rect:xt,rotation:At,id:Lt},textContent:St,textPosition:st,parent:{page:{pageNumber:lt}}}=Ct;if(!St||St.length===0)return null;$t=Ct={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(zt),fontSize:Ut,value:St.join(`
`),position:st,pageIndex:lt-1,rect:xt,rotation:At,id:Lt,deleted:!1}}const Ht=super.deserialize(Ct,Dt,Zt);return qt(Ht,it,Ct.fontSize),qt(Ht,rt,a.Util.makeHexColor(...Ct.color)),qt(Ht,_e,Ct.value),Ht.annotationElementId=Ct.id||null,qt(Ht,ut,$t),Ht}serialize(Ct=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Dt=gt._internalPadding*this.parentScale,Zt=this.getRect(Dt,Dt),$t=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:$(this,rt)),Ht={annotationType:a.AnnotationEditorType.FREETEXT,color:$t,fontSize:$(this,it),value:$(this,_e),pageIndex:this.pageIndex,rect:Zt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Ct?Ht:this.annotationElementId&&!Xt(this,nt,fo).call(this,Ht)?null:(Ht.id=this.annotationElementId,Ht)}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakSet,co=function(Ct){const Dt=$t=>{this.editorDiv.style.fontSize=`calc(${$t}px * var(--scale-factor))`,this.translate(0,-($t-$(this,it))*this.parentScale),qt(this,it,$t),Xt(this,nt,Kr).call(this)},Zt=$(this,it);this.addCommands({cmd:()=>{Dt(Ct)},undo:()=>{Dt(Zt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uo=function(Ct){const Dt=$(this,rt);this.addCommands({cmd:()=>{qt(this,rt,this.editorDiv.style.color=Ct)},undo:()=>{qt(this,rt,this.editorDiv.style.color=Dt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ho=function(){const Ct=this.editorDiv.getElementsByTagName("div");if(Ct.length===0)return this.editorDiv.innerText;const Dt=[];for(const Zt of Ct)Dt.push(Zt.innerText.replace(/\r\n?|\n/,""));return Dt.join(`
`)},Kr=function(){const[Ct,Dt]=this.parentDimensions;let Zt;if(this.isAttachedToDOM)Zt=this.div.getBoundingClientRect();else{const{currentLayer:$t,div:Ht}=this,Ut=Ht.style.display;Ht.style.display="hidden",$t.div.append(this.div),Zt=Ht.getBoundingClientRect(),Ht.remove(),Ht.style.display=Ut}this.rotation%180===this.parentRotation%180?(this.width=Zt.width/Ct,this.height=Zt.height/Dt):(this.width=Zt.height/Ct,this.height=Zt.width/Dt),this.fixAndSetPosition()},Ds=function(){if(this.editorDiv.replaceChildren(),!!$(this,_e))for(const Ct of $(this,_e).split(`
`)){const Dt=document.createElement("div");Dt.append(Ct?document.createTextNode(Ct):document.createElement("br")),this.editorDiv.append(Dt)}},fo=function(Ct){const{value:Dt,fontSize:Zt,color:$t,rect:Ht,pageIndex:Ut}=$(this,ut);return Ct.value!==Dt||Ct.fontSize!==Zt||Ct.rect.some((zt,xt)=>Math.abs(zt-Ht[xt])>=1)||Ct.color.some((zt,xt)=>zt!==$t[xt])||Ct.pageIndex!==Ut},Fs=function(Ct=!1){if(!this.annotationElementId)return;if(Xt(this,nt,Kr).call(this),!Ct&&(this.width===0||this.height===0)){setTimeout(()=>Xt(this,nt,Fs).call(this,!0),0);return}const Dt=gt._internalPadding*this.parentScale;$(this,ut).rect=this.getRect(Dt,Dt)},Qn(gt,"_freeTextDefaultContent",""),Qn(gt,"_internalPadding",0),Qn(gt,"_defaultColor",null),Qn(gt,"_defaultFontSize",10),Qn(gt,"_type","freetext");let g=gt;s.FreeTextEditor=g},(e,s,i)=>{var Et,Rt,Sr,po,nn,un,fn,yn,wn,xn,rn,on,Tt,Vt,Jt,sn,pn,vn,bn,en,kn,Cn,mo,as,Is,Ns,On,Hn,Kn,En,an,ln,Ln,Os,Wn,Bt,mn,An,go,Vs;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=i(1),o=i(6),c=i(3),d=i(30),g=i(31),h=i(32);const b=1e3,_=9,j=new WeakSet;function rt(Tn){return{width:Tn[2]-Tn[0],height:Tn[3]-Tn[1]}}class _e{static create(It){switch(It.data.annotationType){case a.AnnotationType.LINK:return new it(It);case a.AnnotationType.TEXT:return new ut(It);case a.AnnotationType.WIDGET:switch(It.data.fieldType){case"Tx":return new et(It);case"Btn":return It.data.radioButton?new ot(It):It.data.checkBox?new ht(It):new pt(It);case"Ch":return new dt(It);case"Sig":return new at(It)}return new nt(It);case a.AnnotationType.POPUP:return new ft(It);case a.AnnotationType.FREETEXT:return new kt(It);case a.AnnotationType.LINE:return new mt(It);case a.AnnotationType.SQUARE:return new Ct(It);case a.AnnotationType.CIRCLE:return new Dt(It);case a.AnnotationType.POLYLINE:return new Zt(It);case a.AnnotationType.CARET:return new Ht(It);case a.AnnotationType.INK:return new Ut(It);case a.AnnotationType.POLYGON:return new $t(It);case a.AnnotationType.HIGHLIGHT:return new zt(It);case a.AnnotationType.UNDERLINE:return new xt(It);case a.AnnotationType.SQUIGGLY:return new At(It);case a.AnnotationType.STRIKEOUT:return new Lt(It);case a.AnnotationType.STAMP:return new St(It);case a.AnnotationType.FILEATTACHMENT:return new st(It);default:return new ct(It)}}}const Pt=class Pt{constructor(It,{isRenderable:Mt=!1,ignoreBorder:Gt=!1,createQuadrilaterals:dn=!1}={}){Qt(this,Et,!1);this.isRenderable=Mt,this.data=It.data,this.layer=It.layer,this.linkService=It.linkService,this.downloadManager=It.downloadManager,this.imageResourcesPath=It.imageResourcesPath,this.renderForms=It.renderForms,this.svgFactory=It.svgFactory,this.annotationStorage=It.annotationStorage,this.enableScripting=It.enableScripting,this.hasJSActions=It.hasJSActions,this._fieldObjects=It.fieldObjects,this.parent=It.parent,Mt&&(this.container=this._createContainer(Gt)),dn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:It,contentsObj:Mt,richText:Gt}){return!!(It!=null&&It.str||Mt!=null&&Mt.str||Gt!=null&&Gt.str)}get hasPopupData(){return Pt._hasPopupData(this.data)}_createContainer(It){const{data:Mt,parent:{page:Gt,viewport:dn}}=this,hn=document.createElement("section");hn.setAttribute("data-annotation-id",Mt.id),this instanceof nt||(hn.tabIndex=b),hn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hn.setAttribute("aria-haspopup","dialog"),Mt.noRotate&&hn.classList.add("norotate");const{pageWidth:gn,pageHeight:Sn,pageX:Nn,pageY:In}=dn.rawDims;if(!Mt.rect||this instanceof ft){const{rotation:jn}=Mt;return!Mt.hasOwnCanvas&&jn!==0&&this.setRotation(jn,hn),hn}const{width:tn,height:Pn}=rt(Mt.rect),Rn=a.Util.normalizeRect([Mt.rect[0],Gt.view[3]-Mt.rect[1]+Gt.view[1],Mt.rect[2],Gt.view[3]-Mt.rect[3]+Gt.view[1]]);if(!It&&Mt.borderStyle.width>0){hn.style.borderWidth=`${Mt.borderStyle.width}px`;const jn=Mt.borderStyle.horizontalCornerRadius,Bn=Mt.borderStyle.verticalCornerRadius;if(jn>0||Bn>0){const Xn=`calc(${jn}px * var(--scale-factor)) / calc(${Bn}px * var(--scale-factor))`;hn.style.borderRadius=Xn}else if(this instanceof ot){const Xn=`calc(${tn}px * var(--scale-factor)) / calc(${Pn}px * var(--scale-factor))`;hn.style.borderRadius=Xn}switch(Mt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:hn.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:hn.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:hn.style.borderBottomStyle="solid";break}const zn=Mt.borderColor||null;zn?(qt(this,Et,!0),hn.style.borderColor=a.Util.makeHexColor(zn[0]|0,zn[1]|0,zn[2]|0)):hn.style.borderWidth=0}hn.style.left=`${100*(Rn[0]-Nn)/gn}%`,hn.style.top=`${100*(Rn[1]-In)/Sn}%`;const{rotation:Mn}=Mt;return Mt.hasOwnCanvas||Mn===0?(hn.style.width=`${100*tn/gn}%`,hn.style.height=`${100*Pn/Sn}%`):this.setRotation(Mn,hn),hn}setRotation(It,Mt=this.container){if(!this.data.rect)return;const{pageWidth:Gt,pageHeight:dn}=this.parent.viewport.rawDims,{width:hn,height:gn}=rt(this.data.rect);let Sn,Nn;It%180===0?(Sn=100*hn/Gt,Nn=100*gn/dn):(Sn=100*gn/Gt,Nn=100*hn/dn),Mt.style.width=`${Sn}%`,Mt.style.height=`${Nn}%`,Mt.setAttribute("data-main-rotation",(360-It)%360)}get _commonActions(){const It=(Mt,Gt,dn)=>{const hn=dn.detail[Mt],gn=hn[0],Sn=hn.slice(1);dn.target.style[Gt]=d.ColorConverters[`${gn}_HTML`](Sn),this.annotationStorage.setValue(this.data.id,{[Gt]:d.ColorConverters[`${gn}_rgb`](Sn)})};return(0,a.shadow)(this,"_commonActions",{display:Mt=>{const{display:Gt}=Mt.detail,dn=Gt%2===1;this.container.style.visibility=dn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:dn,noPrint:Gt===1||Gt===2})},print:Mt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Mt.detail.print})},hidden:Mt=>{const{hidden:Gt}=Mt.detail;this.container.style.visibility=Gt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Gt,noView:Gt})},focus:Mt=>{setTimeout(()=>Mt.target.focus({preventScroll:!1}),0)},userName:Mt=>{Mt.target.title=Mt.detail.userName},readonly:Mt=>{Mt.target.disabled=Mt.detail.readonly},required:Mt=>{this._setRequired(Mt.target,Mt.detail.required)},bgColor:Mt=>{It("bgColor","backgroundColor",Mt)},fillColor:Mt=>{It("fillColor","backgroundColor",Mt)},fgColor:Mt=>{It("fgColor","color",Mt)},textColor:Mt=>{It("textColor","color",Mt)},borderColor:Mt=>{It("borderColor","borderColor",Mt)},strokeColor:Mt=>{It("strokeColor","borderColor",Mt)},rotation:Mt=>{const Gt=Mt.detail.rotation;this.setRotation(Gt),this.annotationStorage.setValue(this.data.id,{rotation:Gt})}})}_dispatchEventFromSandbox(It,Mt){const Gt=this._commonActions;for(const dn of Object.keys(Mt.detail)){const hn=It[dn]||Gt[dn];hn==null||hn(Mt)}}_setDefaultPropertiesFromJS(It){if(!this.enableScripting)return;const Mt=this.annotationStorage.getRawValue(this.data.id);if(!Mt)return;const Gt=this._commonActions;for(const[dn,hn]of Object.entries(Mt)){const gn=Gt[dn];if(gn){const Sn={detail:{[dn]:hn},target:It};gn(Sn),delete Mt[dn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:It}=this.data;if(!It)return;const[Mt,Gt,dn,hn]=this.data.rect;if(It.length===1){const[,{x:Bn,y:zn},{x:Xn,y:qn}]=It[0];if(dn===Bn&&hn===zn&&Mt===Xn&&Gt===qn)return}const{style:gn}=this.container;let Sn;if($(this,Et)){const{borderColor:Bn,borderWidth:zn}=gn;gn.borderWidth=0,Sn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Bn}" stroke-width="${zn}">`],this.container.classList.add("hasBorder")}const Nn=dn-Mt,In=hn-Gt,{svgFactory:tn}=this,Pn=tn.createElement("svg");Pn.classList.add("quadrilateralsContainer"),Pn.setAttribute("width",0),Pn.setAttribute("height",0);const Rn=tn.createElement("defs");Pn.append(Rn);const Mn=tn.createElement("clipPath"),jn=`clippath_${this.data.id}`;Mn.setAttribute("id",jn),Mn.setAttribute("clipPathUnits","objectBoundingBox"),Rn.append(Mn);for(const[,{x:Bn,y:zn},{x:Xn,y:qn}]of It){const Yn=tn.createElement("rect"),Zn=(Xn-Mt)/Nn,tr=(hn-zn)/In,ir=(Bn-Xn)/Nn,wr=(zn-qn)/In;Yn.setAttribute("x",Zn),Yn.setAttribute("y",tr),Yn.setAttribute("width",ir),Yn.setAttribute("height",wr),Mn.append(Yn),Sn==null||Sn.push(`<rect vector-effect="non-scaling-stroke" x="${Zn}" y="${tr}" width="${ir}" height="${wr}"/>`)}$(this,Et)&&(Sn.push("</g></svg>')"),gn.backgroundImage=Sn.join("")),this.container.append(Pn),this.container.style.clipPath=`url(#${jn})`}_createPopup(){const{container:It,data:Mt}=this;It.setAttribute("aria-haspopup","dialog");const Gt=new ft({data:{color:Mt.color,titleObj:Mt.titleObj,modificationDate:Mt.modificationDate,contentsObj:Mt.contentsObj,richText:Mt.richText,parentRect:Mt.rect,borderStyle:0,id:`popup_${Mt.id}`,rotation:Mt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Gt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(It,Mt=null){const Gt=[];if(this._fieldObjects){const dn=this._fieldObjects[It];if(dn)for(const{page:hn,id:gn,exportValues:Sn}of dn){if(hn===-1||gn===Mt)continue;const Nn=typeof Sn=="string"?Sn:null,In=document.querySelector(`[data-element-id="${gn}"]`);if(In&&!j.has(In)){(0,a.warn)(`_getElementsByName - element not allowed: ${gn}`);continue}Gt.push({id:gn,exportValue:Nn,domElement:In})}return Gt}for(const dn of document.getElementsByName(It)){const{exportValue:hn}=dn,gn=dn.getAttribute("data-element-id");gn!==Mt&&j.has(dn)&&Gt.push({id:gn,exportValue:hn,domElement:dn})}return Gt}show(){var It;this.container&&(this.container.hidden=!1),(It=this.popup)==null||It.maybeShow()}hide(){var It;this.container&&(this.container.hidden=!0),(It=this.popup)==null||It.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const It=this.getElementsToTriggerPopup();if(Array.isArray(It))for(const Mt of It)Mt.classList.add("highlightArea");else It.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:It,data:{id:Mt}}=this;this.container.addEventListener("dblclick",()=>{var Gt;(Gt=this.linkService.eventBus)==null||Gt.dispatch("switchannotationeditormode",{source:this,mode:It,editId:Mt})})}};Et=new WeakMap;let ct=Pt;class it extends ct{constructor(Mt,Gt=null){super(Mt,{isRenderable:!0,ignoreBorder:!!(Gt!=null&&Gt.ignoreBorder),createQuadrilaterals:!0});Qt(this,Rt);this.isTooltipOnly=Mt.data.isTooltipOnly}render(){const{data:Mt,linkService:Gt}=this,dn=document.createElement("a");dn.setAttribute("data-element-id",Mt.id);let hn=!1;return Mt.url?(Gt.addLinkAttributes(dn,Mt.url,Mt.newWindow),hn=!0):Mt.action?(this._bindNamedAction(dn,Mt.action),hn=!0):Mt.attachment?(this._bindAttachment(dn,Mt.attachment),hn=!0):Mt.setOCGState?(Xt(this,Rt,po).call(this,dn,Mt.setOCGState),hn=!0):Mt.dest?(this._bindLink(dn,Mt.dest),hn=!0):(Mt.actions&&(Mt.actions.Action||Mt.actions["Mouse Up"]||Mt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(dn,Mt),hn=!0),Mt.resetForm?(this._bindResetFormAction(dn,Mt.resetForm),hn=!0):this.isTooltipOnly&&!hn&&(this._bindLink(dn,""),hn=!0)),this.container.classList.add("linkAnnotation"),hn&&this.container.append(dn),this.container}_bindLink(Mt,Gt){Mt.href=this.linkService.getDestinationHash(Gt),Mt.onclick=()=>(Gt&&this.linkService.goToDestination(Gt),!1),(Gt||Gt==="")&&Xt(this,Rt,Sr).call(this)}_bindNamedAction(Mt,Gt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>(this.linkService.executeNamedAction(Gt),!1),Xt(this,Rt,Sr).call(this)}_bindAttachment(Mt,Gt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>{var dn;return(dn=this.downloadManager)==null||dn.openOrDownloadData(this.container,Gt.content,Gt.filename),!1},Xt(this,Rt,Sr).call(this)}_bindJSAction(Mt,Gt){Mt.href=this.linkService.getAnchorUrl("");const dn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hn of Object.keys(Gt.actions)){const gn=dn.get(hn);gn&&(Mt[gn]=()=>{var Sn;return(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt.id,name:hn}}),!1})}Mt.onclick||(Mt.onclick=()=>!1),Xt(this,Rt,Sr).call(this)}_bindResetFormAction(Mt,Gt){const dn=Mt.onclick;if(dn||(Mt.href=this.linkService.getAnchorUrl("")),Xt(this,Rt,Sr).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),dn||(Mt.onclick=()=>!1);return}Mt.onclick=()=>{var Pn;dn==null||dn();const{fields:hn,refs:gn,include:Sn}=Gt,Nn=[];if(hn.length!==0||gn.length!==0){const Rn=new Set(gn);for(const Mn of hn){const jn=this._fieldObjects[Mn]||[];for(const{id:Bn}of jn)Rn.add(Bn)}for(const Mn of Object.values(this._fieldObjects))for(const jn of Mn)Rn.has(jn.id)===Sn&&Nn.push(jn)}else for(const Rn of Object.values(this._fieldObjects))Nn.push(...Rn);const In=this.annotationStorage,tn=[];for(const Rn of Nn){const{id:Mn}=Rn;switch(tn.push(Mn),Rn.type){case"text":{const Bn=Rn.defaultValue||"";In.setValue(Mn,{value:Bn});break}case"checkbox":case"radiobutton":{const Bn=Rn.defaultValue===Rn.exportValues;In.setValue(Mn,{value:Bn});break}case"combobox":case"listbox":{const Bn=Rn.defaultValue||"";In.setValue(Mn,{value:Bn});break}default:continue}const jn=document.querySelector(`[data-element-id="${Mn}"]`);if(jn){if(!j.has(jn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Mn}`);continue}}else continue;jn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:tn,name:"ResetForm"}})),!1}}}Rt=new WeakSet,Sr=function(){this.container.setAttribute("data-internal-link","")},po=function(Mt,Gt){Mt.href=this.linkService.getAnchorUrl(""),Mt.onclick=()=>(this.linkService.executeSetOCGState(Gt),!1),Xt(this,Rt,Sr).call(this)};class ut extends ct{constructor(It){super(It,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const It=document.createElement("img");return It.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",It.alt="[{{type}} Annotation]",It.dataset.l10nId="text_annotation_type",It.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(It),this.container}}class nt extends ct{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(It){var Mt;this.data.hasOwnCanvas&&(((Mt=It.previousSibling)==null?void 0:Mt.nodeName)==="CANVAS"&&(It.previousSibling.hidden=!0),It.hidden=!1)}_getKeyModifier(It){const{isWin:Mt,isMac:Gt}=a.FeatureTest.platform;return Mt&&It.ctrlKey||Gt&&It.metaKey}_setEventListener(It,Mt,Gt,dn,hn){Gt.includes("mouse")?It.addEventListener(Gt,gn=>{var Sn;(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dn,value:hn(gn),shift:gn.shiftKey,modifier:this._getKeyModifier(gn)}})}):It.addEventListener(Gt,gn=>{var Sn;if(Gt==="blur"){if(!Mt.focused||!gn.relatedTarget)return;Mt.focused=!1}else if(Gt==="focus"){if(Mt.focused)return;Mt.focused=!0}hn&&((Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dn,value:hn(gn)}}))})}_setEventListeners(It,Mt,Gt,dn){var hn,gn,Sn;for(const[Nn,In]of Gt)(In==="Action"||(hn=this.data.actions)!=null&&hn[In])&&((In==="Focus"||In==="Blur")&&(Mt||(Mt={focused:!1})),this._setEventListener(It,Mt,Nn,In,dn),In==="Focus"&&!((gn=this.data.actions)!=null&&gn.Blur)?this._setEventListener(It,Mt,"blur","Blur",null):In==="Blur"&&!((Sn=this.data.actions)!=null&&Sn.Focus)&&this._setEventListener(It,Mt,"focus","Focus",null))}_setBackgroundColor(It){const Mt=this.data.backgroundColor||null;It.style.backgroundColor=Mt===null?"transparent":a.Util.makeHexColor(Mt[0],Mt[1],Mt[2])}_setTextStyle(It){const Mt=["left","center","right"],{fontColor:Gt}=this.data.defaultAppearanceData,dn=this.data.defaultAppearanceData.fontSize||_,hn=It.style;let gn;const Sn=2,Nn=In=>Math.round(10*In)/10;if(this.data.multiLine){const In=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn),tn=Math.round(In/(a.LINE_FACTOR*dn))||1,Pn=In/tn;gn=Math.min(dn,Nn(Pn/a.LINE_FACTOR))}else{const In=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn);gn=Math.min(dn,Nn(In/a.LINE_FACTOR))}hn.fontSize=`calc(${gn}px * var(--scale-factor))`,hn.color=a.Util.makeHexColor(Gt[0],Gt[1],Gt[2]),this.data.textAlignment!==null&&(hn.textAlign=Mt[this.data.textAlignment])}_setRequired(It,Mt){Mt?It.setAttribute("required",!0):It.removeAttribute("required"),It.setAttribute("aria-required",Mt)}}class et extends nt{constructor(It){const Mt=It.renderForms||!It.data.hasAppearance&&!!It.data.fieldValue;super(It,{isRenderable:Mt})}setPropertyOnSiblings(It,Mt,Gt,dn){const hn=this.annotationStorage;for(const gn of this._getElementsByName(It.name,It.id))gn.domElement&&(gn.domElement[Mt]=Gt),hn.setValue(gn.id,{[dn]:Gt})}render(){var dn,hn;const It=this.annotationStorage,Mt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Gt=null;if(this.renderForms){const gn=It.getValue(Mt,{value:this.data.fieldValue});let Sn=gn.value||"";const Nn=It.getValue(Mt,{charLimit:this.data.maxLen}).charLimit;Nn&&Sn.length>Nn&&(Sn=Sn.slice(0,Nn));let In=gn.formattedValue||((dn=this.data.textContent)==null?void 0:dn.join(`
`))||null;In&&this.data.comb&&(In=In.replaceAll(/\s+/g,""));const tn={userValue:Sn,formattedValue:In,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Gt=document.createElement("textarea"),Gt.textContent=In??Sn,this.data.doNotScroll&&(Gt.style.overflowY="hidden")):(Gt=document.createElement("input"),Gt.type="text",Gt.setAttribute("value",In??Sn),this.data.doNotScroll&&(Gt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Gt.hidden=!0),j.add(Gt),Gt.setAttribute("data-element-id",Mt),Gt.disabled=this.data.readOnly,Gt.name=this.data.fieldName,Gt.tabIndex=b,this._setRequired(Gt,this.data.required),Nn&&(Gt.maxLength=Nn),Gt.addEventListener("input",Rn=>{It.setValue(Mt,{value:Rn.target.value}),this.setPropertyOnSiblings(Gt,"value",Rn.target.value,"value"),tn.formattedValue=null}),Gt.addEventListener("resetform",Rn=>{const Mn=this.data.defaultFieldValue??"";Gt.value=tn.userValue=Mn,tn.formattedValue=null});let Pn=Rn=>{const{formattedValue:Mn}=tn;Mn!=null&&(Rn.target.value=Mn),Rn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Gt.addEventListener("focus",Mn=>{if(tn.focused)return;const{target:jn}=Mn;tn.userValue&&(jn.value=tn.userValue),tn.lastCommittedValue=jn.value,tn.commitKey=1,tn.focused=!0}),Gt.addEventListener("updatefromsandbox",Mn=>{this.showElementAndHideCanvas(Mn.target);const jn={value(Bn){tn.userValue=Bn.detail.value??"",It.setValue(Mt,{value:tn.userValue.toString()}),Bn.target.value=tn.userValue},formattedValue(Bn){const{formattedValue:zn}=Bn.detail;tn.formattedValue=zn,zn!=null&&Bn.target!==document.activeElement&&(Bn.target.value=zn),It.setValue(Mt,{formattedValue:zn})},selRange(Bn){Bn.target.setSelectionRange(...Bn.detail.selRange)},charLimit:Bn=>{var Yn;const{charLimit:zn}=Bn.detail,{target:Xn}=Bn;if(zn===0){Xn.removeAttribute("maxLength");return}Xn.setAttribute("maxLength",zn);let qn=tn.userValue;!qn||qn.length<=zn||(qn=qn.slice(0,zn),Xn.value=tn.userValue=qn,It.setValue(Mt,{value:qn}),(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:qn,willCommit:!0,commitKey:1,selStart:Xn.selectionStart,selEnd:Xn.selectionEnd}}))}};this._dispatchEventFromSandbox(jn,Mn)}),Gt.addEventListener("keydown",Mn=>{var zn;tn.commitKey=1;let jn=-1;if(Mn.key==="Escape"?jn=0:Mn.key==="Enter"&&!this.data.multiLine?jn=2:Mn.key==="Tab"&&(tn.commitKey=3),jn===-1)return;const{value:Bn}=Mn.target;tn.lastCommittedValue!==Bn&&(tn.lastCommittedValue=Bn,tn.userValue=Bn,(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:Bn,willCommit:!0,commitKey:jn,selStart:Mn.target.selectionStart,selEnd:Mn.target.selectionEnd}}))});const Rn=Pn;Pn=null,Gt.addEventListener("blur",Mn=>{var Bn;if(!tn.focused||!Mn.relatedTarget)return;tn.focused=!1;const{value:jn}=Mn.target;tn.userValue=jn,tn.lastCommittedValue!==jn&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:jn,willCommit:!0,commitKey:tn.commitKey,selStart:Mn.target.selectionStart,selEnd:Mn.target.selectionEnd}})),Rn(Mn)}),(hn=this.data.actions)!=null&&hn.Keystroke&&Gt.addEventListener("beforeinput",Mn=>{var tr;tn.lastCommittedValue=null;const{data:jn,target:Bn}=Mn,{value:zn,selectionStart:Xn,selectionEnd:qn}=Bn;let Yn=Xn,Zn=qn;switch(Mn.inputType){case"deleteWordBackward":{const ir=zn.substring(0,Xn).match(/\w*[^\w]*$/);ir&&(Yn-=ir[0].length);break}case"deleteWordForward":{const ir=zn.substring(Xn).match(/^[^\w]*\w*/);ir&&(Zn+=ir[0].length);break}case"deleteContentBackward":Xn===qn&&(Yn-=1);break;case"deleteContentForward":Xn===qn&&(Zn+=1);break}Mn.preventDefault(),(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:zn,change:jn||"",willCommit:!1,selStart:Yn,selEnd:Zn}})}),this._setEventListeners(Gt,tn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Mn=>Mn.target.value)}if(Pn&&Gt.addEventListener("blur",Pn),this.data.comb){const Mn=(this.data.rect[2]-this.data.rect[0])/Nn;Gt.classList.add("comb"),Gt.style.letterSpacing=`calc(${Mn}px * var(--scale-factor) - 1ch)`}}else Gt=document.createElement("div"),Gt.textContent=this.data.fieldValue,Gt.style.verticalAlign="middle",Gt.style.display="table-cell";return this._setTextStyle(Gt),this._setBackgroundColor(Gt),this._setDefaultPropertiesFromJS(Gt),this.container.append(Gt),this.container}}class at extends nt{constructor(It){super(It,{isRenderable:!!It.data.hasOwnCanvas})}}class ht extends nt{constructor(It){super(It,{isRenderable:It.renderForms})}render(){const It=this.annotationStorage,Mt=this.data,Gt=Mt.id;let dn=It.getValue(Gt,{value:Mt.exportValue===Mt.fieldValue}).value;typeof dn=="string"&&(dn=dn!=="Off",It.setValue(Gt,{value:dn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hn=document.createElement("input");return j.add(hn),hn.setAttribute("data-element-id",Gt),hn.disabled=Mt.readOnly,this._setRequired(hn,this.data.required),hn.type="checkbox",hn.name=Mt.fieldName,dn&&hn.setAttribute("checked",!0),hn.setAttribute("exportValue",Mt.exportValue),hn.tabIndex=b,hn.addEventListener("change",gn=>{const{name:Sn,checked:Nn}=gn.target;for(const In of this._getElementsByName(Sn,Gt)){const tn=Nn&&In.exportValue===Mt.exportValue;In.domElement&&(In.domElement.checked=tn),It.setValue(In.id,{value:tn})}It.setValue(Gt,{value:Nn})}),hn.addEventListener("resetform",gn=>{const Sn=Mt.defaultFieldValue||"Off";gn.target.checked=Sn===Mt.exportValue}),this.enableScripting&&this.hasJSActions&&(hn.addEventListener("updatefromsandbox",gn=>{const Sn={value(Nn){Nn.target.checked=Nn.detail.value!=="Off",It.setValue(Gt,{value:Nn.target.checked})}};this._dispatchEventFromSandbox(Sn,gn)}),this._setEventListeners(hn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gn=>gn.target.checked)),this._setBackgroundColor(hn),this._setDefaultPropertiesFromJS(hn),this.container.append(hn),this.container}}class ot extends nt{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const It=this.annotationStorage,Mt=this.data,Gt=Mt.id;let dn=It.getValue(Gt,{value:Mt.fieldValue===Mt.buttonValue}).value;typeof dn=="string"&&(dn=dn!==Mt.buttonValue,It.setValue(Gt,{value:dn}));const hn=document.createElement("input");if(j.add(hn),hn.setAttribute("data-element-id",Gt),hn.disabled=Mt.readOnly,this._setRequired(hn,this.data.required),hn.type="radio",hn.name=Mt.fieldName,dn&&hn.setAttribute("checked",!0),hn.tabIndex=b,hn.addEventListener("change",gn=>{const{name:Sn,checked:Nn}=gn.target;for(const In of this._getElementsByName(Sn,Gt))It.setValue(In.id,{value:!1});It.setValue(Gt,{value:Nn})}),hn.addEventListener("resetform",gn=>{const Sn=Mt.defaultFieldValue;gn.target.checked=Sn!=null&&Sn===Mt.buttonValue}),this.enableScripting&&this.hasJSActions){const gn=Mt.buttonValue;hn.addEventListener("updatefromsandbox",Sn=>{const Nn={value:In=>{const tn=gn===In.detail.value;for(const Pn of this._getElementsByName(In.target.name)){const Rn=tn&&Pn.id===Gt;Pn.domElement&&(Pn.domElement.checked=Rn),It.setValue(Pn.id,{value:Rn})}}};this._dispatchEventFromSandbox(Nn,Sn)}),this._setEventListeners(hn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.checked)}return this._setBackgroundColor(hn),this._setDefaultPropertiesFromJS(hn),this.container.append(hn),this.container}}class pt extends it{constructor(It){super(It,{ignoreBorder:It.data.hasAppearance})}render(){const It=super.render();It.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(It.title=this.data.alternativeText);const Mt=It.lastChild;return this.enableScripting&&this.hasJSActions&&Mt&&(this._setDefaultPropertiesFromJS(Mt),Mt.addEventListener("updatefromsandbox",Gt=>{this._dispatchEventFromSandbox({},Gt)})),It}}class dt extends nt{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const It=this.annotationStorage,Mt=this.data.id,Gt=It.getValue(Mt,{value:this.data.fieldValue}),dn=document.createElement("select");j.add(dn),dn.setAttribute("data-element-id",Mt),dn.disabled=this.data.readOnly,this._setRequired(dn,this.data.required),dn.name=this.data.fieldName,dn.tabIndex=b;let hn=this.data.combo&&this.data.options.length>0;this.data.combo||(dn.size=this.data.options.length,this.data.multiSelect&&(dn.multiple=!0)),dn.addEventListener("resetform",tn=>{const Pn=this.data.defaultFieldValue;for(const Rn of dn.options)Rn.selected=Rn.value===Pn});for(const tn of this.data.options){const Pn=document.createElement("option");Pn.textContent=tn.displayValue,Pn.value=tn.exportValue,Gt.value.includes(tn.exportValue)&&(Pn.setAttribute("selected",!0),hn=!1),dn.append(Pn)}let gn=null;if(hn){const tn=document.createElement("option");tn.value=" ",tn.setAttribute("hidden",!0),tn.setAttribute("selected",!0),dn.prepend(tn),gn=()=>{tn.remove(),dn.removeEventListener("input",gn),gn=null},dn.addEventListener("input",gn)}const Sn=tn=>{const Pn=tn?"value":"textContent",{options:Rn,multiple:Mn}=dn;return Mn?Array.prototype.filter.call(Rn,jn=>jn.selected).map(jn=>jn[Pn]):Rn.selectedIndex===-1?null:Rn[Rn.selectedIndex][Pn]};let Nn=Sn(!1);const In=tn=>{const Pn=tn.target.options;return Array.prototype.map.call(Pn,Rn=>({displayValue:Rn.textContent,exportValue:Rn.value}))};return this.enableScripting&&this.hasJSActions?(dn.addEventListener("updatefromsandbox",tn=>{const Pn={value(Rn){gn==null||gn();const Mn=Rn.detail.value,jn=new Set(Array.isArray(Mn)?Mn:[Mn]);for(const Bn of dn.options)Bn.selected=jn.has(Bn.value);It.setValue(Mt,{value:Sn(!0)}),Nn=Sn(!1)},multipleSelection(Rn){dn.multiple=!0},remove(Rn){const Mn=dn.options,jn=Rn.detail.remove;Mn[jn].selected=!1,dn.remove(jn),Mn.length>0&&Array.prototype.findIndex.call(Mn,zn=>zn.selected)===-1&&(Mn[0].selected=!0),It.setValue(Mt,{value:Sn(!0),items:In(Rn)}),Nn=Sn(!1)},clear(Rn){for(;dn.length!==0;)dn.remove(0);It.setValue(Mt,{value:null,items:[]}),Nn=Sn(!1)},insert(Rn){const{index:Mn,displayValue:jn,exportValue:Bn}=Rn.detail.insert,zn=dn.children[Mn],Xn=document.createElement("option");Xn.textContent=jn,Xn.value=Bn,zn?zn.before(Xn):dn.append(Xn),It.setValue(Mt,{value:Sn(!0),items:In(Rn)}),Nn=Sn(!1)},items(Rn){const{items:Mn}=Rn.detail;for(;dn.length!==0;)dn.remove(0);for(const jn of Mn){const{displayValue:Bn,exportValue:zn}=jn,Xn=document.createElement("option");Xn.textContent=Bn,Xn.value=zn,dn.append(Xn)}dn.options.length>0&&(dn.options[0].selected=!0),It.setValue(Mt,{value:Sn(!0),items:In(Rn)}),Nn=Sn(!1)},indices(Rn){const Mn=new Set(Rn.detail.indices);for(const jn of Rn.target.options)jn.selected=Mn.has(jn.index);It.setValue(Mt,{value:Sn(!0)}),Nn=Sn(!1)},editable(Rn){Rn.target.disabled=!Rn.detail.editable}};this._dispatchEventFromSandbox(Pn,tn)}),dn.addEventListener("input",tn=>{var Rn;const Pn=Sn(!0);It.setValue(Mt,{value:Pn}),tn.preventDefault(),(Rn=this.linkService.eventBus)==null||Rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mt,name:"Keystroke",value:Nn,changeEx:Pn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(dn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],tn=>tn.target.value)):dn.addEventListener("input",function(tn){It.setValue(Mt,{value:Sn(!0)})}),this.data.combo&&this._setTextStyle(dn),this._setBackgroundColor(dn),this._setDefaultPropertiesFromJS(dn),this.container.append(dn),this.container}}class ft extends ct{constructor(It){const{data:Mt,elements:Gt}=It;super(It,{isRenderable:ct._hasPopupData(Mt)}),this.elements=Gt}render(){this.container.classList.add("popupAnnotation");const It=new gt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Mt=[];for(const Gt of this.elements)Gt.popup=It,Mt.push(Gt.data.id),Gt.addHighlightArea();return this.container.setAttribute("aria-controls",Mt.map(Gt=>`${a.AnnotationPrefix}${Gt}`).join(",")),this.container}}class gt{constructor({container:It,color:Mt,elements:Gt,titleObj:dn,modificationDate:hn,contentsObj:gn,richText:Sn,parent:Nn,rect:In,parentRect:tn,open:Pn}){Qt(this,Cn);Qt(this,nn,null);Qt(this,un,Xt(this,Cn,mo).bind(this));Qt(this,fn,Xt(this,Cn,Ns).bind(this));Qt(this,yn,Xt(this,Cn,Is).bind(this));Qt(this,wn,Xt(this,Cn,as).bind(this));Qt(this,xn,null);Qt(this,rn,null);Qt(this,on,null);Qt(this,Tt,null);Qt(this,Vt,null);Qt(this,Jt,null);Qt(this,sn,!1);Qt(this,pn,null);Qt(this,vn,null);Qt(this,bn,null);Qt(this,en,null);Qt(this,kn,!1);var Mn;qt(this,rn,It),qt(this,en,dn),qt(this,on,gn),qt(this,bn,Sn),qt(this,Vt,Nn),qt(this,xn,Mt),qt(this,vn,In),qt(this,Jt,tn),qt(this,Tt,Gt);const Rn=o.PDFDateString.toDateObject(hn);Rn&&qt(this,nn,Nn.l10n.get("annotation_date_string",{date:Rn.toLocaleDateString(),time:Rn.toLocaleTimeString()})),this.trigger=Gt.flatMap(jn=>jn.getElementsToTriggerPopup());for(const jn of this.trigger)jn.addEventListener("click",$(this,wn)),jn.addEventListener("mouseenter",$(this,yn)),jn.addEventListener("mouseleave",$(this,fn)),jn.classList.add("popupTriggerArea");for(const jn of Gt)(Mn=jn.container)==null||Mn.addEventListener("keydown",$(this,un));$(this,rn).hidden=!0,Pn&&Xt(this,Cn,as).call(this)}render(){if($(this,pn))return;const{page:{view:It},viewport:{rawDims:{pageWidth:Mt,pageHeight:Gt,pageX:dn,pageY:hn}}}=$(this,Vt),gn=qt(this,pn,document.createElement("div"));if(gn.className="popup",$(this,xn)){const Yn=gn.style.outlineColor=a.Util.makeHexColor(...$(this,xn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?gn.style.backgroundColor=`color-mix(in srgb, ${Yn} 30%, white)`:gn.style.backgroundColor=a.Util.makeHexColor(...$(this,xn).map(tr=>Math.floor(.7*(255-tr)+tr)))}const Sn=document.createElement("span");Sn.className="header";const Nn=document.createElement("h1");if(Sn.append(Nn),{dir:Nn.dir,str:Nn.textContent}=$(this,en),gn.append(Sn),$(this,nn)){const Yn=document.createElement("span");Yn.classList.add("popupDate"),$(this,nn).then(Zn=>{Yn.textContent=Zn}),Sn.append(Yn)}const In=$(this,on),tn=$(this,bn);if(tn!=null&&tn.str&&(!(In!=null&&In.str)||In.str===tn.str))h.XfaLayer.render({xfaHtml:tn.html,intent:"richText",div:gn}),gn.lastChild.classList.add("richText","popupContent");else{const Yn=this._formatContents(In);gn.append(Yn)}let Pn=!!$(this,Jt),Rn=Pn?$(this,Jt):$(this,vn);for(const Yn of $(this,Tt))if(!Rn||a.Util.intersect(Yn.data.rect,Rn)!==null){Rn=Yn.data.rect,Pn=!0;break}const Mn=a.Util.normalizeRect([Rn[0],It[3]-Rn[1]+It[1],Rn[2],It[3]-Rn[3]+It[1]]),Bn=Pn?Rn[2]-Rn[0]+5:0,zn=Mn[0]+Bn,Xn=Mn[1],{style:qn}=$(this,rn);qn.left=`${100*(zn-dn)/Mt}%`,qn.top=`${100*(Xn-hn)/Gt}%`,$(this,rn).append(gn)}_formatContents({str:It,dir:Mt}){const Gt=document.createElement("p");Gt.classList.add("popupContent"),Gt.dir=Mt;const dn=It.split(/(?:\r\n?|\n)/);for(let hn=0,gn=dn.length;hn<gn;++hn){const Sn=dn[hn];Gt.append(document.createTextNode(Sn)),hn<gn-1&&Gt.append(document.createElement("br"))}return Gt}forceHide(){qt(this,kn,this.isVisible),$(this,kn)&&($(this,rn).hidden=!0)}maybeShow(){$(this,kn)&&(qt(this,kn,!1),$(this,rn).hidden=!1)}get isVisible(){return $(this,rn).hidden===!1}}nn=new WeakMap,un=new WeakMap,fn=new WeakMap,yn=new WeakMap,wn=new WeakMap,xn=new WeakMap,rn=new WeakMap,on=new WeakMap,Tt=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,sn=new WeakMap,pn=new WeakMap,vn=new WeakMap,bn=new WeakMap,en=new WeakMap,kn=new WeakMap,Cn=new WeakSet,mo=function(It){It.altKey||It.shiftKey||It.ctrlKey||It.metaKey||(It.key==="Enter"||It.key==="Escape"&&$(this,sn))&&Xt(this,Cn,as).call(this)},as=function(){qt(this,sn,!$(this,sn)),$(this,sn)?(Xt(this,Cn,Is).call(this),$(this,rn).addEventListener("click",$(this,wn)),$(this,rn).addEventListener("keydown",$(this,un))):(Xt(this,Cn,Ns).call(this),$(this,rn).removeEventListener("click",$(this,wn)),$(this,rn).removeEventListener("keydown",$(this,un)))},Is=function(){$(this,pn)||this.render(),this.isVisible?$(this,sn)&&$(this,rn).classList.add("focused"):($(this,rn).hidden=!1,$(this,rn).style.zIndex=parseInt($(this,rn).style.zIndex)+1e3)},Ns=function(){$(this,rn).classList.remove("focused"),!($(this,sn)||!this.isVisible)&&($(this,rn).hidden=!0,$(this,rn).style.zIndex=parseInt($(this,rn).style.zIndex)-1e3)};class kt extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0}),this.textContent=It.data.textContent,this.textPosition=It.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const It=document.createElement("div");It.classList.add("annotationTextContent"),It.setAttribute("role","comment");for(const Mt of this.textContent){const Gt=document.createElement("span");Gt.textContent=Mt,It.append(Gt)}this.container.append(It)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=kt;class mt extends ct{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Qt(this,On,null)}render(){this.container.classList.add("lineAnnotation");const Mt=this.data,{width:Gt,height:dn}=rt(Mt.rect),hn=this.svgFactory.create(Gt,dn,!0),gn=qt(this,On,this.svgFactory.createElement("svg:line"));return gn.setAttribute("x1",Mt.rect[2]-Mt.lineCoordinates[0]),gn.setAttribute("y1",Mt.rect[3]-Mt.lineCoordinates[1]),gn.setAttribute("x2",Mt.rect[2]-Mt.lineCoordinates[2]),gn.setAttribute("y2",Mt.rect[3]-Mt.lineCoordinates[3]),gn.setAttribute("stroke-width",Mt.borderStyle.width||1),gn.setAttribute("stroke","transparent"),gn.setAttribute("fill","transparent"),hn.append(gn),this.container.append(hn),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $(this,On)}addHighlightArea(){this.container.classList.add("highlightArea")}}On=new WeakMap;class Ct extends ct{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Qt(this,Hn,null)}render(){this.container.classList.add("squareAnnotation");const Mt=this.data,{width:Gt,height:dn}=rt(Mt.rect),hn=this.svgFactory.create(Gt,dn,!0),gn=Mt.borderStyle.width,Sn=qt(this,Hn,this.svgFactory.createElement("svg:rect"));return Sn.setAttribute("x",gn/2),Sn.setAttribute("y",gn/2),Sn.setAttribute("width",Gt-gn),Sn.setAttribute("height",dn-gn),Sn.setAttribute("stroke-width",gn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),hn.append(Sn),this.container.append(hn),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap;class Dt extends ct{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Qt(this,Kn,null)}render(){this.container.classList.add("circleAnnotation");const Mt=this.data,{width:Gt,height:dn}=rt(Mt.rect),hn=this.svgFactory.create(Gt,dn,!0),gn=Mt.borderStyle.width,Sn=qt(this,Kn,this.svgFactory.createElement("svg:ellipse"));return Sn.setAttribute("cx",Gt/2),Sn.setAttribute("cy",dn/2),Sn.setAttribute("rx",Gt/2-gn/2),Sn.setAttribute("ry",dn/2-gn/2),Sn.setAttribute("stroke-width",gn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),hn.append(Sn),this.container.append(hn),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $(this,Kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kn=new WeakMap;class Zt extends ct{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Qt(this,En,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Mt=this.data,{width:Gt,height:dn}=rt(Mt.rect),hn=this.svgFactory.create(Gt,dn,!0);let gn=[];for(const Nn of Mt.vertices){const In=Nn.x-Mt.rect[0],tn=Mt.rect[3]-Nn.y;gn.push(In+","+tn)}gn=gn.join(" ");const Sn=qt(this,En,this.svgFactory.createElement(this.svgElementName));return Sn.setAttribute("points",gn),Sn.setAttribute("stroke-width",Mt.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),hn.append(Sn),this.container.append(hn),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $(this,En)}addHighlightArea(){this.container.classList.add("highlightArea")}}En=new WeakMap;class $t extends Zt{constructor(It){super(It),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ht extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ut extends ct{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0});Qt(this,an,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Mt=this.data,{width:Gt,height:dn}=rt(Mt.rect),hn=this.svgFactory.create(Gt,dn,!0);for(const gn of Mt.inkLists){let Sn=[];for(const In of gn){const tn=In.x-Mt.rect[0],Pn=Mt.rect[3]-In.y;Sn.push(`${tn},${Pn}`)}Sn=Sn.join(" ");const Nn=this.svgFactory.createElement(this.svgElementName);$(this,an).push(Nn),Nn.setAttribute("points",Sn),Nn.setAttribute("stroke-width",Mt.borderStyle.width||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),!Mt.popupRef&&this.hasPopupData&&this._createPopup(),hn.append(Nn)}return this.container.append(hn),this.container}getElementsToTriggerPopup(){return $(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap,s.InkAnnotationElement=Ut;class zt extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xt extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class At extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Lt extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class St extends ct{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=St;class st extends ct{constructor(Mt){var hn;super(Mt,{isRenderable:!0});Qt(this,Ln);Qt(this,ln,null);const{filename:Gt,content:dn}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(Gt,!0),this.content=dn,(hn=this.linkService.eventBus)==null||hn.dispatch("fileattachmentannotation",{source:this,filename:Gt,content:dn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Mt,data:Gt}=this;let dn;Gt.hasAppearance||Gt.fillAlpha===0?dn=document.createElement("div"):(dn=document.createElement("img"),dn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Gt.name)?"paperclip":"pushpin"}.svg`,Gt.fillAlpha&&Gt.fillAlpha<1&&(dn.style=`filter: opacity(${Math.round(Gt.fillAlpha*100)}%);`)),dn.addEventListener("dblclick",Xt(this,Ln,Os).bind(this)),qt(this,ln,dn);const{isMac:hn}=a.FeatureTest.platform;return Mt.addEventListener("keydown",gn=>{gn.key==="Enter"&&(hn?gn.metaKey:gn.ctrlKey)&&Xt(this,Ln,Os).call(this)}),!Gt.popupRef&&this.hasPopupData?this._createPopup():dn.classList.add("popupTriggerArea"),Mt.append(dn),Mt}getElementsToTriggerPopup(){return $(this,ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}ln=new WeakMap,Ln=new WeakSet,Os=function(){var Mt;(Mt=this.downloadManager)==null||Mt.openOrDownloadData(this.container,this.content,this.filename)};class lt{constructor({div:It,accessibilityManager:Mt,annotationCanvasMap:Gt,l10n:dn,page:hn,viewport:gn}){Qt(this,An);Qt(this,Wn,null);Qt(this,Bt,null);Qt(this,mn,new Map);this.div=It,qt(this,Wn,Mt),qt(this,Bt,Gt),this.l10n=dn,this.page=hn,this.viewport=gn,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(It){const{annotations:Mt}=It,Gt=this.div;(0,o.setLayerDimensions)(Gt,this.viewport);const dn=new Map,hn={data:null,layer:Gt,linkService:It.linkService,downloadManager:It.downloadManager,imageResourcesPath:It.imageResourcesPath||"",renderForms:It.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:It.annotationStorage||new c.AnnotationStorage,enableScripting:It.enableScripting===!0,hasJSActions:It.hasJSActions,fieldObjects:It.fieldObjects,parent:this,elements:null};for(const gn of Mt){if(gn.noHTML)continue;const Sn=gn.annotationType===a.AnnotationType.POPUP;if(Sn){const tn=dn.get(gn.id);if(!tn)continue;hn.elements=tn}else{const{width:tn,height:Pn}=rt(gn.rect);if(tn<=0||Pn<=0)continue}hn.data=gn;const Nn=_e.create(hn);if(!Nn.isRenderable)continue;if(!Sn&&gn.popupRef){const tn=dn.get(gn.popupRef);tn?tn.push(Nn):dn.set(gn.popupRef,[Nn])}Nn.annotationEditorType>0&&$(this,mn).set(Nn.data.id,Nn);const In=Nn.render();gn.hidden&&(In.style.visibility="hidden"),Xt(this,An,go).call(this,In,gn.id)}Xt(this,An,Vs).call(this),await this.l10n.translate(Gt)}update({viewport:It}){const Mt=this.div;this.viewport=It,(0,o.setLayerDimensions)(Mt,{rotation:It.rotation}),Xt(this,An,Vs).call(this),Mt.hidden=!1}getEditableAnnotations(){return Array.from($(this,mn).values())}getEditableAnnotation(It){return $(this,mn).get(It)}}Wn=new WeakMap,Bt=new WeakMap,mn=new WeakMap,An=new WeakSet,go=function(It,Mt){var dn;const Gt=It.firstChild||It;Gt.id=`${a.AnnotationPrefix}${Mt}`,this.div.append(It),(dn=$(this,Wn))==null||dn.moveElementInDOM(this.div,It,Gt,!1)},Vs=function(){if(!$(this,Bt))return;const It=this.div;for(const[Mt,Gt]of $(this,Bt)){const dn=It.querySelector(`[data-annotation-id="${Mt}"]`);if(!dn)continue;const{firstChild:hn}=dn;hn?hn.nodeName==="CANVAS"?hn.replaceWith(Gt):hn.before(Gt):dn.append(Gt)}$(this,Bt).clear()},s.AnnotationLayer=lt},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,g,h,b]){return["G",1-Math.min(1,.3*d+.59*h+.11*g+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const g=i(d);return`#${g}${g}${g}`}static RGB_G([d,g,h]){return["G",.3*d+.59*g+.11*h]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,h,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,h+b),1-Math.min(1,g+b)]}static CMYK_rgb([d,g,h,b]){return[a(1-Math.min(1,d+b)),a(1-Math.min(1,h+b)),a(1-Math.min(1,g+b))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,h]){const b=1-d,_=1-g,j=1-h,rt=Math.min(b,_,j);return["CMYK",b,_,j,rt]}}s.ColorConverters=o},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function a(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return i[d]||""}function o(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,b)=>b in g?g[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,h=a(d,g)){return o(h,g)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=i(25);class o{static setupStorage(d,g,h,b,_){const j=b.getValue(g,{value:null});switch(h.name){case"textarea":if(j.value!==null&&(d.textContent=j.value),_==="print")break;d.addEventListener("input",rt=>{b.setValue(g,{value:rt.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(j.value===h.attributes.xfaOn?d.setAttribute("checked",!0):j.value===h.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",rt=>{b.setValue(g,{value:rt.target.checked?rt.target.getAttribute("xfaOn"):rt.target.getAttribute("xfaOff")})})}else{if(j.value!==null&&d.setAttribute("value",j.value),_==="print")break;d.addEventListener("input",rt=>{b.setValue(g,{value:rt.target.value})})}break;case"select":if(j.value!==null){d.setAttribute("value",j.value);for(const rt of h.children)rt.attributes.value===j.value?rt.attributes.selected=!0:rt.attributes.hasOwnProperty("selected")&&delete rt.attributes.selected}d.addEventListener("input",rt=>{const _e=rt.target.options,ct=_e.selectedIndex===-1?"":_e[_e.selectedIndex].value;b.setValue(g,{value:ct})});break}}static setAttributes({html:d,element:g,storage:h=null,intent:b,linkService:_}){const{attributes:j}=g,rt=d instanceof HTMLAnchorElement;j.type==="radio"&&(j.name=`${j.name}-${b}`);for(const[_e,ct]of Object.entries(j))if(ct!=null)switch(_e){case"class":ct.length&&d.setAttribute(_e,ct.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",ct);break;case"style":Object.assign(d.style,ct);break;case"textContent":d.textContent=ct;break;default:(!rt||_e!=="href"&&_e!=="newWindow")&&d.setAttribute(_e,ct)}rt&&_.addLinkAttributes(d,j.href,j.newWindow),h&&j.dataId&&this.setupStorage(d,j.dataId,g,h)}static render(d){var it;const g=d.annotationStorage,h=d.linkService,b=d.xfaHtml,_=d.intent||"display",j=document.createElement(b.name);b.attributes&&this.setAttributes({html:j,element:b,intent:_,linkService:h});const rt=[[b,-1,j]],_e=d.div;if(_e.append(j),d.viewport){const ut=`matrix(${d.viewport.transform.join(",")})`;_e.style.transform=ut}_!=="richText"&&_e.setAttribute("class","xfaLayer xfaFont");const ct=[];for(;rt.length>0;){const[ut,nt,et]=rt.at(-1);if(nt+1===ut.children.length){rt.pop();continue}const at=ut.children[++rt.at(-1)[1]];if(at===null)continue;const{name:ht}=at;if(ht==="#text"){const pt=document.createTextNode(at.value);ct.push(pt),et.append(pt);continue}const ot=(it=at==null?void 0:at.attributes)!=null&&it.xmlns?document.createElementNS(at.attributes.xmlns,ht):document.createElement(ht);if(et.append(ot),at.attributes&&this.setAttributes({html:ot,element:at,storage:g,intent:_,linkService:h}),at.children&&at.children.length>0)rt.push([at,-1,ot]);else if(at.value){const pt=document.createTextNode(at.value);a.XfaText.shouldBuildText(ht)&&ct.push(pt),ot.append(pt)}}for(const ut of _e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ut.setAttribute("readOnly",!0);return{textDivs:ct}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}s.XfaLayer=o},(e,s,i)=>{var b,_,j,rt,_e,ct,it,ut,nt,et,at,ht,ot,pt,dt,yo,vo,xo,bo,Bs,Eo,Us,wo,So,Ao,_o,Co,hr,zs,os,ls,Lr,$s,cs,Rt,ko,Ws,Ro,To,Hs,us,Dr;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=i(1),o=i(4),c=i(29),d=i(6),g=i(5);const xn=class xn extends o.AnnotationEditor{constructor(Tt){super({...Tt,name:"inkEditor"});Qt(this,dt);Qt(this,b,0);Qt(this,_,0);Qt(this,j,this.canvasPointermove.bind(this));Qt(this,rt,this.canvasPointerleave.bind(this));Qt(this,_e,this.canvasPointerup.bind(this));Qt(this,ct,this.canvasPointerdown.bind(this));Qt(this,it,new Path2D);Qt(this,ut,!1);Qt(this,nt,!1);Qt(this,et,!1);Qt(this,at,null);Qt(this,ht,0);Qt(this,ot,0);Qt(this,pt,null);this.color=Tt.color||null,this.thickness=Tt.thickness||null,this.opacity=Tt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Tt){o.AnnotationEditor.initialize(Tt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Tt,Vt){switch(Tt){case a.AnnotationEditorParamsType.INK_THICKNESS:xn._defaultThickness=Vt;break;case a.AnnotationEditorParamsType.INK_COLOR:xn._defaultColor=Vt;break;case a.AnnotationEditorParamsType.INK_OPACITY:xn._defaultOpacity=Vt/100;break}}updateParams(Tt,Vt){switch(Tt){case a.AnnotationEditorParamsType.INK_THICKNESS:Xt(this,dt,yo).call(this,Vt);break;case a.AnnotationEditorParamsType.INK_COLOR:Xt(this,dt,vo).call(this,Vt);break;case a.AnnotationEditorParamsType.INK_OPACITY:Xt(this,dt,xo).call(this,Vt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,xn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,xn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(xn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||xn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||xn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??xn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Xt(this,dt,os).call(this),Xt(this,dt,ls).call(this)),this.isAttachedToDOM||(this.parent.add(this),Xt(this,dt,Lr).call(this)),Xt(this,dt,Dr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,$(this,at).disconnect(),qt(this,at,null),super.remove())}setParent(Tt){!this.parent&&Tt?this._uiManager.removeShouldRescale(this):this.parent&&Tt===null&&this._uiManager.addShouldRescale(this),super.setParent(Tt)}onScaleChanging(){const[Tt,Vt]=this.parentDimensions,Jt=this.width*Tt,sn=this.height*Vt;this.setDimensions(Jt,sn)}enableEditMode(){$(this,ut)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",$(this,ct)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",$(this,ct)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){$(this,ut)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),qt(this,ut,!0),this.div.classList.add("disabled"),Xt(this,dt,Dr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Tt){this._focusEventsAllowed&&(super.focusin(Tt),this.enableEditMode())}canvasPointerdown(Tt){Tt.button!==0||!this.isInEditMode()||$(this,ut)||(this.setInForeground(),Tt.preventDefault(),Tt.type!=="mouse"&&this.div.focus(),Xt(this,dt,Eo).call(this,Tt.offsetX,Tt.offsetY))}canvasPointermove(Tt){Tt.preventDefault(),Xt(this,dt,Us).call(this,Tt.offsetX,Tt.offsetY)}canvasPointerup(Tt){Tt.preventDefault(),Xt(this,dt,zs).call(this,Tt)}canvasPointerleave(Tt){Xt(this,dt,zs).call(this,Tt)}get isResizable(){return!this.isEmpty()&&$(this,ut)}render(){if(this.div)return this.div;let Tt,Vt;this.width&&(Tt=this.x,Vt=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(bn=>{var en;return(en=this.div)==null?void 0:en.setAttribute("aria-label",bn)});const[Jt,sn,pn,vn]=Xt(this,dt,bo).call(this);if(this.setAt(Jt,sn,0,0),this.setDims(pn,vn),Xt(this,dt,os).call(this),this.width){const[bn,en]=this.parentDimensions;this.setAspectRatio(this.width*bn,this.height*en),this.setAt(Tt*bn,Vt*en,this.width*bn,this.height*en),qt(this,et,!0),Xt(this,dt,Lr).call(this),this.setDims(this.width*bn,this.height*en),Xt(this,dt,hr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Xt(this,dt,ls).call(this),this.div}setDimensions(Tt,Vt){const Jt=Math.round(Tt),sn=Math.round(Vt);if($(this,ht)===Jt&&$(this,ot)===sn)return;qt(this,ht,Jt),qt(this,ot,sn),this.canvas.style.visibility="hidden";const[pn,vn]=this.parentDimensions;this.width=Tt/pn,this.height=Vt/vn,this.fixAndSetPosition(),$(this,ut)&&Xt(this,dt,$s).call(this,Tt,Vt),Xt(this,dt,Lr).call(this),Xt(this,dt,hr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Tt,Vt,Jt){var On,Hn,Kn;if(Tt instanceof c.InkAnnotationElement)return null;const sn=super.deserialize(Tt,Vt,Jt);sn.thickness=Tt.thickness,sn.color=a.Util.makeHexColor(...Tt.color),sn.opacity=Tt.opacity;const[pn,vn]=sn.pageDimensions,bn=sn.width*pn,en=sn.height*vn,kn=sn.parentScale,Cn=Tt.thickness/2;qt(sn,ut,!0),qt(sn,ht,Math.round(bn)),qt(sn,ot,Math.round(en));const{paths:Un,rect:Vn,rotation:$n}=Tt;for(let{bezier:En}of Un){En=Xt(On=xn,Rt,Ro).call(On,En,Vn,$n);const an=[];sn.paths.push(an);let ln=kn*(En[0]-Cn),Ln=kn*(En[1]-Cn);for(let Wn=2,Bt=En.length;Wn<Bt;Wn+=6){const mn=kn*(En[Wn]-Cn),An=kn*(En[Wn+1]-Cn),Fn=kn*(En[Wn+2]-Cn),_n=kn*(En[Wn+3]-Cn),Tn=kn*(En[Wn+4]-Cn),It=kn*(En[Wn+5]-Cn);an.push([[ln,Ln],[mn,An],[Fn,_n],[Tn,It]]),ln=Tn,Ln=It}const Gn=Xt(this,Rt,ko).call(this,an);sn.bezierPath2D.push(Gn)}const Dn=Xt(Hn=sn,dt,Hs).call(Hn);return qt(sn,_,Math.max(o.AnnotationEditor.MIN_SIZE,Dn[2]-Dn[0])),qt(sn,b,Math.max(o.AnnotationEditor.MIN_SIZE,Dn[3]-Dn[1])),Xt(Kn=sn,dt,$s).call(Kn,bn,en),sn}serialize(){if(this.isEmpty())return null;const Tt=this.getRect(0,0),Vt=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Vt,thickness:this.thickness,opacity:this.opacity,paths:Xt(this,dt,To).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Tt),pageIndex:this.pageIndex,rect:Tt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakMap,et=new WeakMap,at=new WeakMap,ht=new WeakMap,ot=new WeakMap,pt=new WeakMap,dt=new WeakSet,yo=function(Tt){const Vt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Tt,Xt(this,dt,Dr).call(this)},undo:()=>{this.thickness=Vt,Xt(this,dt,Dr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},vo=function(Tt){const Vt=this.color;this.addCommands({cmd:()=>{this.color=Tt,Xt(this,dt,hr).call(this)},undo:()=>{this.color=Vt,Xt(this,dt,hr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xo=function(Tt){Tt/=100;const Vt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Tt,Xt(this,dt,hr).call(this)},undo:()=>{this.opacity=Vt,Xt(this,dt,hr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},bo=function(){const{parentRotation:Tt,parentDimensions:[Vt,Jt]}=this;switch(Tt){case 90:return[0,Jt,Jt,Vt];case 180:return[Vt,Jt,Vt,Jt];case 270:return[Vt,0,Jt,Vt];default:return[0,0,Vt,Jt]}},Bs=function(){const{ctx:Tt,color:Vt,opacity:Jt,thickness:sn,parentScale:pn,scaleFactor:vn}=this;Tt.lineWidth=sn*pn/vn,Tt.lineCap="round",Tt.lineJoin="round",Tt.miterLimit=10,Tt.strokeStyle=`${Vt}${(0,g.opacityToHex)(Jt)}`},Eo=function(Tt,Vt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",$(this,rt)),this.canvas.addEventListener("pointermove",$(this,j)),this.canvas.addEventListener("pointerup",$(this,_e)),this.canvas.removeEventListener("pointerdown",$(this,ct)),this.isEditing=!0,$(this,et)||(qt(this,et,!0),Xt(this,dt,Lr).call(this),this.thickness||(this.thickness=xn._defaultThickness),this.color||(this.color=xn._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=xn._defaultOpacity)),this.currentPath.push([Tt,Vt]),qt(this,nt,!1),Xt(this,dt,Bs).call(this),qt(this,pt,()=>{Xt(this,dt,Ao).call(this),$(this,pt)&&window.requestAnimationFrame($(this,pt))}),window.requestAnimationFrame($(this,pt))},Us=function(Tt,Vt){const[Jt,sn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Tt===Jt&&Vt===sn)return;const pn=this.currentPath;let vn=$(this,it);if(pn.push([Tt,Vt]),qt(this,nt,!0),pn.length<=2){vn.moveTo(...pn[0]),vn.lineTo(Tt,Vt);return}pn.length===3&&(qt(this,it,vn=new Path2D),vn.moveTo(...pn[0])),Xt(this,dt,_o).call(this,vn,...pn.at(-3),...pn.at(-2),Tt,Vt)},wo=function(){if(this.currentPath.length===0)return;const Tt=this.currentPath.at(-1);$(this,it).lineTo(...Tt)},So=function(Tt,Vt){qt(this,pt,null),Tt=Math.min(Math.max(Tt,0),this.canvas.width),Vt=Math.min(Math.max(Vt,0),this.canvas.height),Xt(this,dt,Us).call(this,Tt,Vt),Xt(this,dt,wo).call(this);let Jt;if(this.currentPath.length!==1)Jt=Xt(this,dt,Co).call(this);else{const en=[Tt,Vt];Jt=[[en,en.slice(),en.slice(),en]]}const sn=$(this,it),pn=this.currentPath;this.currentPath=[],qt(this,it,new Path2D);const vn=()=>{this.allRawPaths.push(pn),this.paths.push(Jt),this.bezierPath2D.push(sn),this.rebuild()},bn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Xt(this,dt,os).call(this),Xt(this,dt,ls).call(this)),Xt(this,dt,Dr).call(this))};this.addCommands({cmd:vn,undo:bn,mustExec:!0})},Ao=function(){if(!$(this,nt))return;qt(this,nt,!1);const Tt=Math.ceil(this.thickness*this.parentScale),Vt=this.currentPath.slice(-3),Jt=Vt.map(vn=>vn[0]),sn=Vt.map(vn=>vn[1]);Math.min(...Jt)-Tt,Math.max(...Jt)+Tt,Math.min(...sn)-Tt,Math.max(...sn)+Tt;const{ctx:pn}=this;pn.save(),pn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const vn of this.bezierPath2D)pn.stroke(vn);pn.stroke($(this,it)),pn.restore()},_o=function(Tt,Vt,Jt,sn,pn,vn,bn){const en=(Vt+sn)/2,kn=(Jt+pn)/2,Cn=(sn+vn)/2,Un=(pn+bn)/2;Tt.bezierCurveTo(en+2*(sn-en)/3,kn+2*(pn-kn)/3,Cn+2*(sn-Cn)/3,Un+2*(pn-Un)/3,Cn,Un)},Co=function(){const Tt=this.currentPath;if(Tt.length<=2)return[[Tt[0],Tt[0],Tt.at(-1),Tt.at(-1)]];const Vt=[];let Jt,[sn,pn]=Tt[0];for(Jt=1;Jt<Tt.length-2;Jt++){const[Vn,$n]=Tt[Jt],[Dn,On]=Tt[Jt+1],Hn=(Vn+Dn)/2,Kn=($n+On)/2,En=[sn+2*(Vn-sn)/3,pn+2*($n-pn)/3],an=[Hn+2*(Vn-Hn)/3,Kn+2*($n-Kn)/3];Vt.push([[sn,pn],En,an,[Hn,Kn]]),[sn,pn]=[Hn,Kn]}const[vn,bn]=Tt[Jt],[en,kn]=Tt[Jt+1],Cn=[sn+2*(vn-sn)/3,pn+2*(bn-pn)/3],Un=[en+2*(vn-en)/3,kn+2*(bn-kn)/3];return Vt.push([[sn,pn],Cn,Un,[en,kn]]),Vt},hr=function(){if(this.isEmpty()){Xt(this,dt,cs).call(this);return}Xt(this,dt,Bs).call(this);const{canvas:Tt,ctx:Vt}=this;Vt.setTransform(1,0,0,1,0,0),Vt.clearRect(0,0,Tt.width,Tt.height),Xt(this,dt,cs).call(this);for(const Jt of this.bezierPath2D)Vt.stroke(Jt)},zs=function(Tt){this.canvas.removeEventListener("pointerleave",$(this,rt)),this.canvas.removeEventListener("pointermove",$(this,j)),this.canvas.removeEventListener("pointerup",$(this,_e)),this.canvas.addEventListener("pointerdown",$(this,ct)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Xt(this,dt,So).call(this,Tt.offsetX,Tt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},os=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Tt=>{var Vt;return(Vt=this.canvas)==null?void 0:Vt.setAttribute("aria-label",Tt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ls=function(){qt(this,at,new ResizeObserver(Tt=>{const Vt=Tt[0].contentRect;Vt.width&&Vt.height&&this.setDimensions(Vt.width,Vt.height)})),$(this,at).observe(this.div)},Lr=function(){if(!$(this,et))return;const[Tt,Vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Tt),this.canvas.height=Math.ceil(this.height*Vt),Xt(this,dt,cs).call(this)},$s=function(Tt,Vt){const Jt=Xt(this,dt,us).call(this),sn=(Tt-Jt)/$(this,_),pn=(Vt-Jt)/$(this,b);this.scaleFactor=Math.min(sn,pn)},cs=function(){const Tt=Xt(this,dt,us).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Tt,this.translationY*this.scaleFactor+Tt)},Rt=new WeakSet,ko=function(Tt){const Vt=new Path2D;for(let Jt=0,sn=Tt.length;Jt<sn;Jt++){const[pn,vn,bn,en]=Tt[Jt];Jt===0&&Vt.moveTo(...pn),Vt.bezierCurveTo(vn[0],vn[1],bn[0],bn[1],en[0],en[1])}return Vt},Ws=function(Tt,Vt,Jt){const[sn,pn,vn,bn]=Vt;switch(Jt){case 0:for(let en=0,kn=Tt.length;en<kn;en+=2)Tt[en]+=sn,Tt[en+1]=bn-Tt[en+1];break;case 90:for(let en=0,kn=Tt.length;en<kn;en+=2){const Cn=Tt[en];Tt[en]=Tt[en+1]+sn,Tt[en+1]=Cn+pn}break;case 180:for(let en=0,kn=Tt.length;en<kn;en+=2)Tt[en]=vn-Tt[en],Tt[en+1]+=pn;break;case 270:for(let en=0,kn=Tt.length;en<kn;en+=2){const Cn=Tt[en];Tt[en]=vn-Tt[en+1],Tt[en+1]=bn-Cn}break;default:throw new Error("Invalid rotation")}return Tt},Ro=function(Tt,Vt,Jt){const[sn,pn,vn,bn]=Vt;switch(Jt){case 0:for(let en=0,kn=Tt.length;en<kn;en+=2)Tt[en]-=sn,Tt[en+1]=bn-Tt[en+1];break;case 90:for(let en=0,kn=Tt.length;en<kn;en+=2){const Cn=Tt[en];Tt[en]=Tt[en+1]-pn,Tt[en+1]=Cn-sn}break;case 180:for(let en=0,kn=Tt.length;en<kn;en+=2)Tt[en]=vn-Tt[en],Tt[en+1]-=pn;break;case 270:for(let en=0,kn=Tt.length;en<kn;en+=2){const Cn=Tt[en];Tt[en]=bn-Tt[en+1],Tt[en+1]=vn-Cn}break;default:throw new Error("Invalid rotation")}return Tt},To=function(Tt,Vt,Jt,sn){var kn,Cn;const pn=[],vn=this.thickness/2,bn=Tt*Vt+vn,en=Tt*Jt+vn;for(const Un of this.paths){const Vn=[],$n=[];for(let Dn=0,On=Un.length;Dn<On;Dn++){const[Hn,Kn,En,an]=Un[Dn],ln=Tt*Hn[0]+bn,Ln=Tt*Hn[1]+en,Gn=Tt*Kn[0]+bn,Wn=Tt*Kn[1]+en,Bt=Tt*En[0]+bn,mn=Tt*En[1]+en,An=Tt*an[0]+bn,Fn=Tt*an[1]+en;Dn===0&&(Vn.push(ln,Ln),$n.push(ln,Ln)),Vn.push(Gn,Wn,Bt,mn,An,Fn),$n.push(Gn,Wn),Dn===On-1&&$n.push(An,Fn)}pn.push({bezier:Xt(kn=xn,Rt,Ws).call(kn,Vn,sn,this.rotation),points:Xt(Cn=xn,Rt,Ws).call(Cn,$n,sn,this.rotation)})}return pn},Hs=function(){let Tt=1/0,Vt=-1/0,Jt=1/0,sn=-1/0;for(const pn of this.paths)for(const[vn,bn,en,kn]of pn){const Cn=a.Util.bezierBoundingBox(...vn,...bn,...en,...kn);Tt=Math.min(Tt,Cn[0]),Jt=Math.min(Jt,Cn[1]),Vt=Math.max(Vt,Cn[2]),sn=Math.max(sn,Cn[3])}return[Tt,Jt,Vt,sn]},us=function(){return $(this,ut)?Math.ceil(this.thickness*this.parentScale):0},Dr=function(Tt=!1){if(this.isEmpty())return;if(!$(this,ut)){Xt(this,dt,hr).call(this);return}const Vt=Xt(this,dt,Hs).call(this),Jt=Xt(this,dt,us).call(this);qt(this,_,Math.max(o.AnnotationEditor.MIN_SIZE,Vt[2]-Vt[0])),qt(this,b,Math.max(o.AnnotationEditor.MIN_SIZE,Vt[3]-Vt[1]));const sn=Math.ceil(Jt+$(this,_)*this.scaleFactor),pn=Math.ceil(Jt+$(this,b)*this.scaleFactor),[vn,bn]=this.parentDimensions;this.width=sn/vn,this.height=pn/bn,this.setAspectRatio(sn,pn);const en=this.translationX,kn=this.translationY;this.translationX=-Vt[0],this.translationY=-Vt[1],Xt(this,dt,Lr).call(this),Xt(this,dt,hr).call(this),qt(this,ht,sn),qt(this,ot,pn),this.setDims(sn,pn);const Cn=Tt?Jt/this.scaleFactor/2:0;this.translate(en-this.translationX-Cn,kn-this.translationY-Cn)},Qt(xn,Rt),Qn(xn,"_defaultColor",null),Qn(xn,"_defaultOpacity",1),Qn(xn,"_defaultThickness",1),Qn(xn,"_type","ink");let h=xn;s.InkEditor=h},(e,s,i)=>{var h,b,_,j,rt,_e,ct,it,ut,nt,et,Xr,qr,ds,Gs,Po,Mo,Ks,hs,jo;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=i(1),o=i(4),c=i(6),d=i(29);const Ct=class Ct extends o.AnnotationEditor{constructor($t){super({...$t,name:"stampEditor"});Qt(this,et);Qt(this,h,null);Qt(this,b,null);Qt(this,_,null);Qt(this,j,null);Qt(this,rt,null);Qt(this,_e,null);Qt(this,ct,null);Qt(this,it,null);Qt(this,ut,!1);Qt(this,nt,!1);qt(this,j,$t.bitmapUrl),qt(this,rt,$t.bitmapFile)}static initialize($t){o.AnnotationEditor.initialize($t)}static get supportedTypes(){const $t=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",$t.map(Ht=>`image/${Ht}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting($t){return this.supportedTypes.includes($t)}static paste($t,Ht){Ht.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:$t.getAsFile()})}remove(){var $t,Ht;$(this,b)&&(qt(this,h,null),this._uiManager.imageManager.deleteId($(this,b)),($t=$(this,_e))==null||$t.remove(),qt(this,_e,null),(Ht=$(this,ct))==null||Ht.disconnect(),qt(this,ct,null)),super.remove()}rebuild(){if(!this.parent){$(this,b)&&Xt(this,et,ds).call(this);return}super.rebuild(),this.div!==null&&($(this,b)&&Xt(this,et,ds).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!($(this,_)||$(this,h)||$(this,j)||$(this,rt))}get isResizable(){return!0}render(){if(this.div)return this.div;let $t,Ht;if(this.width&&($t=this.x,Ht=this.y),super.render(),this.div.hidden=!0,$(this,h)?Xt(this,et,Gs).call(this):Xt(this,et,ds).call(this),this.width){const[Ut,zt]=this.parentDimensions;this.setAt($t*Ut,Ht*zt,this.width*Ut,this.height*zt)}return this.div}static deserialize($t,Ht,Ut){if($t instanceof d.StampAnnotationElement)return null;const zt=super.deserialize($t,Ht,Ut),{rect:xt,bitmapUrl:At,bitmapId:Lt,isSvg:St,accessibilityData:st}=$t;Lt&&Ut.imageManager.isValidId(Lt)?qt(zt,b,Lt):qt(zt,j,At),qt(zt,ut,St);const[lt,Et]=zt.pageDimensions;return zt.width=(xt[2]-xt[0])/lt,zt.height=(xt[3]-xt[1])/Et,st&&(zt.altTextData=st),zt}serialize($t=!1,Ht=null){if(this.isEmpty())return null;const Ut={annotationType:a.AnnotationEditorType.STAMP,bitmapId:$(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:$(this,ut),structTreeParentId:this._structTreeParentId};if($t)return Ut.bitmapUrl=Xt(this,et,hs).call(this,!0),Ut.accessibilityData=this.altTextData,Ut;const{decorative:zt,altText:xt}=this.altTextData;if(!zt&&xt&&(Ut.accessibilityData={type:"Figure",alt:xt}),Ht===null)return Ut;Ht.stamps||(Ht.stamps=new Map);const At=$(this,ut)?(Ut.rect[2]-Ut.rect[0])*(Ut.rect[3]-Ut.rect[1]):null;if(!Ht.stamps.has($(this,b)))Ht.stamps.set($(this,b),{area:At,serialized:Ut}),Ut.bitmap=Xt(this,et,hs).call(this,!1);else if($(this,ut)){const Lt=Ht.stamps.get($(this,b));At>Lt.area&&(Lt.area=At,Lt.serialized.bitmap.close(),Lt.serialized.bitmap=Xt(this,et,hs).call(this,!1))}return Ut}};h=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,rt=new WeakMap,_e=new WeakMap,ct=new WeakMap,it=new WeakMap,ut=new WeakMap,nt=new WeakMap,et=new WeakSet,Xr=function($t,Ht=!1){if(!$t){this.remove();return}qt(this,h,$t.bitmap),Ht||(qt(this,b,$t.id),qt(this,ut,$t.isSvg)),Xt(this,et,Gs).call(this)},qr=function(){qt(this,_,null),this._uiManager.enableWaiting(!1),$(this,_e)&&this.div.focus()},ds=function(){if($(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId($(this,b)).then(Ht=>Xt(this,et,Xr).call(this,Ht,!0)).finally(()=>Xt(this,et,qr).call(this));return}if($(this,j)){const Ht=$(this,j);qt(this,j,null),this._uiManager.enableWaiting(!0),qt(this,_,this._uiManager.imageManager.getFromUrl(Ht).then(Ut=>Xt(this,et,Xr).call(this,Ut)).finally(()=>Xt(this,et,qr).call(this)));return}if($(this,rt)){const Ht=$(this,rt);qt(this,rt,null),this._uiManager.enableWaiting(!0),qt(this,_,this._uiManager.imageManager.getFromFile(Ht).then(Ut=>Xt(this,et,Xr).call(this,Ut)).finally(()=>Xt(this,et,qr).call(this)));return}const $t=document.createElement("input");$t.type="file",$t.accept=Ct.supportedTypesStr,qt(this,_,new Promise(Ht=>{$t.addEventListener("change",async()=>{if(!$t.files||$t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ut=await this._uiManager.imageManager.getFromFile($t.files[0]);Xt(this,et,Xr).call(this,Ut)}Ht()}),$t.addEventListener("cancel",()=>{this.remove(),Ht()})}).finally(()=>Xt(this,et,qr).call(this))),$t.click()},Gs=function(){const{div:$t}=this;let{width:Ht,height:Ut}=$(this,h);const[zt,xt]=this.pageDimensions,At=.75;if(this.width)Ht=this.width*zt,Ut=this.height*xt;else if(Ht>At*zt||Ut>At*xt){const lt=Math.min(At*zt/Ht,At*xt/Ut);Ht*=lt,Ut*=lt}const[Lt,St]=this.parentDimensions;this.setDims(Ht*Lt/zt,Ut*St/xt),this._uiManager.enableWaiting(!1);const st=qt(this,_e,document.createElement("canvas"));$t.append(st),$t.hidden=!1,Xt(this,et,Ks).call(this,Ht,Ut),Xt(this,et,jo).call(this),$(this,nt)||(this.parent.addUndoableEditor(this),qt(this,nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Po=function($t,Ht){var At;const[Ut,zt]=this.parentDimensions;this.width=$t/Ut,this.height=Ht/zt,this.setDims($t,Ht),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,$(this,it)!==null&&clearTimeout($(this,it)),qt(this,it,setTimeout(()=>{qt(this,it,null),Xt(this,et,Ks).call(this,$t,Ht)},200))},Mo=function($t,Ht){const{width:Ut,height:zt}=$(this,h);let xt=Ut,At=zt,Lt=$(this,h);for(;xt>2*$t||At>2*Ht;){const St=xt,st=At;xt>2*$t&&(xt=xt>=16384?Math.floor(xt/2)-1:Math.ceil(xt/2)),At>2*Ht&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const lt=new OffscreenCanvas(xt,At);lt.getContext("2d").drawImage(Lt,0,0,St,st,0,0,xt,At),Lt=lt.transferToImageBitmap()}return Lt},Ks=function($t,Ht){$t=Math.ceil($t),Ht=Math.ceil(Ht);const Ut=$(this,_e);if(!Ut||Ut.width===$t&&Ut.height===Ht)return;Ut.width=$t,Ut.height=Ht;const zt=$(this,ut)?$(this,h):Xt(this,et,Mo).call(this,$t,Ht),xt=Ut.getContext("2d");xt.filter=this._uiManager.hcmFilter,xt.drawImage(zt,0,0,zt.width,zt.height,0,0,$t,Ht)},hs=function($t){if($t){if($(this,ut)){const zt=this._uiManager.imageManager.getSvgUrl($(this,b));if(zt)return zt}const Ht=document.createElement("canvas");return{width:Ht.width,height:Ht.height}=$(this,h),Ht.getContext("2d").drawImage($(this,h),0,0),Ht.toDataURL()}if($(this,ut)){const[Ht,Ut]=this.pageDimensions,zt=Math.round(this.width*Ht*c.PixelsPerInch.PDF_TO_CSS_UNITS),xt=Math.round(this.height*Ut*c.PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(zt,xt);return At.getContext("2d").drawImage($(this,h),0,0,$(this,h).width,$(this,h).height,0,0,zt,xt),At.transferToImageBitmap()}return structuredClone($(this,h))},jo=function(){qt(this,ct,new ResizeObserver($t=>{const Ht=$t[0].contentRect;Ht.width&&Ht.height&&Xt(this,et,Po).call(this,Ht.width,Ht.height)})),$(this,ct).observe(this.div)},Qn(Ct,"_type","stamp");let g=Ct;s.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;const Dashboard=()=>{var Nn,In;const e=useNavigate(),[s,i]=reactExports.useState(null),[a,o]=reactExports.useState(!0),[c,d]=reactExports.useState(""),[g,h]=reactExports.useState(5),[b,_]=reactExports.useState(!1),[j,rt]=reactExports.useState([]),[_e,ct]=reactExports.useState(0),[it,ut]=reactExports.useState("text"),[nt,et]=reactExports.useState(""),[at,ht]=reactExports.useState(null),[ot,pt]=reactExports.useState(!1),[dt,ft]=reactExports.useState(!1),[gt,kt]=reactExports.useState(""),[mt,Ct]=reactExports.useState("flashcard"),[Dt,Zt]=reactExports.useState(!1),[$t,Ht]=reactExports.useState([]),[Ut,zt]=reactExports.useState(0),[xt,At]=reactExports.useState(""),[Lt,St]=reactExports.useState(0),[st,lt]=reactExports.useState(0),[Et,Pt]=reactExports.useState(!1),[Rt,Nt]=reactExports.useState(null),[Kt,nn]=reactExports.useState(!1),[un,fn]=reactExports.useState(null),[yn,wn]=reactExports.useState(5),[xn,rn]=reactExports.useState(0),[,on]=reactExports.useState(0),[Tt,Vt]=reactExports.useState(null),[Jt,sn]=reactExports.useState(!1),[pn,vn]=reactExports.useState(!1),bn=reactExports.useRef(null),en=reactExports.useRef(null),kn=reactExports.useRef(null),Cn=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{const Rn=await(await fetch(apiUrl("/api/me"),{credentials:"include"})).json();Rn.status==="success"&&Rn.user?i(Rn.user):i(null)}catch{i(null)}o(!1)})()},[]);const Un=async()=>{if(c.trim()){if(!s){ue.error("Please login to generate flashcards");return}_(!0);try{const tn=await fetch(apiUrl("/api/generate_flashcards"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c,count:g}),credentials:"include"}),Pn=await tn.json();Pn.status==="success"&&Pn.flashcards?(rt(Pn.flashcards),ct(0)):tn.status===401&&(ue.error("Session expired. Please login again."),i(null))}catch(tn){console.error(tn),ue.error("Failed to generate flashcards")}_(!1)}},Vn=tn=>{d(Pn=>Pn+(Pn?`

`:"")+tn),ut("text")},$n=async tn=>{var Rn;const Pn=(Rn=tn.target.files)==null?void 0:Rn[0];if(Pn){ft(!0),kt(" Scanning image...");try{const{data:{text:Mn}}=await Tesseract$1.recognize(Pn,"eng");Mn.trim()&&(d(jn=>jn+(jn?`

`:"")+Mn),kt(" Done!"),setTimeout(()=>{ut("text"),kt("")},1500))}catch{kt(" Failed")}ft(!1)}},Dn=async tn=>{var Rn;const Pn=(Rn=tn.target.files)==null?void 0:Rn[0];if(Pn){ft(!0),kt(" Extracting text...");try{const Mn=await Pn.arrayBuffer(),jn=await pdfExports.getDocument(Mn).promise;let Bn="";for(let zn=1;zn<=Math.min(jn.numPages,20);zn++){const qn=await(await jn.getPage(zn)).getTextContent();Bn+=qn.items.map(Yn=>Yn.str).join(" ")+`
`}Bn.trim()&&(d(zn=>zn+(zn?`

`:"")+Bn),kt(" Done!"),setTimeout(()=>{ut("text"),kt("")},1500))}catch{kt(" Failed")}ft(!1)}},On=async tn=>{var Rn;const Pn=(Rn=tn.target.files)==null?void 0:Rn[0];if(Pn){ft(!0),kt(" Transcribing...");try{const Mn=new FormData;Mn.append("audio",Pn);const Bn=await(await fetch(apiUrl("/api/transcribe_audio"),{method:"POST",body:Mn})).json();Bn.status==="success"&&(d(zn=>zn+(zn?`

`:"")+Bn.transcript),kt(" Done!"),setTimeout(()=>{ut("text"),kt("")},1500))}catch{kt(" Failed")}ft(!1)}},Hn=async tn=>{var Rn;const Pn=(Rn=tn.target.files)==null?void 0:Rn[0];if(Pn){ft(!0),kt(" Extracting audio...");try{const Mn=URL.createObjectURL(Pn),jn=document.createElement("video");jn.src=Mn,await new Promise(wr=>jn.onloadedmetadata=wr);const Bn=new AudioContext,Xn=await(await fetch(Mn)).arrayBuffer(),qn=await Bn.decodeAudioData(Xn),Yn=Kn(qn);kt(" Transcribing...");const Zn=new FormData;Zn.append("audio",Yn,"video.wav");const ir=await(await fetch(apiUrl("/api/transcribe_audio"),{method:"POST",body:Zn})).json();ir.status==="success"&&(d(wr=>wr+(wr?`

`:"")+ir.transcript),kt(" Done!"),setTimeout(()=>{ut("text"),kt("")},1500))}catch{kt(" Failed")}ft(!1)}},Kn=tn=>{const Pn=tn.numberOfChannels,Rn=tn.length*Pn*2+44,Mn=new ArrayBuffer(Rn),jn=new DataView(Mn),Bn=[];let zn=0;const Xn=Zn=>{jn.setUint16(zn,Zn,!0),zn+=2},qn=Zn=>{jn.setUint32(zn,Zn,!0),zn+=4};qn(1179011410),qn(Rn-8),qn(1163280727),qn(544501094),qn(16),Xn(1),Xn(Pn),qn(tn.sampleRate),qn(tn.sampleRate*2*Pn),Xn(Pn*2),Xn(16),qn(1635017060),qn(Rn-zn-4);for(let Zn=0;Zn<Pn;Zn++)Bn.push(tn.getChannelData(Zn));let Yn=0;for(;zn<Rn;){for(let Zn=0;Zn<Pn;Zn++){let tr=Math.max(-1,Math.min(1,Bn[Zn][Yn]));tr=(.5+tr<0?tr*32768:tr*32767)|0,jn.setInt16(zn,tr,!0),zn+=2}Yn++}return new Blob([Mn],{type:"audio/wav"})},En=async()=>{if(nt.trim()){pt(!0);try{const Pn=await(await fetch(apiUrl("/api/evaluate_answer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_answer:nt,correct_answer:j[_e].answer})})).json();ht(Pn.correct)}catch{ht(!1)}pt(!1)}},an=()=>{ct(tn=>Math.min(tn+1,j.length-1)),et(""),ht(null)},ln=()=>{ct(tn=>Math.max(tn-1,0)),et(""),ht(null)},Ln=()=>{ct(0),et(""),ht(null)},Gn=async()=>{if(c.trim()){if(!s){ue.error("Please login to start a quiz");return}_(!0),kt(" Generating quiz...");try{const tn=await fetch(apiUrl("/api/generate_flashcards"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c,count:yn}),credentials:"include"}),Pn=await tn.json();if(Pn.status==="success"&&Pn.flashcards){const Rn=Pn.flashcards.sort(()=>Math.random()-.5);Ht(Rn),zt(0),At(""),St(0),lt(0),Pt(!1),Nt(new Date),Zt(!0),nn(!1),fn(null)}else tn.status===401&&(ue.error("Session expired. Please login again."),i(null))}catch(tn){console.error(tn),ue.error("Failed to generate quiz")}_(!1),kt("")}},Wn=async()=>{if(!(!xt.trim()||!$t[Ut])){pt(!0);try{const Rn=(await(await fetch(apiUrl("/api/evaluate_answer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_answer:xt,correct_answer:$t[Ut].answer})})).json()).correct,Mn=[...$t];Mn[Ut]={...Mn[Ut],userAnswer:xt,isCorrect:Rn},Ht(Mn),Rn?St(jn=>jn+1):lt(jn=>jn+1),fn(Rn),nn(!0),setTimeout(()=>{nn(!1),fn(null),Ut<$t.length-1?(zt(jn=>jn+1),At("")):Pt(!0)},1500)}catch(tn){console.error(tn)}pt(!1)}},Bt=()=>{Zt(!1),Pt(!1),Ht([]),zt(0),At("")},mn=()=>Lt+st===0?0:Math.round(Lt/(Lt+st)*100),An=reactExports.useCallback(tn=>{rn(Pn=>(Pn+1>=3&&(sn(!0),Pt(!0)),Pn+1)),Vt(tn),setTimeout(()=>Vt(null),3e3)},[]),Fn=reactExports.useCallback(tn=>{if(!Dt||Et)return;[{key:"PrintScreen"},{key:"F12"},{key:"i",ctrl:!0,shift:!0},{key:"j",ctrl:!0,shift:!0},{key:"u",ctrl:!0},{key:"s",ctrl:!0},{key:"p",ctrl:!0},{key:"c",ctrl:!0},{key:"v",ctrl:!0},{key:"x",ctrl:!0},{key:"a",ctrl:!0},{key:"Insert",ctrl:!0},{key:"Insert",shift:!0}].some(Rn=>tn.key.toLowerCase()===Rn.key.toLowerCase()&&tn.ctrlKey===(Rn.ctrl||!1)&&tn.shiftKey===(Rn.shift||!1))&&(tn.preventDefault(),An(`Blocked: ${tn.ctrlKey?"Ctrl+":""}${tn.shiftKey?"Shift+":""}${tn.key}`))},[Dt,Et,An]),_n=reactExports.useCallback(tn=>{!Dt||Et||(tn.preventDefault(),An(`${tn.type==="copy"?"Copy":tn.type==="paste"?"Paste":"Cut"} blocked`))},[Dt,Et,An]),Tn=reactExports.useCallback(()=>{!Dt||Et||document.hidden&&(on(tn=>tn+1),An("Tab switched"))},[Dt,Et,An]),It=reactExports.useCallback(()=>{!Dt||Et||(on(tn=>tn+1),An("Window focus lost"))},[Dt,Et,An]),Mt=reactExports.useCallback(tn=>{Dt&&!Et&&(tn.preventDefault(),An("Right-click blocked"))},[Dt,Et,An]),Gt=reactExports.useCallback(()=>{!Dt||Et||An("Screenshot attempt detected")},[Dt,Et,An]);reactExports.useEffect(()=>{if(Dt&&!Et){document.addEventListener("keydown",Fn),document.addEventListener("visibilitychange",Tn),document.addEventListener("contextmenu",Mt),document.addEventListener("copy",_n),document.addEventListener("paste",_n),document.addEventListener("cut",_n),window.addEventListener("blur",It),document.body.style.userSelect="none";const tn=Pn=>{Pn.key==="PrintScreen"&&(Pn.preventDefault(),Gt())};document.addEventListener("keyup",tn),rn(0),on(0),sn(!1)}return()=>{document.removeEventListener("keydown",Fn),document.removeEventListener("visibilitychange",Tn),document.removeEventListener("contextmenu",Mt),document.removeEventListener("copy",_n),document.removeEventListener("paste",_n),document.removeEventListener("cut",_n),window.removeEventListener("blur",It),document.body.style.userSelect=""}},[Dt,Et,Fn,Tn,Mt,_n,It,Gt]);const dn=()=>{if(!j.length)return alert("No flashcards!");const tn=j.map((Mn,jn)=>`Q${jn+1}: ${Mn.question}
A${jn+1}: ${Mn.answer}`).join(`

---

`),Pn=new Blob([`CODING CRASHERS FLASHCARDS

${tn}`],{type:"text/plain"}),Rn=document.createElement("a");Rn.href=URL.createObjectURL(Pn),Rn.download="CodingCrashers_Flashcards.txt",Rn.click(),vn(!1)},hn=()=>{if(!j.length)return alert("No flashcards!");const tn=`Question,Answer
`+j.map(Mn=>`"${Mn.question.replace(/"/g,'""')}","${Mn.answer.replace(/"/g,'""')}"`).join(`
`),Pn=new Blob([tn],{type:"text/csv"}),Rn=document.createElement("a");Rn.href=URL.createObjectURL(Pn),Rn.download="CodingCrashers_Flashcards.csv",Rn.click(),vn(!1)},gn=()=>{const tn=Rt?Math.floor((Date.now()-Rt.getTime())/1e3):0;let Pn=`CODING CRASHERS QUIZ REPORT

Score: ${mn()}%
Correct: ${Lt}
Incorrect: ${st}
Time: ${Math.floor(tn/60)}m ${tn%60}s
Violations: ${xn}

`;$t.forEach((jn,Bn)=>{Pn+=`Q${Bn+1}: ${jn.question}
Your Answer: ${jn.userAnswer||"N/A"}
Correct: ${jn.answer}
Result: ${jn.isCorrect?"":""}

`});const Rn=new Blob([Pn],{type:"text/plain"}),Mn=document.createElement("a");Mn.href=URL.createObjectURL(Rn),Mn.download="CodingCrashers_Quiz_Report.txt",Mn.click()},Sn=[{mode:"text",icon:FileText,label:"Text"},{mode:"voice",icon:Mic,label:"Voice"},{mode:"audio",icon:Upload,label:"Audio"},{mode:"image",icon:Image$1,label:"Image"},{mode:"video",icon:Video,label:"Video"},{mode:"pdf",icon:FileUp,label:"PDF"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsx(BackgroundEffects,{}),jsxRuntimeExports.jsx(Navbar,{}),a&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background",children:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-primary"})}),!a&&!s&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40 bg-background/95 backdrop-blur-sm flex items-center justify-center p-4",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:jsxRuntimeExports.jsx(Card,{variant:"glass",className:"text-center",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-primary/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lock,{className:"w-10 h-10 text-primary"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Login Required"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login or create an account to access the Dashboard and use AI-powered flashcard and quiz features."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>e("/login"),children:"Login"}),jsxRuntimeExports.jsx(Button,{variant:"glow",onClick:()=>e("/register"),children:"Sign Up"})]})]})})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:Tt&&Dt&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 left-1/2 -translate-x-1/2 z-[100] bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Security Warning!"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[Tt," (",3-xn," left)"]})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:Dt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/95 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsx(motion.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"w-full max-w-2xl",children:jsxRuntimeExports.jsxs(Card,{variant:"glass",className:"relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"absolute top-4 right-4",onClick:Bt,children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})}),Et?jsxRuntimeExports.jsx(CardContent,{className:"p-8 text-center",children:Jt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"w-20 h-20 mx-auto mb-4 text-red-500"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-2 text-red-500",children:"Quiz Terminated"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground mb-6",children:["Security violations: ",xn]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Bt,children:"Close"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Trophy,{className:"w-20 h-20 mx-auto mb-4 text-yellow-500"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-500",children:Lt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Correct"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20",children:[jsxRuntimeExports.jsx(XCircle,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-500",children:st}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrong"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/20",children:[jsxRuntimeExports.jsx(Target,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-primary",children:[mn(),"%"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Score"})]})]}),jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg mb-6 flex items-center justify-center gap-2 ${xn>0?"bg-yellow-500/10 text-yellow-400":"bg-green-500/10 text-green-400"}`,children:xn>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:[xn," violations"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"No violations"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Bt,children:"Close"}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:gn,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Report"]}),jsxRuntimeExports.jsxs(Button,{variant:"glow",onClick:()=>{Pt(!1),zt(0),At(""),St(0),lt(0),Nt(new Date),rn(0),Ht([...$t].sort(()=>Math.random()-.5))},children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),"Retry"]})]})]})}):jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 text-xs text-green-400",children:[jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Anti-cheat active"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Q ",Ut+1,"/",$t.length]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-green-500",children:[" ",Lt]}),jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:[" ",st]})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:jsxRuntimeExports.jsx(motion.div,{className:"bg-primary h-2 rounded-full",animate:{width:`${(Ut+1)/$t.length*100}%`}})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-8",children:(Nn=$t[Ut])==null?void 0:Nn.question}),jsxRuntimeExports.jsx(AnimatePresence,{children:Kt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`mb-4 p-4 rounded-lg flex items-center gap-3 ${un?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:un?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{children:"Correct!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(XCircle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"block",children:"Incorrect"}),jsxRuntimeExports.jsxs("span",{className:"text-sm opacity-80",children:["Answer: ",(In=$t[Ut])==null?void 0:In.answer]})]})]})})}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Your answer...",value:xt,onChange:tn=>At(tn.target.value),className:"min-h-[120px] mb-4",disabled:Kt}),jsxRuntimeExports.jsx(Button,{variant:"glow",className:"w-full",onClick:Wn,disabled:ot||!xt.trim()||Kt,children:ot?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),"Evaluating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"}),"Submit"]})})]})]})})})}),jsxRuntimeExports.jsx("main",{className:"pt-24 pb-12 px-4",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl",children:[jsxRuntimeExports.jsxs(motion.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-2",children:jsxRuntimeExports.jsx("span",{className:"gradient-text",children:"Dashboard"})}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Create flashcards from your study notes using AI"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8 flex gap-2 p-1 bg-secondary/50 rounded-lg w-fit",children:[jsxRuntimeExports.jsxs(Button,{variant:mt==="flashcard"?"default":"ghost",onClick:()=>Ct("flashcard"),className:"gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"}),"Flashcard"]}),jsxRuntimeExports.jsxs(Button,{variant:mt==="quiz"?"default":"ghost",onClick:()=>Ct("quiz"),className:"gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-4 h-4"}),"Quiz"]})]}),mt==="flashcard"?jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs(Card,{variant:"glass",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-primary"}),"Input"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:Sn.map(tn=>jsxRuntimeExports.jsxs(Button,{variant:it===tn.mode?"default":"secondary",size:"sm",onClick:()=>ut(tn.mode),className:"flex flex-col h-auto py-2 gap-1",children:[jsxRuntimeExports.jsx(tn.icon,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:tn.label})]},tn.mode))}),jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[it==="text"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Paste your study notes here...",value:c,onChange:tn=>d(tn.target.value),className:"min-h-[200px]"})},"text"),it==="voice"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex items-center justify-center",children:jsxRuntimeExports.jsx(AudioRecorder,{onTranscription:Vn})},"voice"),it==="audio"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:Cn,accept:"audio/*",onChange:On,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=Cn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-primary/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-primary/60 transition-all",children:[jsxRuntimeExports.jsx(Upload,{className:"w-10 h-10 text-primary/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload audio"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"audio"),it==="image"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:bn,accept:"image/*",onChange:$n,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=bn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-pink-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-pink-500/60 transition-all",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-10 h-10 text-pink-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload image (OCR)"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-pink-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"image"),it==="video"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:kn,accept:"video/*",onChange:Hn,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=kn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-orange-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-orange-500/60 transition-all",children:[jsxRuntimeExports.jsx(Video,{className:"w-10 h-10 text-orange-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload video"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"video"),it==="pdf"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:en,accept:".pdf",onChange:Dn,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=en.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-yellow-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-yellow-500/60 transition-all",children:[jsxRuntimeExports.jsx(FileUp,{className:"w-10 h-10 text-yellow-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload PDF"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"pdf")]}),c&&it!=="text"&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Extracted:"}),jsxRuntimeExports.jsx("p",{className:"text-sm line-clamp-3",children:c})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:"# Cards"}),jsxRuntimeExports.jsx(Input,{type:"number",min:1,max:20,value:g,onChange:tn=>h(parseInt(tn.target.value)||5)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:""}),jsxRuntimeExports.jsx(Button,{variant:"glow",className:"w-full",onClick:Un,disabled:b||!c.trim()||dt,children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"}),"Generate"]})})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{variant:"glass",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-primary"}),"Flashcards"]})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:j.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Card ",_e+1,"/",j.length]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>vn(!pn),children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Export"]}),pn&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-card border border-border rounded-lg shadow-lg z-10 overflow-hidden",children:[jsxRuntimeExports.jsx("button",{onClick:dn,className:"w-full px-4 py-2 text-sm text-left hover:bg-secondary",children:" TXT"}),jsxRuntimeExports.jsx("button",{onClick:hn,className:"w-full px-4 py-2 text-sm text-left hover:bg-secondary",children:" CSV"})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Ln,children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),"Reset"]})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},children:jsxRuntimeExports.jsx(Flashcard,{question:j[_e].question,answer:j[_e].answer,index:_e})},_e)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:ln,disabled:_e===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),"Prev"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:j.map((tn,Pn)=>jsxRuntimeExports.jsx("button",{className:`w-2 h-2 rounded-full ${Pn===_e?"bg-primary":"bg-muted"}`,onClick:()=>{ct(Pn),et(""),ht(null)}},Pn))}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:an,disabled:_e===j.length-1,children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-border space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Test yourself...",value:nt,onChange:tn=>et(tn.target.value),className:"flex-1"}),jsxRuntimeExports.jsx(Button,{variant:"glow",onClick:En,disabled:ot||!nt.trim(),children:ot?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:at!==null&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex items-center gap-2 p-3 rounded-lg ${at?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:at?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Correct!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(XCircle,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Try again"})]})})})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-16 h-16 text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Flashcards Yet"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Enter notes and click Generate"})]})})]})]}):jsxRuntimeExports.jsxs(Card,{variant:"glass",className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-primary"}),"Quiz Mode"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:Sn.map(tn=>jsxRuntimeExports.jsxs(Button,{variant:it===tn.mode?"default":"secondary",size:"sm",onClick:()=>ut(tn.mode),className:"flex flex-col h-auto py-2 gap-1",children:[jsxRuntimeExports.jsx(tn.icon,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:tn.label})]},tn.mode))}),jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[it==="text"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Paste your study notes...",value:c,onChange:tn=>d(tn.target.value),className:"min-h-[200px]"})},"text"),it==="voice"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex items-center justify-center",children:jsxRuntimeExports.jsx(AudioRecorder,{onTranscription:Vn})},"voice"),it==="audio"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:Cn,accept:"audio/*",onChange:On,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=Cn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-primary/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-primary/60 transition-all",children:[jsxRuntimeExports.jsx(Upload,{className:"w-10 h-10 text-primary/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload audio file"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"audio"),it==="image"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:bn,accept:"image/*",onChange:$n,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=bn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-pink-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-pink-500/60 transition-all",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-10 h-10 text-pink-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload image (OCR)"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-pink-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"image"),it==="video"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:kn,accept:"video/*",onChange:Hn,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=kn.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-orange-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-orange-500/60 transition-all",children:[jsxRuntimeExports.jsx(Video,{className:"w-10 h-10 text-orange-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload video"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"video"),it==="pdf"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[200px] flex flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:en,accept:".pdf",onChange:Dn,className:"hidden"}),jsxRuntimeExports.jsxs("div",{onClick:()=>{var tn;return(tn=en.current)==null?void 0:tn.click()},className:"w-full h-32 border-2 border-dashed border-yellow-500/30 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-yellow-500/60 transition-all",children:[jsxRuntimeExports.jsx(FileUp,{className:"w-10 h-10 text-yellow-500/60 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload PDF"})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:gt})]})]},"pdf")]}),c&&it!=="text"&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Extracted:"}),jsxRuntimeExports.jsx("p",{className:"text-sm line-clamp-3",children:c})]}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 p-4 bg-secondary/30 rounded-xl",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:"# Questions"}),jsxRuntimeExports.jsx(Input,{type:"number",min:3,max:20,value:yn,onChange:tn=>wn(parseInt(tn.target.value)||5)})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsx(Button,{variant:"glow",className:"w-full gap-2",onClick:Gn,disabled:b||!c.trim(),children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"}),"Start Quiz"]})})})]})]})]})]})})]})},queryClient=new QueryClient,App=()=>jsxRuntimeExports.jsxs(QueryClientProvider,{client:queryClient,children:[jsxRuntimeExports.jsx($e,{position:"top-center",richColors:!0}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Register,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl",children:"404 - Not Found"})})})]})})]});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
